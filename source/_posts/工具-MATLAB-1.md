---
title: MATLAB入门
date: 2019-03-25 13:18:59
tags:
 - 工具
 - MATLAB
categories:
 - 工具
 - MATLAB
---

### 前言

MATLAB（矩阵实验室）是由美国MathWorks公司开发的第四代高层次的编程语言和交互式环境数值计算，可视化和编程；

MATLAB允许矩阵操作、绘制函数和数据、算法实现、创建用户界面；

MATLAB能和在其他语言，包括C、C++、Java和Fortran语言编写的程序接口；

MATLAB可以分析数据、开发算法、建立模型和应用程序；

MATLAB拥有众多的内置命令和数学函数，可以帮助您在数学计算，绘图和执行数值计算方法。

<!--more-->

利用MATLAB计算数学的方方面面。以下是一些常用的数学计算，它最常用于：

- 矩阵和阵列处理
- 2-D和3-D绘图和图形
- 线性代数
- 代数方程组
- 非线性函数
- 统计
- 数据分析
- 微积分和微分方程
- 数值计算
- 积分
- 变换
- 曲线拟合
- 各种其它的特殊功能

MATLAB被广泛用来作为计算工具在科学和工程涵盖领域物理，化学，数学和工程流。它在一定范围内的应用，包括：

- 数值分析
- 数值和符号计算
- 信号处理和通信
- 控制系统的设计与仿真
- 图像和视频处理
- 工程与科学绘图
- 测试和测量
- 财务与金融工程
- 计算生物学
- 管理与调度优化计算（运筹学）

### 安装

**安装MATLAB**的过程很简单，最重要的是要找到可靠的下载资源。对此，我们需要到 MathWorks 的官方网站进行下载，MathWorks 公司提供的授权版本不单一，根据需要选择下载。

MATLAB下载地址：<https://cn.mathworks.com/downloads/web_downloads>

选择好安装版本后，进入安装链接，然后按照步骤进行即可，这与一般软件的安装没什么差别。

MATLAB桌面包含的面板如下：

- 当前文件夹 - 此面板允许访问项目文件夹和文件。
- 命令窗口 - 这是主要区域，用户在命令行中输入命令，命令提示符(>>).
- 工作区 - 工作区显示所有创建的变量和/或从文件导入。
- 命令历史记录 - 此面板显示或重新运行，在命令行中输入的命令

**安装 GNU Octave**

GNU Octave是一个类MATLAB软件。

假设你想要在你的计算机上使用Octave （Linux，BSD，Mac OS X或Windows），请从网络上下载最新版本的GNU Octave，可以检查你的机器的安装指导。

**在线版MATLAB**

参考：http://www.compileonline.com/execute_matlab_online.php

### M-Files

MATLAB 还允许写入到一个文件中的一系列命令和执行文件完整的单元，就好比是写一个函数，然后调用它。

在开始接下来的学习内容前，我们要先了解在 MATLAB 中的 M 文件有两种类型，详细内容请往下看：

**MATLAB的 M 文件**

MATLAB允许写两个程序文件：

- 脚本 - 脚本文件 .m 扩展程序文件。在这些文件中写的一系列命令，想一起执行。脚本不接受输入和不返回任何输出。他们在工作区中的数据操作。
- 函数 - 函数文件 .m 扩展程序文件。函数可以接受输入和返回输出。内部变量是本地的函数。

.m 文件不一定要使用 MATLAB 编辑器创建，其他任何的文本编辑器也是可以的。在本节中，我们将讨论的脚本文件。MATLAB 命令和函数调用的脚本文件包含多个连续的行。可以运行一个脚本，在命令行中键入其名称。

**MATLAB创建并运行脚本文件**

创建脚本文件，需要使用文本编辑器。可以打开 MATLAB 编辑器，可使用两个方法：

- 使用命令提示符
- 使用IDE

如果是在命令提示符下使用命令提示符下，键入编辑。这将打开编辑器。可以直接键入编辑，然后在文件名（ .m 扩展程序文件名）

```
edit 
Or
edit <filename>
```

上面的命令将在默认情况下，MATLAB 目录中创建文件。如果想存储在一个特定的文件夹中的所有程序文件，那么一定要提供整个路径。

让我们创建一个文件夹名为 progs。在命令提示符处键入以下命令（>>）：

```
mkdir progs    % create directory progs under default directory
chdir progs    % changing the current directory to progs
edit  prog1.m  % creating an m file named prog1.m
```

如果首次创建的文件，MATLAB 会提示您进行确认。单击“Yes”。

另外，如果使用的是IDE，选择 NEW -> Script。这也打开编辑器，并创建一个文件名为命名。输入代码后可以命名并保存文件。

在编辑器中输入下面的代码：

```
NoOfStudents = 6000;
TeachingStaff = 150;
NonTeachingStaff = 20;
Total = NoOfStudents + TeachingStaff ...
    + NonTeachingStaff;
disp(Total);
```

创建和保存文件后，可以运行在两个方面：

- 编辑器窗口中单击“Run”按钮或
- 只要在命令提示符下键入文件名（不含扩展名）：>> prog1

命令窗口提示显示的结果是：

```
6170
```

**例子**

我们在MATLAB中创建一个脚本文件，然后输入下面的代码：

```
a = 5; b = 7;
c = a + b
d = c + sin(b)
e = 5 * d
f = exp(-d)
```

编译并执行上述代码，会产生以下结果：

```
c =
    12
d =
   12.6570
e =
   63.2849
f =
   3.1852e-06
```

### 常见语法

#### MATLAB特殊变量和常量

MATLAB支持以下特殊变量和常量：

| Name    | Meaning                                  |
| ------- | ---------------------------------------- |
| **ans** | 默认的变量名，以应答最近依次操作运算结果 |
| **eps** | 浮点数的相对误差                         |
| **i,j** | 虚数单位，定义为 i2 = j2 = -1            |
| **Inf** | 代表无穷大                               |
| **NaN** | 代表不定值（不是数字）                   |
| **pi**  | 圆周率                                   |

#### MATLAB命名变量

变量名称是由一个字母后由任意数量的字母，数字或下划线。

注意MATLAB中是区分大小写的。

变量名可以是任意长度，但是，MATLAB使用只有前N个字符，其中N是由函数namelengthmax。

#### 保存你的工作进度

MATLAB使用save命令保存工作区中的所有变量，然后作为一个扩展名为.mat的文件，在当前目录中。 

如以下例子：

```
save myfile
```

该文件可以随时重新加载，然后使用load命令。

```
load myfile
```

#### 变量

每个**MATLAB变量**可以是数组或者矩阵。

用一个简单的方法指定变量。例如：

```
x = 3	       % defining x and initializing it with a value
```

MATLAB执行上述语句，并返回以下结果：

```
x =
     3
```

上述的例子创建了一个1-1的矩阵名为x和的值存储在其元素中。我们可以看看另外的例子，

```
x = sqrt(16) 	% defining x and initializing it with an expression
```

MATLAB执行上述语句，并返回以下结果：

```
x =
     4
```

**MATLAB注意事项：**

- 在使用变量之前，必须进行赋值。
- 当系统接收到一个变量之后，这个变量可以被引用。

- 当表达式返回一个结果，不分配给任何变量，系统分配给一个变量命名ans，以后可以继续使用。
- MATLAB可以多个赋值，多个任务可以在同一行。
- 在MATLAB中可以使用 who 命令显示所有已经使用的变量名。

whos 命令则显示多一点有关变量：

- 当前内存中的变量
- 每个变量的类型
- 内存分配给每个变量
- 无论他们是复杂的变量与否

clear命令删除所有（或指定）从内存中的变量（S）

长任务可以通过使用省略号（...）延伸到另一条线路

默认情况下，MATLAB 四个小数位值显示数字。这就是所谓的 short format。如果想更精确，需要使用 format 命令。长（long ） 命令格式显示小数点后16位。

**创建向量**

向量是一维数组中的数字。 MATLAB允许创建两种类型的矢量：

- 行向量
- 列向量

创建行向量括在方括号中的元素的集合，用空格或逗号分隔的元素。

创建列向量通过内附组方括号中的元素，使用分号（;)分隔的元素。

**创建矩阵**

矩阵是一个二维数字阵列。

在MATLAB中，创建一个矩阵每行输入空格或逗号分隔的元素序列，最后一排被划定一个分号。

### 命令

#### MATLAB管理会话的命令

MATLAB提供管理会话的各种命令。如下表所示：

| 命令             | 目的/作用                |
| ---------------- | ------------------------ |
| clc              | 清除命令窗口。           |
| clear            | 从内存中删除变量。       |
| exist <file/var> | 检查存在的文件或变量。   |
| global           | 声明变量为全局。         |
| help <COMMAND>   | 搜索帮助主题。           |
| lookfor          | 搜索帮助关键字条目。     |
| quit             | 停止MATLAB。             |
| who              | 列出当前变量。           |
| whos             | 列出当前变量（长显示）。 |

#### MATLAB的系统命令

使用MATLAB的时候有一些系统命令可以方便我们的操作，如在当前的工作区中可以使用系统命令保存为一个文件、加载文件、显示日期、列出目录中的文件和显示当前目录等。

下表列举了一些MATLAB常用的系统相关的命令：

| 命令    | 目的/作用                        |
| ------- | -------------------------------- |
| cd      | 改变当前目录。                   |
| date    | 显示当前日期。                   |
| delete  | 删除一个文件。                   |
| diary   | 日记文件记录开/关切换。          |
| dir     | 列出当前目录中的所有文件。       |
| load    | 负载工作区从一个文件中的变量。   |
| path    | 显示搜索路径。                   |
| pwd     | 显示当前目录。                   |
| save    | 保存在一个文件中的工作区变量。   |
| type    | 显示一个文件的内容。             |
| what    | 列出所有MATLAB文件在当前目录中。 |
| wklread | 读取.wk1电子表格文件。           |

#### MATLAB输入和输出命令

MATLAB提供了以下输入和输出相关的命令：

| 命令    | 作用/目的                    |
| ------- | ---------------------------- |
| disp    | 显示一个数组或字符串的内容。 |
| fscanf  | 阅读从文件格式的数据。       |
| format  | 控制屏幕显示的格式。         |
| fprintf | 执行格式化写入到屏幕或文件。 |
| input   | 显示提示并等待输入。         |
| ;       | 禁止显示网版印刷             |

fscanf和fprintf命令的行为像C scanf和printf函数。他们支持格式如下代码：

| 格式代码 | 目的/作用                                  |
| -------- | ------------------------------------------ |
| **%s**   | 输出字符串                                 |
| **%d**   | 输出整数                                   |
| **%f**   | 输出浮点数                                 |
| **%e**   | 显示科学计数法形式                         |
| **%g**   | %f 和%e 的结合，根据数据选择适当的显示方式 |

用于数字显示格式的函数有以下几种形式：

| Format函数     | 最多可显示           |
| -------------- | -------------------- |
| format short   | 四位十进制数（默认） |
| format long    | 15位定点表示         |
| format short e | 五位浮点表示         |
| format long e  | 15位浮点表示         |
| format bank    | 两个十进制数字       |
| format +       | 正，负或零           |
| format rat     | 有理数近似           |
| format compact | 变量之间没有空行     |
| format loose   | 变量之间有空行       |

#### MATLAB向量，矩阵和阵列命令

下表列出了MATLAB用于工作数组、矩阵和向量的各种命令：

| 命令     | 作用/目的                      |
| -------- | ------------------------------ |
| cat      | 连接数组                       |
| find     | 查找非零元素的索引             |
| length   | 计算元素数量                   |
| linspace | 创建间隔向量                   |
| logspace | 创建对数间隔向量               |
| max      | 返回最大元素                   |
| min      | 返回最小元素                   |
| prod     | 计算数组元素的连乘积           |
| reshape  | 重新调整矩阵的行数、列数、维数 |
| size     | 计算数组大小                   |
| sort     | 排序每个列                     |
| sum      | 每列相加                       |
| eye      | 创建一个单位矩阵               |
| ones     | 生成全1矩阵                    |
| zeros    | 生成零矩阵                     |
| cross    | 计算矩阵交叉乘积               |
| dot      | 计算矩阵点积                   |
| det      | 计算数组的行列式               |
| inv      | 计算矩阵的逆                   |
| pinv     | 计算矩阵的伪逆                 |
| rank     | 计算矩阵的秩                   |
| rref     | 将矩阵化成行最简形             |
| cell     | 创建单元数组                   |
| celldisp | 显示单元数组                   |
| cellplot | 显示单元数组的图形表示         |
| num2cell | 将数值阵列转化为异质阵列       |
| deal     | 匹配输入和输出列表             |
| iscell   | 判断是否为元胞类型             |

#### MATLAB绘图命令

MATLAB提供了大量的命令绘制图表。下表列出了一些常用的命令绘制：

| 命令      | 作用/目的                  |
| --------- | -------------------------- |
| axis      | 人功选择坐标轴尺寸         |
| fplot     | 智能绘图功能               |
| grid      | 显示网格线                 |
| plot      | 生成XY图                   |
| print     | 打印或绘图到文件           |
| title     | 把文字置于顶部             |
| xlabel    | 将文本标签添加到x轴        |
| ylabel    | 将文本标签添加到y轴        |
| axes      | 创建轴对象                 |
| close     | 关闭当前的绘图             |
| close all | 关闭所有绘图               |
| figure    | 打开一个新的图形窗口       |
| gtext     | 通过鼠标在指定位置放注文   |
| hold      | 保持当前图形               |
| legend    | 鼠标放置图例               |
| refresh   | 重新绘制当前图形窗口       |
| set       | 指定对象的属性，如轴       |
| subplot   | 在子窗口中创建图           |
| text      | 在图上做标记               |
| bar       | 创建条形图                 |
| loglog    | 创建双对数图               |
| polar     | 创建极坐标图像             |
| semilogx  | 创建半对数图（对数横坐标） |
| semilogy  | 创建半对数图（对数纵坐标） |
| stairs    | 创建阶梯图                 |
| stem      | 创建针状图                 |



### 数据类型

MATLAB提供`15`种基本数据类型，分别是8种整型数据、单精度浮点型、双精度浮点型、逻辑型、字符串型、单元数组、结构体类型和函数句柄。每种数据类型存储矩阵或数组形式的数据。矩阵或数组的最小值是`0`到`0`，并且是可以到任何大小的矩阵或数组。

下表显示了MATLAB中最常用的数据类型：

| 数据类型   | 描述                                                         |
| ---------- | ------------------------------------------------------------ |
| `int8`     | `8`位有符号整数                                              |
| `uint8`    | `8`位无符号整数                                              |
| `int16`    | `16`位有符号整数                                             |
| `uint16`   | `16`位无符号整数                                             |
| `int32`    | `32`位有符号整数                                             |
| `uint32`   | `32`位无符号整数                                             |
| `int64`    | `64`位有符号整数                                             |
| `uint64`   | `64`位无符号整数                                             |
| `single`   | 单精度数值数据                                               |
| `double`   | 双精度数值数据                                               |
| `logical`  | 逻辑值为`1`或`0`，分别代表`true`和`false`                    |
| `char`     | 字符数据(字符串作为字符向量存储)                             |
| 单元格阵列 | 索引单元阵列，每个都能够存储不同维数和数据类型的数组         |
| 结构体     | C型结构，每个结构具有能够存储不同维数和数据类型的数组的命名字段 |
| 函数处理   | 指向一个函数的指针                                           |
| 用户类     | 用户定义的类构造的对象                                       |
| Java类     | 从Java类构造的对象                                           |

**数据类型转换**

MATLAB提供了各种用于将一种数据类型转换为另一种数据类型的函数。 下表显示了数据类型转换函数：

| 函数             | 描述说明                                       |
| ---------------- | ---------------------------------------------- |
| `char`           | 转换为字符数组(字符串)                         |
| `int2str`        | 将整数数据转换为字符串                         |
| `mat2str`        | 将矩阵转换为字符串                             |
| `num2str`        | 将数字转换为字符串                             |
| `str2double`     | 将字符串转换为双精度值                         |
| `str2num`        | 将字符串转换为数字                             |
| `native2unicode` | 将数字字节转换为Unicode字符                    |
| `unicode2native` | 将Unicode字符转换为数字字节                    |
| `base2dec`       | 将基数N字符串转换为十进制数                    |
| `bin2dec`        | 将二进制数字串转换为十进制数                   |
| `dec2base`       | 将十进制转换为字符串中的N数字                  |
| `dec2bin`        | 将十进制转换为字符串中的二进制数               |
| `dec2hex`        | 将十进制转换为十六进制数字                     |
| `hex2dec`        | 将十六进制数字字符串转换为十进制数             |
| `hex2num`        | 将十六进制数字字符串转换为双精度数字           |
| `num2hex`        | 将单数转换为IEEE十六进制字符串                 |
| `cell2mat`       | 将单元格数组转换为数组                         |
| `cell2struct`    | 将单元格数组转换为结构数组                     |
| `cellstr`        | 从字符数组创建字符串数组                       |
| `mat2cell`       | 将数组转换为具有潜在不同大小的单元格的单元阵列 |
| `num2cell`       | 将数组转换为具有一致大小的单元格的单元阵列     |
| `struct2cell`    | 将结构转换为单元格数组                         |

**数据类型确定**

MATLAB提供了用于识别变量数据类型的各种函数。

下表提供了确定变量数据类型的函数：

| 函数                 | 描述说明                     |
| -------------------- | ---------------------------- |
| `is`                 | 检测状态                     |
| `isa`                | 确定输入是否是指定类的对象   |
| `iscell`             | 确定输入是单元格数组         |
| `iscellstr`          | 确定输入是字符串的单元格数组 |
| `ischar`             | 确定项目是否是字符数组       |
| `isfield`            | 确定输入是否是结构数组字段   |
| `isfloat`            | 确定输入是否为浮点数组       |
| `ishghandle`         | 确定是否用于处理图形对象句柄 |
| `isinteger`          | 确定输入是否为整数数组       |
| `isjava`             | 确定输入是否为Java对象       |
| `islogical`          | 确定输入是否为逻辑数组       |
| `isnumeric`          | 确定输入是否是数字数组       |
| `isobject`           | 确定输入是否为MATLAB对象     |
| `isreal`             | 检查输入是否为实数数组       |
| `isscalar`           | 确定输入是否为标量           |
| `isstr`              | 确定输入是否是字符数组       |
| `isstruct`           | 确定输入是否是结构数组       |
| `isvector`           | 确定输入是否为向量           |
| `class`              | 确定对象的类                 |
| `validateattributes` | 检查数组的有效性             |
| `whos`               |                              |

### 运算符

MATLAB 的基本运算类型：

- 算术运算符
- 逻辑运算符
- 关系运算符
- 位运算
- 集合运算

#### 算术运算

MATLAB的算术运算有两种不同类型：1）矩阵算术运算；2）阵列算术运算。

MATLAB矩阵算术运算与线性代数中的定义相同：执行数组操作，无论是在一维和多维数组元素的元素。

矩阵运算符和数组运营商是有区别的句点（.）符号。然而，由于加法和减法运算矩阵和阵列是相同的，操作者这两种情况下是相同的。

下表给出了运算符的简要说明：

| 操作符  | 描述                                                         |
| ------- | ------------------------------------------------------------ |
| **+**   | 加法或一元加号。A + B将A和B。 A和B必须具有相同的尺寸，除非一个人是一个标量。一个标量，可以被添加到任何大小的矩阵。 |
| **-**   | 减法或一元减号。A - B，减去B从A和B必须具有相同的大小，除非是一个标量。可以从任意大小的矩阵中减去一个标量。 |
| *****   | 矩阵乘法；是一个更精确的矩阵A和B的线性代数积，矩阵乘法对于非纯量A和B，列一个数必须等于B.标量可以乘以一个任意大小的矩阵的行数。![Matrix Multiplication](http://www.yiibai.com/uploads/allimg/131001/1643251036-0.jpg) |
| **.\*** | 数组的乘法；A.*B是数组A和B的元素积，A和B必须具有相同的大小，除非A、B中有一个是标量。 |
| **/**   | 斜线或矩阵右除法；B/A与B * inv（A）大致相同。更确切地说： B/A = (A'B')' |
| **./**  | 矩阵右除法；矩阵A与矩阵B相应元素相除（A、B为同纬度的矩阵）   |
| **.\**  | 反斜杠或矩阵左除；如果A是一个方阵，AB是大致相同的INV（A）* B，除非它是以不同的方式计算。如果A是一个n*n的矩阵，B是一个n组成的列向量，或是由若干这样的列的矩阵，则X = AB 是方程 AX = B ，如果A严重缩小或者几乎为单数，则显示警告消息。 |
| **.**   | 数组左除法；A. B是元素B（i，j）/A（i，j）的矩阵。A和B必须具有相同的大小，除非其中一个是标量。 |
| **^**   | 矩阵的幂。X^P是X到幂P，如果p是标量；如果p是一个整数，则通过重复平方计算功率。如果整数为负数，X首先反转。对P值的计算，涉及到特征值和特征向量，即如果[ D ] = V，EIG（x），那么X^P = V * D.^P / V。 |
| **.^**  | A.^B：A的每个元素的B次幂（A、B为同纬度的矩阵）               |
| **'**   | 矩阵的转置；A'是复数矩阵A的线性代数转置，这是复共轭转置。    |
| **.'**  | 数组的转置；A'是数组A的转置，对于复数矩阵，这不涉及共轭。    |

除了上述列举的一些算术运算符，MATLAB 中还拥有以下的命令/功能：

| 函数                                     | 描述                                                         |
| ---------------------------------------- | ------------------------------------------------------------ |
| uplus(a)                                 | 一元加号；增加量a                                            |
| plus (a,b)                               | 相加；返回 a + b                                             |
| uminus(a)                                | 一元减号；减少a                                              |
| minus(a, b)                              | 相减；返回 a - b                                             |
| times(a, b)                              | 数组相乘；返回 a.*b                                          |
| mtimes(a, b)                             | 矩阵相乘；返回 a* b                                          |
| rdivide(a, b)                            | 右阵划分；返回 a ./ b                                        |
| ldivide(a, b)                            | 左阵划分；返回 a. b                                          |
| mrdivide(A, B)                           | 求解线性方程组xA = B for x                                   |
| mldivide(A, B)                           | 求解线性方程组xA = B for x                                   |
| power(a, b)                              | 数组求幂；返回 a.^b                                          |
| mpower(a, b)                             | 矩阵求幂；返回 a ^ b                                         |
| cumprod(A)                               | 累积乘积；返回与包含累积乘积的数组A相同大小的数组。如果A是向量，则cumprod（A）返回一个包含A的元素的累积乘积的向量。如果A是矩阵，则cumprod（A）返回一个矩阵，其中包含A的每一列的累积乘积。如果A是一个多维数组，那么cumprod（A）将沿着第一个非正整数维。 |
| cumprod(A, dim)                          | 沿维 *dim* 返回返回累积乘积。                                |
| cumsum(A)                                | 累加总和；返回包含累积和的数组A如果A是向量，则cumsum（A）返回一个包含A的元素的累积和的向量。如果A是矩阵，则cumsum（A）返回一个矩阵，其中包含A的每列的累积和。如果A是一个多维数组，那么cumsum（A）将沿着第一个非整数维度起作用。 |
| cumsum(A, dim)                           | 返回沿着dim的元素的累积和。                                  |
| diff(X)                                  | 差分和近似导数；计算x相邻元素之间的差异。如果X是向量，则diff（X）返回相邻元素之间的差异的向量，比X短一个元素：[X（2）-X（1）X（3）-X（2）... X（N）-X（N-1）]如果X是一个矩阵，则diff（X）返回行差的矩阵：[X（2：m，...）-X（1：m-1，:)] |
| diff(X,n)                                | 递归应用n次，导致第n个差异。                                 |
| diff(X,n,dim)                            | 它是沿标量dim指定的维数计算的第n个差分函数。 如果order n等于或超过Dim的长度，diff将返回一个空数组。 |
| prod(A)                                  | 数组元素的乘积；返回A数组元素的乘积。如果A是向量，则prod（A）返回元素的乘积。如果A是非空矩阵，则prod（A）将A的列作为向量，并返回每列乘积的行向量。如果A是一个空的0-by-0矩阵，则prod（A）返回1。如果A是一个多维数组，那么prod（A）将沿着第一个非子集维度行为并返回一个乘积数组。 该维数的尺寸减小到1，而所有其他维数的尺寸保持不变。如果输入A为单个，则prod函数计算并返回B为单个；对于所有其他数字和逻辑数据类型，prod函数计算并返回B为double。 |
| prod(A,dim)                              | 沿dim维度返回乘积。 例如，如果A是矩阵，则prod（A，2）是包含每一行的乘积的列向量。 |
| prod(___,datatype)                       | 在数据类型指定的类中乘以并返回一个数组。                     |
| sum(A)                                   | 数组元素的总和；返回数组的不同维度的和。如果A是浮动的，那么是双倍或单个，B是本地累加的，它与A相同，B与A具有相同的类。如果A不是浮动的，则B被累加为双，B具有类double。如果A是向量，则sum（A）返回元素的总和。如果A是矩阵，则sum（A）将A的列作为向量，返回每列的和的行向量。如果A是一个多维数组，sum（A）将沿着第一个非单例维度的值作为向量来处理，返回一个行向量的数组。 |
| sum(A,dim)                               | 沿标量A的维度求和。                                          |
| sum(..., 'double')sum(..., dim,'double') | 执行双精度加法，并返回double类型的答案，即使A具有数据类型单一或整型数据类型。这是整型数据类型的默认值。 |
| sum(..., 'native')sum(..., dim,'native') | 在本机数据类型A中执行添加，并返回相同数据类型的答案。 这是单和双的默认值。 |
| ceil(A)                                  | 向正无穷方向舍入；将a元素舍入为大于或等于A的最近整数。       |
| fix(A)                                   | 舍入为零                                                     |
| floor(A)                                 | 向负无穷方向舍入；将a元素舍入为小于或等于a的最近整数。       |
| idivide(a, b)idivide(a, b,'fix')         | 整数除法的舍入选项；与A./B相同，只是分数的商向零舍入到最接近的整数。 |
| idivide(a, b, 'round')                   | 分数的商舍入到最近的整数。                                   |
| idivide(A, B, 'floor')                   | 分数商向负无穷大舍入到最接近的整数。                         |
| idivide(A, B, 'ceil')                    | 分数商向无穷大舍入到最接近的整数。                           |
| mod (X,Y)                                | 除法后的模数；返回X - n.* Y，其中 n = floor（X./Y）。 如果Y不是整数，并且商X / Y在整数的舍入误差内，则n是整数。 输入X和Y必须是相同大小的真实数组或实数标量（提供Y〜= 0）。请注意：mod(X,0) 是 Xmod(X,X) 是 0对于 X ＝ Y 和 Y ＝ 0的 mod(X，Y)具有与Y相同的符号。 |
| rem (X,Y)                                | 除法之后的余数；返回X - n.* Y，其中n = fix（X./Y）。 如果Y不是整数，并且商X / Y在整数的舍入误差内，则n是整数。 输入X和Y必须是相同大小的真实数组或实数标量（提供Y〜= 0）。请记住：rem(X,0) 是 NaNX〜= 0的rem（X，X）为0对于 X~=Y 和 Y~=0 的rem（X，Y）与X具有相同的符号。 |
| round(X)                                 | 舍入到最接近的整数; 将X的元素舍入到最接近的整数。 正数元素的小数部分为0.5，最大到最接近的正整数。 负数元素的小数部分为-0.5，向下舍入到最接近的负整数。 |



#### 逻辑运算

**MATLAB逻辑运算**都是针对元素的操作，运算结果是特殊的逻辑数组；在逻辑分析时，逻辑（真）用1表示，逻辑假用0表示，逻辑运算中所有的非零元素作为1处理。

**注意：**

> 使用MATLAB逻辑运算时的语法不要与C语言、Java等编程语言混淆。

MATLAB 有两种类型的逻辑运算符和函数：

- Element-wise - 这些运算上的对应元素的逻辑阵列。
- Short-circuit - 这些运算上的标量，逻辑表达式。

MATLAB元素明智的逻辑运算符操作元素元素逻辑阵列：符号＆，|和〜逻辑数组运算符AND，OR，NOT。

MATLAB允许短路的短路逻辑运算符，逻辑运算：符号&&和| |是短路逻辑符AND和OR。

除了在上述的逻辑运算符，MATLAB 提供下面的命令或函数用于同样的目的：

| 函数                                      | 描述                                                         |
| ----------------------------------------- | ------------------------------------------------------------ |
| and(A, B)                                 | 查找数组或标量输入的逻辑和；执行所有输入数组A，B等的逻辑AND，并返回包含设置为逻辑1（真）或逻辑0（假）的元素的数组。如果所有输入数组在同一个数组位置都包含一个非零元素，那么输出数组的一个元素将被设置为1；否则，该元素设置为0。 |
| not(A)                                    | 查找数组或标量输入的逻辑NOT；执行输入数组A的逻辑NOT，并返回包含设置为逻辑1（真）或逻辑0（假）的元素的数组。如果输入数组在同一个数组位置包含一个零值元素，那么输出数组的一个元素将被设置为1；否则，该元素设置为0。 |
| or(A, B)                                  | 查找数组或标量输入的逻辑或； 执行所有输入数组A，B等的逻辑或，并返回包含设置为逻辑1（真）或逻辑0（假）的元素的数组。如果任何输入数组在同一个数组位置包含一个非零元素，则输出数组的一个元素设置为1；否则，该元素设置为0。 |
| xor(A, B)                                 | 逻辑异或; 对数组A和B的相应元素执行异或运算。如果A（i，j，...）或B（i，j）...，则所得到的元素C（i，j，...） j，...），但不是两者都是非零的。 |
| all(A)                                    | 确定数组A的所有数组元素是否为非零或真。如果A是向量，则如果所有元素都为非零，则所有（A）返回逻辑1（真），如果一个或多个元素为零，则返回逻辑0（假）。如果A是非空矩阵，则所有（A）将A的列视为向量，返回逻辑1和0的行向量。如果A是空的0x0矩阵，则全部（A）返回逻辑1（真）。如果A是一个多维数组，则所有（A）都沿着第一个非指定维度行事，并返回一个逻辑值数组。 该尺寸的尺寸减小到1，而所有其他尺寸的尺寸保持不变。这个维度的大小减少到1，而其他所有维度的尺寸保持不变。 |
| all(A, dim)                               | 通过标量dim沿着维数A的维度进行测试。                         |
| any(A)                                    | 确定数组元素是否为非零；测试数组中不同维度的元素是否为非零数字，或是逻辑1（真）。 任何函数忽略NaN（不是数字）的条目。如果A是向量，任何（A）如果A的任何元素是非零数或逻辑1（真），则返回逻辑1（真），如果所有元素为零，则返回逻辑0（假）。如果A是非空矩阵，则任何（A）将A的列视为向量，返回逻辑1和0的行向量。如果A是一个空的0x0矩阵，任何（A）返回逻辑0（假）。如果A是一个多维数组，则任何（A）都沿着第一个非整数维进行操作，并返回一个逻辑值数组。该维度的尺寸减小到1，而所有其他维度的尺寸保持不变。 |
| any(A,dim)                                | 通过标量dim沿着维数A的维度进行测试。                         |
| false                                     | 逻辑0（假）                                                  |
| false(n)                                  | 是逻辑0的n×n矩阵                                             |
| false(m, n)                               | 是逻辑0的一个m×n矩阵。                                       |
| false(m, n, p, ...)                       | 是由逻辑0的逐列逐列数组。                                    |
| false(size(A))                            | 是与数组A大小相同的逻辑零数组。                              |
| false(...,'like',p)                       | 是与逻辑阵列p相同的数据类型和稀疏性的逻辑零数组。            |
| ind = find(X)                             | 查找非零元素的索引和值；定位数组X的所有非零元素，并返回向量中这些元素的线性索引。 如果X是行向量，则返回的向量是行向量; 否则返回列向量。如果X不包含非零元素或是空数组，则返回一个空数组。 |
| ind = find(X, k)ind = find(X, k, 'first') | 最多返回与X的非零条目相对应的前k个索引。k必须是正整数，但它可以是任何数字数据类型。 |
| ind = find(X, k, 'last')                  | 最多返回与X的非零条目相对应的最后k个索引。                   |
| [row,col] = find(X, ...)                  | 返回矩阵X中非零条目的行和列索引。使用稀疏矩阵时，此语法特别有用。 如果X是N>2的N维数组，col包含列的线性索引。 |
| [row,col,v] = find(X, ...)                | 返回X中非零条目的列或行向量v，以及行和列索引。如果X是逻辑表达式，则v是逻辑数组。 输出v包含通过评估表达式X获得的逻辑数组的非零元素。 |
| islogical(A)                              | 确定输入是否为逻辑数组；如果A是逻辑数组，返回true，否则返回false。 如果A是从逻辑类派生的类的实例，它也返回true。 |
| logical(A)                                | 将数值转换为逻辑；返回一个可用于逻辑索引或逻辑测试的数组。   |
| true                                      | 逻辑1（真）                                                  |
| true(n)                                   | 是一个n×n逻辑矩阵。                                          |
| true(m, n)                                | 是一个mxn逻辑矩阵。                                          |
| true(m, n, p, ...)                        | 是由逻辑1的逐列逐列数组。                                    |
| true(size(A))                             | 是与数组A大小相同的逻辑数组。                                |
| true(...,'like', p)                       | 是与逻辑阵列p相同的数据类型和稀疏性的逻辑阵列。              |

### 关系运算

**MATLAB关系运算符**对数组的元素进行设置，将元素设置为逻辑1（真）的关系是真实的和逻辑0（假），它是两个阵列，可以返回一个相同大小的逻辑阵列间的比较。

MATLAB关系运算符标和非标量数据上也能正常工作。

MATLAB关系运算符如下表：

| 操作符 | 描述     |
| ------ | -------- |
| **<**  | 小于     |
| **<=** | 小于等于 |
| **>**  | 大于     |
| **>=** | 大于等于 |
| **==** | 等于     |
| **~=** | 不等于   |

#### 位运算

**MATLAB提供位运算**，如'位'，'位或'和'位不操作，移位操作等各种函数

以下的表格显示了常用的按位运算：

| 函数           | 目的/作用                                                    |
| -------------- | ------------------------------------------------------------ |
| bitand(a, b)   | 整数a和b的逐位AND                                            |
| bitcmp(a)      | a的位补码                                                    |
| bitget(a,pos)  | 在指定位置pos中获取位，在整数数组A中                         |
| bitor(a, b)    | 整数a和b的逐位OR                                             |
| bitset(a, pos) | 在某一位置上设置位                                           |
| bitshift(a, k) | 返回向左移位k位，相当于乘以2k。k的负值对应于向右移位或除以2 \| k \| 并舍入到最接近的整数到负无穷大。任何溢出位都被截断。 |
| bitxor(a, b)   | 整数a和b的逐位异或                                           |
| swapbytes      | 交换字节顺序                                                 |

#### 集合运算

**MATLAB中包含多样的函数集合运算**，如集，交集和测试组成员等。

下表显示了一些常用的设置操作：

| 函数                  | 描述                                                         |
| --------------------- | ------------------------------------------------------------ |
| intersect(A,B)        | 设置两个数组的交集；返回A和B所共有的值。返回的值按排序顺序排列。 |
| intersect(A,B,'rows') | 将A和B的每一行作为单个实体处理，并返回A和B的公共行。返回的矩阵的行按排序顺序排列。 |
| ismember(A,B)         | 返回与A大小相同的数组，包含1（true），其中A的元素在其他地方的B中找到，它返回0（false）。 |
| ismember(A,B,'rows')  | 将A和B的每一行作为单个实体处理，并返回一个包含1（true）的向量，其中矩阵A的行也是B的行；否则，它返回0（false）。 |
| issorted(A)           | 如果A的元素按排序顺序返回逻辑1（true），否则返回逻辑0（false）。输入A可以是向量，也可以是N-by-1或1-by-N的字符串数组。如果A和sort（A）的输出相等，则A被认为是排序的。 |
| issorted(A, 'rows')   | 如果二维矩阵A的行按排序顺序返回逻辑1（真），否则返回逻辑0（假）。 如果A和排序（A）的输出相等，则认为矩阵A被排序。 |
| setdiff(A,B)          | 设置两个数组的差值；返回不在B中的值。返回数组中的值按排序顺序排列。 |
| setdiff(A,B,'rows')   | 将每一行A和B行作为单个实体处理，并返回一个不在B中的行。返回的矩阵的行按排序顺序排列。“行”选项不支持单元格数组。 |
| setxor                | 设置两个数组的异或                                           |
| union                 | 设置两个数组的并集                                           |
| unique                | 数组中唯一的值                                               |

### 流程语句

#### 决策语句

MATLAB 提供的决策类型如下表：

| 语句                                          | 描述                                                         |
| --------------------------------------------- | ------------------------------------------------------------ |
| if ... end statement                          | 一个 **if ... end** 语句由一个布尔表达式组成，后跟一个或多个语句。 |
| if...else...end statement                     | 一个 **if** 语句可以跟随一个可选的 **else** 语句，当布尔表达式为false时，该语句将执行。 |
| If... elseif...elseif...else...end statements | 一个 **if** 语句后面可以有一个（或多个）可选 **elseif ...** 和一个 **else** 语句，这对于测试各种条件非常有用。 |
| nested if statements                          | 你可以在另一个 **if** 或 **elseif** 语句中使用一个 **if** 或 **elseif** 语句。 |
| switch statement                              | **一个 switch** 语句允许根据值列表对变量进行相等的测试。     |
| nested switch statements                      | 你可以在另一个 **switch** 语句中使用一个 **swicth** 语句。   |

#### 循环类型

MATLAB 提供以下类型的循环处理循环的要求。点击链接，查看个循环类型的细节：

| 循环类型    | 描述                                                         |
| ----------- | ------------------------------------------------------------ |
| while 循环  | 一个给定的条件为真时重复语句或语句组。测试条件才执行循环体。 |
| for 循环    | 执行的语句序列多次缩写管理循环变量的代码。                   |
| nested 循环 | 可以使用一个或多个环路内任何另一个循环。                     |

循环控制语句可以更改正常的执行顺序，当执行留下了范围，在该范围内所有自动创建的对象被销毁。

MATLAB支持以下控制语句。点击相应链接，可以查看各语句应用。

| 控制语句      | 描述                                                         |
| ------------- | ------------------------------------------------------------ |
| break 语句    | 终止循环语句，将执行的语句紧随循环。                         |
| continue 语句 | 导致循环，跳过它的身体的其余部分，并立即重新再次测试前的状况。 |

### 向量

我们可以创建两种 **MATLAB 向量**类型：

- 行向量
- 列向量

向量之间运算要求类型相同，向量的运算：

- 向量的加减法（向量的元素必须有相同的类型和数量）

- 标量向量乘法（让一个数字乘以一个向量）

- 转置向量（转置操作使用一个单引号 `‘` 来表示）

- 追加向量（行向量追加[r1,r2]；列变量追加[r1;r2]）

- 向量的模

  1. 采取的矢量及自身的积，使用数组相乘（*）。这将产生一个向量sv，其元素是向量的元素的平方和V.

     sv = v.*v;

  2. 使用求和函数得到 v。这也被称为矢量的点积向量的元素的平方的总和V.

     dp= sum(sv);

  3. 使用sqrt函数得到的总和的平方根，这也是该矢量的大小V.

     mag = sqrt(s);

- 向量点积（使用dot(a, b)）

- 等差元素向量（建立一个矢量 v 带的第一个元素 f，最后一个元素 l 和元素之间的区别是任何真正的数 n，v = [f : n : l]）

### 矩阵

在MATLAB中创建矩阵有以下规则：

- 矩阵元素必须在 “**[ ]**” 内；
- 矩阵的同行元素之间用空格（或 “**,**”）隔开；
- 矩阵的行与行之间用 “**;**”（或回车符）隔开；
- 矩阵的元素可以是数值、变量、表达式或函数；
- 矩阵的尺寸不必预先定义。

如果要引用 mth 行和 nth 列的一个元素，写法如下：

```
mx(m, n);
#第2行和第5列中的元素的矩阵
a = [ 1 2 3 4 5; 2 3 4 5 6; 3 4 5 6 7; 4 5 6 7 8];
a(2,5)
#引用m列中的所有元素
v = a(:,m)
#选择第 n 列的 m 个元素
a(:,m:n)
#创建一个子矩阵的一个子部分的矩阵。
sa = a(2:3,2:4)
```

删除行或列矩阵,删除整行或整列的矩阵，只要分配一组空方括号 **[ ]** 给该行或列。

基本上，**[ ]** 表示一个空数组。

```
a( 4 , : ) = []
a(:,4)=[]
```

矩阵的常用算法：

- 矩阵的加法和减法（类型必须相同）

- 矩阵除法（必须具有相同的行数和列数，左除、右除）

- 矩阵的标量操作（加，减，乘或者除以一个数字矩阵。）

- 矩阵的转置（单引号（'）表示）

- 串联矩阵

  MATLAB中使用一对中括号“**[ ]**”，能够将两个矩阵连接起来，创建出一个新矩阵。

  MATLAB串联矩阵的两种类型：

  - 水平串联：要进行连接的两个矩阵是使用逗号 “**,**” 分隔开的。
  - 垂直串联：要进行连接的两个矩阵是使用分号 “**;**” 分隔开的。

- 矩阵乘法（A 是 mxn 矩阵，B 是 nxp 矩阵，那么他们相乘能够产生一个 mxn 的矩阵 C。）

- 矩阵的行列式（计算对应矩阵行列式的值的指令为：d=det(A)，该指令返回矩阵 A 的行列式，并把所得值赋给 d。若 A 仅包含整数项，则该结果 d 也是一个整数。）

- 逆矩阵 

  MATLAB中不是每个矩阵都有逆矩阵的，比如一个矩阵的行列式是零的话，则矩阵的逆就不存在，这样的矩阵是奇异的。

  MATLAB中，逆矩阵的计算使用 inv 函数：逆矩阵A是inv(A).



### 数组

在MATLAB中所有的数据类型的变量是多维数组，向量是一个一维阵列，矩阵是一个二维数组。

在MATLAB中，一个阵列如果具有两个以上的维度则被称为多维数组。

在MATLAB中的多维数组是正常的两维矩阵的延伸。

MATLAB中需要先创建一个二维数组然后对该二维数组进行扩展，这样才能生成一个多维数组。

例如，我们先建立一个二维数组a。

```
a = [7 9 5; 6 1 9; 4 3 2]
```

MATLAB执行上述语句，返回以下结果：

```
a =
     7     9     5
     6     1     9
     4     3     2
```

数组 a 是一个 3x3 阵列，通过提供的值，我们可以添加一个第三维，例如：

```
a(:, :, 2)= [ 1 2 3; 4 5 6; 7 8 9]
```

MATLAB执行上述语句，返回以下结果：

```matlab
a(:,:,1) =
     7     9     5
     6     1     9
     4     3     2

a(:,:,2) =
     1     2     3
     4     5     6
     7     8     9
```

同样，我们也可以使用 ones()， zeros() 或 rand() 函数建立多维数组。

例如：

```
b = rand(4,3,2)
```

还能够使用 cat() 函数来建立多维数组，它结合沿着指定的维度的数组列表：

cat() 函数的语法是：

```
B = cat(dim, A1, A2...)
```

注意：

- B 是新建的数组；
- A1, A2, ... 是要连接的阵列；
- dim 是一起串联阵列的维度。

MATLAB提供以下功能进行排序，旋转，置乱，重塑或移动数组的内容。

| 函数       | 目的                           |
| ---------- | ------------------------------ |
| length     | 矢量长度或最大阵列尺寸         |
| ndims      | 数组维数                       |
| numel      | 数组元素的数目                 |
| size       | 数组维度                       |
| iscolumn   | 确定输入是否是列向量           |
| isempty    | 确定数组是否为空               |
| ismatrix   | 确定输入是否为矩阵             |
| isrow      | 确定输入是否为行向量           |
| isscalar   | 确定输入是否为标量             |
| isvector   | 确定输入是否为矢量             |
| blkdiag    | 从输入参数构造块对角矩阵       |
| circshift  | 循环移位                       |
| ctranspose | 复数共轭转置                   |
| diag       | 矩阵的对角矩阵和对角线         |
| flipdim    | 沿指定维度翻转数组             |
| fliplr     | 从左到右翻转矩阵               |
| flipud     | 将矩阵向下翻转                 |
| ipermute   | n-维阵列的反置换维数           |
| permute    | 重新排列 N 维数组的维数        |
| repmat     | 复制和平铺数组                 |
| reshape    | 重塑数组                       |
| rot90      | 旋转矩阵90度                   |
| shiftdim   | 移位维度                       |
| issorted   | 确定集合元素是否按排序顺序排列 |
| sort       | 按升序或降序对数组元素进行排序 |
| sortrows   | 按升序对行排序                 |
| squeeze    | 删除单维度                     |
| transpose  | 转置                           |
| vectorize  | 矢量化表达式                   |

单元阵列的阵列中每个单元格可以存储不同的维度和数据类型的数组的索引单元格。

单元格函数用于建立一个单元阵列。

单元格函数的语法如下：

```
C = cell(dim)
C = cell(dim1,...,dimN)
D = cell(obj)
```

注意

- C 是单元阵列；
- dim 是一个标量整数或整数向量，指定单元格阵列C的尺寸；
- dim1, ... , dimN 是标量整数指定尺寸的C；
- obj 是以下内容之一
  - Java 数组或对象
  - .NET阵列 System.String 类型或 System.Object

使用两种方法来引用单元阵列的元素：

- 封闭的索引在第一个 bracket ()，是指一组单元格
- 封闭的在大括号{}，的索引单个单元格内的数据

括在第一支架的索引，它指的是单元格的集。

单元阵列索引平稳括号单元格集合。

### 冒号

可以使用冒号 “:” 运算符建立矢量指数来选择行、列或数组中的元素。

下表描述了其用于此目的（让我们有一个矩阵A）：

| 格式           | 目的                                                         |
| -------------- | ------------------------------------------------------------ |
| **A(:,j)**     | 是A的第j列                                                   |
| **A(i,:)**     | 是A的第j行                                                   |
| **A(:,:)**     | 是等效的二维数组；对于矩阵，这与A相同                        |
| **A(j:k)**     | 是A（j），A（j + 1），...，A（k）                            |
| **A(:,j:k)**   | 是 A(:,j)， A(:,j+1)，...，A(:,k)                            |
| **A(:,:,k)**   | 是三维数组A的第k页                                           |
| **A(i,j,k,:)** | 是四维数组A中的矢量；矢量包括A（i，j，k，1），A（i，j，k，2），A（i，j，k，3）等 |
| **A(:)**       | 是 A 的所有要素，被视为单列；在赋值语句的左侧，A（:) 填充A，保留以前的形状；在这种情况下，右侧必须包含与A相同数量的元素。 |

### 字符串

MATLAB 提供了许多创建、组合、分析、比较和处理字符串的字符串函数。

下表是对 MATLAB 中字符串函数的简要说明：

| 函数                                           | 目的/作用                              |
| ---------------------------------------------- | -------------------------------------- |
| 用于存储文本字符数组的函数，结合字符数组，等等 |                                        |
| blanks                                         | 创建空白字符的字符串                   |
| cellstr                                        | 从字符数组中创建字符串单元格数组       |
| char                                           | 转换为字符数组 (字符串)                |
| iscellstr                                      | 确定输入是否是字符串的单元格数组       |
| ischar                                         | 确定项是否为字符数组                   |
| sprintf                                        | 将数据格式化为字符串                   |
| strcat                                         | 水平串联字符串                         |
| strjoin                                        | 将单元格数组中的字符串合并为单个字符串 |
| 识别字符串部分的函数，查找和替换子串           |                                        |
| ischar                                         | 确定项是否为字符数组                   |
| isletter                                       | 按照字母次序的数组元素                 |
| isspace                                        | 数组元素是空格字符                     |
| isstrprop                                      | 确定字符串是否为指定类别               |
| sscanf                                         | 从字符串读取格式化数据                 |
| strfind                                        | 在另一个字符串中找到一个字符串         |
| strrep                                         | 查找和替换字符串                       |
| strsplit                                       | 在指定分隔符处拆分字符串               |
| strtok                                         | 字符串的选定部分                       |
| validatestring                                 | 检查文本字符串的有效性                 |
| symvar                                         | 在表达式中确定符号变量                 |
| regexp                                         | 匹配正则表达式 (区分大小写)            |
| regexpi                                        | 匹配正则表达式 (不区分大小写)          |
| regexprep                                      | 使用正则表达式替换字符串               |
| regexptranslate                                | 将字符串转换为正则表达式               |
| 字符串比较函数                                 |                                        |
| strcmp                                         | 比较字符串 (区分大小写)                |
| strcmpi                                        | 比较字符串 (不区分大小写)              |
| strncmp                                        | 比较字符串的前 n 个字符 (区分大小写)   |
| strncmpi                                       | 比较字符串的前 n 个字符 (不区分大小写) |
| 改变字符串大写或小写，创建或删除空格的函数     |                                        |
| deblank                                        | 从字符串末尾分隔尾随空格               |
| strtrim                                        | 从字符串中删除前导空格和尾随空格       |
| lower                                          | 将字符串转换为小写                     |
| upper                                          | 将字符串转换为大写                     |
| strjust                                        | 对齐字符数组                           |

### 函数

> 在MATLAB中，函数定义在单独的文件。文件函数的文件名应该是相同的。

函数是一组语句一起执行任务。

函数在自己的工作空间进行操作，被称为本地工作区，独立的工作区；在 MATLAB 命令提示符访问，这就是所谓的基础工作区的变量。

函数可以接受多个输入参数和可能返回多个输出参数。

函数语句的语法是：

```
function [out1,out2, ..., outN] = myfun(in1,in2,in3, ..., inN)
```

一个匿名的函数就像是在传统的编程语言，在一个单一的 MATLAB 语句定义一个内联函数。

它由一个单一的 MATLAB 表达式和任意数量的输入和输出参数。

在MATLAB命令行或在一个函数或脚本可以定义一个匿名函数。

这种方式，可以创建简单的函数，而不必为他们创建一个文件。

建立一个匿名函数表达式的语法如下：

```
f = @(arglist)expression
```

### 数据导入与导出

#### 导入

在编写一个程序时，经常需要从外部读入数据。MATLAB使用多种格式打开数据。本章将要介绍MATLAB中数据的导入。

MATLAB中导入数据的方式有两种，分别是在命令行通过代码把数据导进去和通过MATLAB的数据导入向导导入数据。本节将为大家介绍第一种数据导入方法。

MATLAB中导入数据意味着从外部文件加载数据。importdata 函数允许加载各种数据的不同格式的文件。它具有以下五种形式：

| S.N. | 函数&说明                                                    |
| ---- | ------------------------------------------------------------ |
| 1    | **A = importdata(filename)**将数据从文件名所表示的文件中加载到数组 A 中。 |
| 2    | **A = importdata('-pastespecial')** 从系统剪贴板加载数据，而不是从文件加载数据。 |
| 3    | **A = importdata(___, delimiterIn)** 将 delimiterIn 解释为 ASCII 文件、文件名或剪贴板数据中的列分隔符。可以将 delimiterIn 与上述语法中的任何输入参数一起使用。 |
| 4    | **A = importdata(___, delimiterIn, headerlinesIn)**从 ASCII 文件、文件名或剪贴板加载数据，并从 lineheaderlinesIn+1 开始读取数字数据。 |
| 5    | **[A, delimiterOut, headerlinesOut] = importdata(___)**在分隔符输出中返回检测到的分隔符字符，并使用前面语法中的任何输入参数检测headerlinesOut 中检测到的标题行数。 |

> 默认情况下，Octave 没有importdata() 函数的支持，所以要搜索并安装这个包下面的例子Octave 安装工作。

## MATLAB低级别的文件I / O

MATLAB 中 importdata 函数是一个高层次的函数。如果要处理低级别的文件，在MATLAB中的 I / O 功能允许读取或写入数据到一个文件中的大部分控制权。但是，使用这些功能的要求是这些文件需要具有更加详细的信息，这样能够提高工作效率。

MATLAB字节或字符的读取和写入操作提供了以下功能：

| 函数    | 描述                                 |
| ------- | ------------------------------------ |
| fclose  | 关闭一个或全部已打开的文件           |
| feof    | 测试文件结尾                         |
| ferror  | 有关文件I / O错误的信息              |
| fgetl   | 从文件读取行, 删除换行符             |
| fgets   | 从文件读取行, 保留换行符             |
| fopen   | 打开文件, 或获取有关打开的文件的信息 |
| fprintf | 将数据写入文本文件                   |
| fread   | 从二进制文件读取数据                 |
| frewind | 将文件位置指示器移动到打开文件的开头 |
| fscanf  | 从文本文件读取数据                   |
| fseek   | 移动到文件中的指定位置               |
| ftell   | 获得打开文件的位置                   |
| fwrite  | 将数据写入二进制文件                 |

#### 导出

MATLAB 中数据导出表明可以将数据写入文件。

MATLAB 允许你使用数据在另一个应用程序读取 ASCII 文件，MATLAB提供了多种数据输出选项。

你可以建立以下类型的文件：

- 矩形，从一个数组分隔的ASCII数据文件。
- 日记或日志文件的按键和文本输出。
- 专业的ASCII文件，如 fprintf 使用低层函数。
- 使用 MEX 文件来访问你的 C/ C++ 或 Fortran 程序写入到一个特定的文本文件格式。

另外，还可以将数据导出到 Excel。

导出数字阵列作为分隔符的 ASCII 数据文件的方法有两种：

- 使用 save 函数及指定的 ASCII 限定符
- 使用 dlmwrite 函数

使用 save 函数的语法如下：

```
save my_data.out num_array -ASCII
```

其中，my_data.out 定界 ASCII 创建的数据文件，num_array是一个数字的阵列和 ASCII 符。

dlmwrite 函数的语法如下：

```
dlmwrite('my_data.out', num_array, 'dlm_char')
```

其中，my_data.out 定界 ASCII 创建的数据文件，num_array 是一个数字阵列和 dlm_char 作为分隔符。

### 绘图

在MATLAB中绘制函数图形的步骤如下：

1. 先定义变量 x，通过指定的变量 x 值的范围，该函数被绘制；
2. 然后定义函数， y = f(x)；
3. 最后调用 plot 命令，如 plot(x, y)。

接下来我们通过例子绘制简单的函数 y = x , x 值的范围从0到100，增量为5。

在MATLAB中建立一个脚本文件，输入下述代码：

```
x = [0:5:100];
y = x;
plot(x, y)
```

我们可以在 MATLAB 中添加标题，调整 x 轴和 y 轴，网格线，并沿标签美化图形。

- xlabel 和 ylabel 指令产生沿 x 轴和 y 轴的标签。
- 标题命令允许你生成图表上的一个标题。
- 网格命令允许你生成图上的网格线。
- 轴等于命令允许生成与同等规模因素和空间两个坐标轴上的积点。
- 轴方形命令生成一个正方形的积点。

MATLAB包含了八个绘制图形的基本颜色选项，下表提供了显示的颜色以及相应的代码：

| Color   | Code  |
| ------- | ----- |
| White   | **w** |
| Black   | **k** |
| Blue    | **b** |
| Red     | **r** |
| Cyan    | **c** |
| Green   | **g** |
| Magenta | **m** |
| Yellow  | **y** |

该轴命令允许您设置轴的刻度，您可以提供的最小值和最大值的 x 和 y 轴，使用轴命令的方式如下：

```
axis ( [xmin xmax ymin ymax] )
```

当创建一个数组地块在相同的数字，这些地块被称为子图。

MATLAB 中使用 subplot 命令创建子图。

 subplot 命令的语法如下：

```
subplot(m, n, p)
```

其中，m 和 n 为积阵列的行和列的数量，p 指定把一个特定的积。

subplot 命令建立的每个绘图都可以有其自己的特点。



MATLAB 中使用 bar 命令绘制一个二维条形图。

如果有一个包含10名学生的教室，这些学生获得的分数的百分比是75，58，90，87，50，85，92，75，60和95，使用这个数据，我们将绘制条形图。

在MATLAB中建立一个脚本文件，并输入下述代码：

```
x = [1:10];
y = [75, 58, 90, 87, 50, 85, 92, 75, 60, 95];
bar(x,y), xlabel('Student'),ylabel('Score'),
title('First Sem:')
print -deps graph.eps
```



contour 线的两个变量的函数的曲线，沿着该函数具有一个恒定值。加入等于标高点，一个给定的水平，如平均海平面以上用于创建等高线图等高线。

MATLAB 提供了一个轮廓绘制等高线图的函数。

具体例子

让我们生成的等高线图，显示了对于一个给定的功能的轮廓线 g = f(x, y)。这个函数有两个变量，因此，我们将生成两个独立的变量，即两个数据集 x 和 y。这是通过调用 meshgrid 命令。

meshgrid 命令是用于产生一个矩阵的元素，赋予 x 和 y 的范围内进行了在每一种情况下的增量同规格一起。

让我们绘制函数 g = f(x, y), where −5 ≤ x ≤ 5, −3 ≤ y ≤ 3，这两个值的增量为0.1。这些变量设置语法为：

```
[x,y] = meshgrid(–5:0.1:5, –3:0.1:3);
```

最后，我们需要分配功能，函数是：x2 + y2

在 MATLAB 中一个脚本文件，并输入下述代码：

```
[x,y] = meshgrid(-5:0.1:5,-3:0.1:3); %independent variables
g = x.^2 + y.^2;                     % our function
contour(x,y,g)                       % call the contour function
print -deps graph.eps
```



三维绘图基本显示两个变量中的一个函数定义的表面，g = f (x,y)。

像以前一样，定义 g，我们首先创建一组点（X，Y）函数，使用 meshgrid 命令在域；接下来，我们该函数本身分配；最后使用 surf 命令来创建曲面图。

具体示例

让我们建立一个三维地图函数表面 g = xe-(x2 + y2)

在MATLAB中建立一个脚本文件，并输入下述代码：

```
[x,y] = meshgrid(-2:.2:2);
g = x .* exp(-x.^2 - y.^2);
surf(x, y, g)
print -deps graph.eps
```



参考：[W3Cschool](https://www.w3cschool.cn/matlab/)