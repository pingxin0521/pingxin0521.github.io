<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JavaScript BOM | 平心de小屋</title><meta name="keywords" content="前端,JavaScript"><meta name="author" content="平心"><meta name="copyright" content="平心"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="由于JavaScript的出现就是为了能在浏览器中运行，所以，浏览器自然是JavaScript开发者必须要关注的。">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript BOM">
<meta property="og:url" content="https://pingxin0521.gitee.io/2019/05/04/JavaScript-%E5%9F%BA%E7%A1%80-5/index.html">
<meta property="og:site_name" content="平心de小屋">
<meta property="og:description" content="由于JavaScript的出现就是为了能在浏览器中运行，所以，浏览器自然是JavaScript开发者必须要关注的。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg">
<meta property="article:published_time" content="2019-05-04T08:18:59.000Z">
<meta property="article:modified_time" content="2019-08-29T05:10:56.000Z">
<meta property="article:author" content="平心">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg"><link rel="shortcut icon" href="https://s2.ax1x.com/2020/02/11/1ovFOA.png"><link rel="canonical" href="https://pingxin0521.gitee.io/2019/05/04/JavaScript-%E5%9F%BA%E7%A1%80-5/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaScript BOM',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2019-08-29 13:10:56'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s2.ax1x.com/2020/02/11/1ovw6J.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">449</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">68</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">平心de小屋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript BOM</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-05-04T08:18:59.000Z" title="发表于 2019-05-04 16:18:59">2019-05-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2019-08-29T05:10:56.000Z" title="更新于 2019-08-29 13:10:56">2019-08-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/JavaScript/">JavaScript</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>28分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaScript BOM"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>由于JavaScript的出现就是为了能在浏览器中运行，所以，浏览器自然是JavaScript开发者必须要关注的。</p>
<span id="more"></span>

<p>目前主流的浏览器分这么几种：</p>
<ul>
<li>IE 6~11：国内用得最多的IE浏览器，历来对W3C标准支持差。从IE10开始支持ES6标准；</li>
<li>Chrome：Google出品的基于Webkit内核浏览器，内置了非常强悍的JavaScript引擎——V8。由于Chrome一经安装就时刻保持自升级，所以不用管它的版本，最新版早就支持ES6了；</li>
<li>Safari：Apple的Mac系统自带的基于Webkit内核的浏览器，从OS X 10.7 Lion自带的6.1版本开始支持ES6，目前最新的OS X 10.11 El Capitan自带的Safari版本是9.x，早已支持ES6；</li>
<li>Firefox：Mozilla自己研制的Gecko内核和JavaScript引擎OdinMonkey。早期的Firefox按版本发布，后来终于聪明地学习Chrome的做法进行自升级，时刻保持最新；</li>
<li>移动设备上目前iOS和Android两大阵营分别主要使用Apple的Safari和Google的Chrome，由于两者都是Webkit核心，结果HTML5首先在手机上全面普及（桌面绝对是Microsoft拖了后腿），对JavaScript的标准支持也很好，最新版本均支持ES6。</li>
</ul>
<p>其他浏览器如Opera等由于市场份额太小就被自动忽略了。</p>
<p>另外还要注意识别各种国产浏览器，如某某安全浏览器，某某旋风浏览器，它们只是做了一个壳，其核心调用的是IE，也有号称同时支持IE和Webkit的“双核”浏览器。</p>
<p>不同的浏览器对JavaScript支持的差异主要是，有些API的接口不一样，比如AJAX，File接口。对于ES6标准，不同的浏览器对各个特性支持也不一样。</p>
<p>在编写JavaScript的时候，就要充分考虑到浏览器的差异，尽量让同一份JavaScript代码能运行在不同的浏览器中。</p>
<h3 id="浏览器对象"><a href="#浏览器对象" class="headerlink" title="浏览器对象"></a>浏览器对象</h3><p>JavaScript可以获取浏览器提供的很多对象，并进行操作。</p>
<h4 id="window"><a href="#window" class="headerlink" title="window"></a>window</h4><p><code>window</code>对象不但充当全局作用域，而且表示浏览器窗口。</p>
<p><code>window</code>对象有<code>innerWidth</code>和<code>innerHeight</code>属性，可以获取浏览器窗口的内部宽度和高度。内部宽高是指除去菜单栏、工具栏、边框等占位元素后，用于显示网页的净宽高。</p>
<p>兼容性：IE&lt;=8不支持。</p>
<p>对应的，还有一个<code>outerWidth</code>和<code>outerHeight</code>属性，可以获取浏览器窗口的整个宽高。</p>
<h4 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h4><p><code>navigator</code>对象表示浏览器的信息，最常用的属性包括：</p>
<ul>
<li>navigator.appName：浏览器名称；</li>
<li>navigator.appVersion：浏览器版本；</li>
<li>navigator.language：浏览器设置的语言；</li>
<li>navigator.platform：操作系统类型；</li>
<li>navigator.userAgent：浏览器设定的<code>User-Agent</code>字符串。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ua = navigator.userAgent;</span><br><span class="line">			</span><br><span class="line">			<span class="built_in">console</span>.log(ua);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(<span class="regexp">/firefox/i</span>.test(ua))&#123;</span><br><span class="line">				alert(<span class="string">&quot;你是火狐！！！&quot;</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/chrome/i</span>.test(ua))&#123;</span><br><span class="line">				alert(<span class="string">&quot;你是Chrome&quot;</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/msie/i</span>.test(ua))&#123;</span><br><span class="line">				alert(<span class="string">&quot;你是IE浏览器~~~&quot;</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;ActiveXObject&quot;</span> <span class="keyword">in</span> <span class="built_in">window</span>)&#123;</span><br><span class="line">				alert(<span class="string">&quot;你是IE11，枪毙了你~~~&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">			 * 如果通过UserAgent不能判断，还可以通过一些浏览器中特有的对象，来判断浏览器的信息</span></span><br><span class="line"><span class="comment">			 * 比如：ActiveXObject</span></span><br><span class="line"><span class="comment">			 */</span></span><br><span class="line">			<span class="keyword">if</span>(<span class="string">&quot;ActiveXObject&quot;</span> <span class="keyword">in</span> <span class="built_in">window</span>)&#123;</span><br><span class="line">				alert(<span class="string">&quot;你是IE，我已经抓住你了~~~&quot;</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				alert(<span class="string">&quot;你不是IE~~~&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			alert(<span class="string">&quot;ActiveXObject&quot;</span> <span class="keyword">in</span> <span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>

<p><em>请注意</em>，<code>navigator</code>的信息可以很容易地被用户修改，所以JavaScript读取的值不一定是正确的。很多初学者为了针对不同浏览器编写不同的代码，喜欢用<code>if</code>判断浏览器版本，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var width;</span><br><span class="line">if (getIEVersion(navigator.userAgent) &lt; 9) &#123;</span><br><span class="line">    width = document.body.clientWidth;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    width = window.innerWidth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但这样既可能判断不准确，也很难维护代码。正确的方法是充分利用JavaScript对不存在属性返回<code>undefined</code>的特性，直接用短路运算符<code>||</code>计算：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var width = window.innerWidth || document.body.clientWidth;</span><br></pre></td></tr></table></figure>

<h4 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h4><p><code>screen</code>对象表示屏幕的信息，常用的属性有：</p>
<ul>
<li>screen.width：屏幕宽度，以像素为单位；</li>
<li>screen.height：屏幕高度，以像素为单位；</li>
<li>screen.colorDepth：返回颜色位数，如8、16、24。</li>
</ul>
<h4 id="location"><a href="#location" class="headerlink" title="location"></a>location</h4><p><code>location</code>对象表示当前页面的URL信息。例如，一个完整的URL：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.example.com:8080/path/index.html?a=1&amp;b=2#TOP</span><br></pre></td></tr></table></figure>

<p>可以用<code>location.href</code>获取。要获得URL各个部分的值，可以这么写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location.protocol; // &#x27;http&#x27;</span><br><span class="line">location.host; // &#x27;www.example.com&#x27;</span><br><span class="line">location.port; // &#x27;8080&#x27;</span><br><span class="line">location.pathname; // &#x27;/path/index.html&#x27;</span><br><span class="line">location.search; // &#x27;?a=1&amp;b=2&#x27;</span><br><span class="line">location.hash; // &#x27;TOP&#x27;</span><br></pre></td></tr></table></figure>

<p>要加载一个新页面，可以调用<code>location.assign()</code>。如果要重新加载当前页面，调用<code>location.reload()</code>方法非常方便。</p>
<h4 id="document"><a href="#document" class="headerlink" title="document"></a>document</h4><p><code>document</code>对象表示当前页面。由于HTML在浏览器中以DOM形式表示为树形结构，<code>document</code>对象就是整个DOM树的根节点。</p>
<p><code>document</code>的<code>title</code>属性是从HTML文档中的<code>&lt;title&gt;xxx&lt;/title&gt;</code>读取的，但是可以动态改变</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.title = &#x27;努力学习JavaScript!&#x27;;</span><br></pre></td></tr></table></figure>

<p>请观察浏览器窗口标题的变化。</p>
<p>要查找DOM树的某个节点，需要从<code>document</code>对象开始查找。最常用的查找是根据ID和Tag Name。</p>
<p>我们先准备HTML数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;dl id=&quot;drink-menu&quot; style=&quot;border:solid 1px #ccc;padding:6px;&quot;&gt;</span><br><span class="line">    &lt;dt&gt;摩卡&lt;/dt&gt;</span><br><span class="line">    &lt;dd&gt;热摩卡咖啡&lt;/dd&gt;</span><br><span class="line">    &lt;dt&gt;酸奶&lt;/dt&gt;</span><br><span class="line">    &lt;dd&gt;北京老酸奶&lt;/dd&gt;</span><br><span class="line">    &lt;dt&gt;果汁&lt;/dt&gt;</span><br><span class="line">    &lt;dd&gt;鲜榨苹果汁&lt;/dd&gt;</span><br><span class="line">&lt;/dl&gt;</span><br></pre></td></tr></table></figure>

<p>用<code>document</code>对象提供的<code>getElementById()</code>和<code>getElementsByTagName()</code>可以按ID获得一个DOM节点和按Tag名称获得一组DOM节点：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var menu = document.getElementById(&#x27;drink-menu&#x27;);</span><br><span class="line">var drinks = document.getElementsByTagName(&#x27;dt&#x27;);</span><br><span class="line">var i, s, menu, drinks;</span><br><span class="line"></span><br><span class="line">menu = document.getElementById(&#x27;drink-menu&#x27;);</span><br><span class="line">menu.tagName; // &#x27;DL&#x27;</span><br><span class="line"></span><br><span class="line">drinks = document.getElementsByTagName(&#x27;dt&#x27;);</span><br><span class="line">s = &#x27;提供的饮料有:&#x27;;</span><br><span class="line">for (i=0; i&lt;drinks.length; i++) &#123;</span><br><span class="line">    s = s + drinks[i].innerHTML + &#x27;,&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">console.log(s);</span><br></pre></td></tr></table></figure>

<p><code>document</code>对象还有一个<code>cookie</code>属性，可以获取当前页面的Cookie。</p>
<p>Cookie是由服务器发送的key-value标示符。因为HTTP协议是无状态的，但是服务器要区分到底是哪个用户发过来的请求，就可以用Cookie来区分。当一个用户成功登录后，服务器发送一个Cookie给浏览器，例如<code>user=ABC123XYZ(加密的字符串)...</code>，此后，浏览器访问该网站时，会在请求头附上这个Cookie，服务器根据Cookie即可区分出用户。</p>
<p>Cookie还可以存储网站的一些设置，例如，页面显示的语言等等。</p>
<p>JavaScript可以通过<code>document.cookie</code>读取到当前页面的Cookie。</p>
<p>由于JavaScript能读取到页面的Cookie，而用户的登录信息通常也存在Cookie中，这就造成了巨大的安全隐患，这是因为在HTML页面中引入第三方的JavaScript代码是允许的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 当前页面在wwwexample.com --&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script src=&quot;http://www.foo.com/jquery.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>如果引入的第三方的JavaScript中存在恶意代码，则<code>www.foo.com</code>网站将直接获取到<code>www.example.com</code>网站的用户登录信息。</p>
<p>为了解决这个问题，服务器在设置Cookie时可以使用<code>httpOnly</code>，设定了<code>httpOnly</code>的Cookie将不能被JavaScript读取。这个行为由浏览器实现，主流浏览器均支持<code>httpOnly</code>选项，IE从IE6 SP1开始支持。</p>
<p>为了确保安全，服务器端在设置Cookie时，应该始终坚持使用<code>httpOnly</code>。</p>
<h4 id="history"><a href="#history" class="headerlink" title="history"></a>history</h4><p><code>history</code>对象保存了浏览器的历史记录，JavaScript可以调用<code>history</code>对象的<code>back()</code>或<code>forward ()</code>，相当于用户点击了浏览器的“后退”或“前进”按钮。</p>
<p>这个对象属于历史遗留对象，对于现代Web页面来说，由于大量使用AJAX和页面交互，简单粗暴地调用<code>history.back()</code>可能会让用户感到非常愤怒。</p>
<p>新手开始设计Web页面时喜欢在登录页登录成功时调用<code>history.back()</code>，试图回到登录前的页面。这是一种错误的方法。</p>
<p>JavaScript返回上一页代码区别：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">window.history.go(-1);  //返回上一页</span><br><span class="line">window.history.back();  //返回上一页</span><br><span class="line">//如果要强行刷新的话就是：window.history.back();location.reload();</span><br><span class="line">window.location.go(-1); //刷新上一页</span><br></pre></td></tr></table></figure>

<p>任何情况，你都不应该使用<code>history</code>这个对象了。</p>
<h3 id="console"><a href="#console" class="headerlink" title="console"></a>console</h3><p>对于前端开发者来说，在开发过程中需要监控某些表达式或变量的值的时候，用 debugger 会显得过于笨重，取而代之则是会将值输出到控制台上方便调试。最常用的语句就是<code>console.log(expression)</code>了。</p>
<p>然而对于作为一个全局对象的<code>console</code>对象来说，大多数人了解得还并不全面，当然我也是，经过我的一番学习，现在对于这个能玩转控制台的 JS 对象有了一定的认识，想与大家分享一下。</p>
<p>console 对象除了<code>console.log()</code>这一最常被开发者使用的方法之外，还有很多其他的方法。灵活运用这些方法，可以给开发过程增添许多便利。</p>
<h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><p><strong>console.assert(expression, object[, object…])</strong></p>
<p>接收至少两个参数，第一个参数的值或返回值为<code>false</code>的时候，将会在控制台上输出后续参数的值。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.assert(1 == 1, object); // 无输出，返回 undefined</span><br><span class="line">console.assert(1 == 2, object); // 输出 object</span><br></pre></td></tr></table></figure>

<p><strong>console.count([label])</strong></p>
<p>输出执行到该行的次数，可选参数 label 可以输出在次数之前，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(function() &#123;</span><br><span class="line">  for (var i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">    console.count(&#x27;count&#x27;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br><span class="line">// count: 1</span><br><span class="line">// count: 2</span><br><span class="line">// count: 3</span><br><span class="line">// count: 4</span><br><span class="line">// count: 5</span><br></pre></td></tr></table></figure>

<p><strong>console.dir(object)</strong></p>
<p>将传入对象的属性，包括子对象的属性以列表形式输出，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  name: &#x27;classicemi&#x27;,</span><br><span class="line">  college: &#x27;HUST&#x27;,</span><br><span class="line">  major: &#x27;ei&#x27;</span><br><span class="line">&#125;;</span><br><span class="line">console.dir(obj);</span><br></pre></td></tr></table></figure>

<p>输出如下：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/30/5cef6f6cdb1f218460.png"></p>
<p><strong>console.error(object[, object…])</strong></p>
<p>用于输出错误信息，用法和常见的<code>console.log</code>一样，不同点在于输出内容会标记为错误的样式，便于分辨。输出结果：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/30/5cef6fd9d6d5612188.png"></p>
<p><strong>console.group</strong></p>
<p>这是个有趣的方法，它能够让控制台输出的语句产生不同的层级嵌套关系，每一个<code>console.group()</code>会增加一层嵌套，相反要减少一层嵌套可以使用<code>console.groupEnd()</code>方法。语言表述比较无力，看代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">console.log(&#x27;这是第一层&#x27;);</span><br><span class="line">console.group();</span><br><span class="line">console.log(&#x27;这是第二层&#x27;);</span><br><span class="line">console.log(&#x27;依然第二层&#x27;);</span><br><span class="line">console.group();</span><br><span class="line">console.log(&#x27;第三层了&#x27;);</span><br><span class="line">console.groupEnd();</span><br><span class="line">console.log(&#x27;回到第二层&#x27;);</span><br><span class="line">console.groupEnd();</span><br><span class="line">console.log(&#x27;回到第一层&#x27;);</span><br></pre></td></tr></table></figure>

<p>输出如下：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/30/5cef701ca5be956048.png"></p>
<p>和<code>console.group()</code>相似的方法是<code>console.groupCollapsed()</code>作用相同，不同点是嵌套的输出内容是折叠状态，在有大段内容输出的时候使用这个方法可以使输出版面不至于太长。。。吧</p>
<p><strong>console.info(object[, object…])</strong></p>
<p>此方法与之前说到的<code>console.error</code>一样，用于输出信息，没有什么特别之处。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.info(&#x27;info&#x27;); // 输出 info</span><br></pre></td></tr></table></figure>

<p><strong>console.table()</strong></p>
<p>可将传入的对象，或数组以表格形式输出，相比传统树形输出，这种输出方案更适合内部元素排列整齐的对象或数组，不然可能会出现很多的 undefined。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  foo: &#123;</span><br><span class="line">    name: &#x27;foo&#x27;,</span><br><span class="line">    age: &#x27;33&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line">  bar: &#123;</span><br><span class="line">    name: &#x27;bar&#x27;,</span><br><span class="line">    age: &#x27;45&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var arr = [</span><br><span class="line">  [&#x27;foo&#x27;, &#x27;33&#x27;],</span><br><span class="line">  [&#x27;bar&#x27;, &#x27;45&#x27;]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">console.table(obj);</span><br><span class="line">console.table(arr);</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/30/5cef707b880f642231.png"></p>
<p><strong>console.log(object[, object…])</strong></p>
<p>这个不用多说，这个应该是开发者最常用的吧，也不知道是谁规定的。。。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&#x27;log&#x27;); // 输出 log</span><br></pre></td></tr></table></figure>

<p><strong>console.profile([profileLabel])</strong></p>
<p>这是个挺高大上的东西，可用于性能分析。在 JS 开发中，我们常常要评估段代码或是某个函数的性能。在函数中手动打印时间固然可以，但显得不够灵活而且有误差。借助控制台以及<code>console.profile()</code>方法我们可以很方便地监控运行性能。</p>
<p>例如下面这段代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function parent() &#123;</span><br><span class="line">  for (var i = 0; i &lt; 10000; i++) &#123;</span><br><span class="line">    childA()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function childA(j) &#123;</span><br><span class="line">  for (var i = 0; i &lt; j; i++) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.profile(&#x27;性能分析&#x27;);</span><br><span class="line">parent();</span><br><span class="line">console.profileEnd(&#x27;性能分析&#x27;);</span><br></pre></td></tr></table></figure>

<p>然后我们可以在 Profiles 面板下看到上述代码运行过程中的消耗时间。页面加载过程的性能优化是前端开发的一个重要部分，使用控制台的 profiles 面板可以监控所有 JS 的运行情况使用方法就像录像机一样，控制台会把运行过程录制下来。</p>
<p><strong>console.time(name)</strong><br>计时器，可以将成对的<code>console.time()</code>和<code>console.timeEnd()</code>之间代码的运行时间输出到控制台上，<code>name</code>参数可作为标签名。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">console.time(&#x27;计时器&#x27;);</span><br><span class="line">for (var i = 0; i &lt; 100; i++) &#123;</span><br><span class="line">  for (var j = 0; j &lt; 100; j++) &#123;</span><br><span class="line">  for (var k = 0; k &lt; 100; k++) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.timeEnd(&#x27;计时器&#x27;);</span><br></pre></td></tr></table></figure>

<p><strong>console.trace()</strong></p>
<p><code>console.trace()</code>用来追踪函数的调用过程。在大型项目尤其是框架开发中，函数的调用轨迹可以十分复杂，<code>console.trace()</code>方法可以将函数的被调用过程清楚地输出到控制台上。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function tracer(a) &#123;</span><br><span class="line">  console.trace();</span><br><span class="line">  return a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function foo(a) &#123;</span><br><span class="line">  return bar(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function bar(a) &#123;</span><br><span class="line">  return tracer(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = foo(&#x27;tracer&#x27;);</span><br></pre></td></tr></table></figure>

<p><strong>console.warn(object[, object…])</strong></p>
<p>输出参数的内容，作为警告提示。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.warn(&#x27;warn&#x27;); // 输出 warn</span><br></pre></td></tr></table></figure>

<p><strong>占位符</strong></p>
<p><code>console</code>对象上的五个直接输出方法，<code>console.log()</code>,<code>console.warn()</code>,<code>console.error()</code>,<code>console.exception()</code>(等同于<code>console.error()</code>)和<code>console.info()</code>，都可以使用占位符。支持的占位符有四种，分别是字符(<code>%s</code>)、整数(<code>%d</code> 或 <code>%i</code>)、浮点数(<code>%f</code>)和对象(<code>%o</code>)。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">console.log(&#x27;%s是%d年%d月%d日&#x27;, &#x27;今天&#x27;, 2014, 4, 15);</span><br><span class="line">console.log(&#x27;圆周率是%f&#x27;, 3.14159);</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  name: &#x27;hyp&#x27;</span><br><span class="line">&#125;</span><br><span class="line">console.log(&#x27;%o&#x27;, obj);</span><br></pre></td></tr></table></figure>

<p>还有一种特殊的标示符<code>%c</code>，对输出的文字可以附加特殊的样式，当进行大型项目开发的时候，代码中可能有很多其他开发者添加的控制台语句。开发者对自己的输出定制特别的样式就可以方便自己在眼花缭乱的输出结果中一眼看到自己需要的内容。想象力丰富的童鞋也可以做出有创意的输出信息，比如常见的招聘信息和个人介绍啥的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&#x27;%cMy name is hyp.&#x27;, &#x27;color: #fff; background: #f40; font-size: 24px;&#x27;);</span><br></pre></td></tr></table></figure>

<p><code>%c</code>标示符可以用各种 CSS 语句来为输出添加样式，再随便举个栗子，<code>background</code>属性的<code>url()</code>中添加图片路径就可以实现图片的输出了。</p>
<h4 id="定时调用"><a href="#定时调用" class="headerlink" title="定时调用"></a>定时调用</h4><p>在javascritp中，有两个关于定时器的专用函数，分别为：</p>
<ol>
<li><p>倒计定时器：<code>timename=setTimeout(&quot;function();&quot;,delaytime);</code></p>
</li>
<li><p>循环定时器：<code>timename=setInterval(&quot;function();&quot;,delaytime);</code></p>
</li>
</ol>
<p>第一个参数“function()”是定时器触发时要执行的动作，可以是一个函数，也可以是几个函数，函数间用“；”隔开即可。</p>
<p>比如要弹出两个警告窗口，便可将“function();”换成 “alert(‘第一个警告窗口!’);alert(‘第二个警告窗口!’);”；</p>
<p>而第二个参数“delaytime”则是间隔的时间，以毫秒为单位，即填写“5000”，就表示5秒钟。 　　</p>
<p>倒计时定时器是在指定时间到达后触发事件，而循环定时器就是在间隔时间到来时反复触发事件，</p>
<p>两者的区别在于：前者只是作用一次，而后者则不停地作用。</p>
<p>比如你打开一个页面后，想间隔几秒自动跳转到另一个页面，则你就需要采用倒计定时器“setTimeout(“function();”,delaytime)”  ，而如果想将某一句话设置成一个一个字的出现， 则需要用到循环定时器“setInterval(“function();”,delaytime)”   。获取表单的焦点，则用到document.activeElement.id。利用if来判断document.activeElement.id和表单的ID是否相同。  比如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (&quot;mid&quot; == document.activeElement.id) &#123;alert();&#125;</span><br></pre></td></tr></table></figure>

<p>“mid”便是表单对应的ID。</p>
<p>定时器：</p>
<p>用以指定在一段特定的时间后执行某段程序。</p>
<p>JS中定时执行,setTimeout和setInterval的区别,以及l解除方法</p>
<p>setTimeout(Expression,DelayTime),在DelayTime过后,将执行一次Expression,setTimeout 运用在延迟一段时间，再进行某项操作。 setTimeout(“function”,time) 设置一个超时对象</p>
<p>setInterval(expression,delayTime),每个DelayTime,都将执行Expression.常常可用于刷新表达式. setInterval(“function”,time) 设置一个超时对象</p>
<p>SetInterval为自动重复，setTimeout不会重复。</p>
<p>clearTimeout(对象) 清除已设置的setTimeout对象 clearInterval(对象) 清除已设置的setInterval对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* setInterval()</span><br><span class="line">* 	- 定时调用</span><br><span class="line">* 	- 可以将一个函数，每隔一段时间执行一次</span><br><span class="line">* 	- 参数：</span><br><span class="line">* 		1.回调函数，该函数会每隔一段时间被调用一次</span><br><span class="line">* 		2.每次调用间隔的时间，单位是毫秒</span><br><span class="line">* </span><br><span class="line">* 	- 返回值：</span><br><span class="line">* 		返回一个Number类型的数据</span><br><span class="line">* 		这个数字用来作为定时器的唯一标识</span><br><span class="line">*/</span><br><span class="line">var num = 1;</span><br><span class="line"></span><br><span class="line">var timer = setInterval(function()&#123;</span><br><span class="line"></span><br><span class="line">count.innerHTML = num++;</span><br><span class="line"></span><br><span class="line">if(num == 11)&#123;</span><br><span class="line">//关闭定时器</span><br><span class="line">clearInterval(timer);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;,1000);</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">			</span></span><br><span class="line"><span class="javascript">			<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript">				 * 使图片可以自动切换</span></span></span><br><span class="line"><span class="comment"><span class="javascript">				 */</span></span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//获取img标签</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> img1 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;img1&quot;</span>);</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//创建一个数组来保存图片的路径</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> imgArr = [<span class="string">&quot;img/1.jpg&quot;</span>,<span class="string">&quot;img/2.jpg&quot;</span>,<span class="string">&quot;img/3.jpg&quot;</span>,<span class="string">&quot;img/4.jpg&quot;</span>,<span class="string">&quot;img/5.jpg&quot;</span>];</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//创建一个变量，用来保存当前图片的索引</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//定义一个变量，用来保存定时器的标识</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//为btn01绑定一个单击响应函数</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn01&quot;</span>);</span></span><br><span class="line"><span class="javascript">				btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					</span></span><br><span class="line"><span class="javascript">					<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 * 目前，我们每点击一次按钮，就会开启一个定时器，</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 * 	点击多次就会开启多个定时器，这就导致图片的切换速度过快，</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 * 	并且我们只能关闭最后一次开启的定时器</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 */</span></span></span><br><span class="line"><span class="javascript">					</span></span><br><span class="line"><span class="javascript">					<span class="comment">//在开启定时器之前，需要将当前元素上的其他定时器关闭</span></span></span><br><span class="line"><span class="javascript">					<span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line"><span class="javascript">					</span></span><br><span class="line"><span class="javascript">					<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 * 开启一个定时器，来自动切换图片</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 */</span></span></span><br><span class="line"><span class="javascript">					timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">						<span class="comment">//使索引自增</span></span></span><br><span class="line"><span class="javascript">						index++;</span></span><br><span class="line"><span class="javascript">						<span class="comment">//判断索引是否超过最大索引</span></span></span><br><span class="line"><span class="javascript">						<span class="comment">/*if(index &gt;= imgArr.length)&#123;</span></span></span><br><span class="line"><span class="comment"><span class="javascript">							//则将index设置为0</span></span></span><br><span class="line"><span class="comment"><span class="javascript">							index = 0;</span></span></span><br><span class="line"><span class="comment"><span class="javascript">						&#125;*/</span></span></span><br><span class="line"><span class="javascript">						index %= imgArr.length;</span></span><br><span class="line"><span class="javascript">						<span class="comment">//修改img1的src属性</span></span></span><br><span class="line"><span class="javascript">						img1.src = imgArr[index];</span></span><br><span class="line"><span class="javascript">						</span></span><br><span class="line"><span class="javascript">					&#125;,<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">				&#125;;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//为btn02绑定一个单击响应函数</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> btn02 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn02&quot;</span>);</span></span><br><span class="line"><span class="javascript">				btn02.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="comment">//点击按钮以后，停止图片的自动切换，关闭定时器</span></span></span><br><span class="line"><span class="javascript">					<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 * clearInterval()可以接收任意参数，</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 * 	如果参数是一个有效的定时器的标识，则停止对应的定时器</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 * 	如果参数不是一个有效的标识，则什么也不做</span></span></span><br><span class="line"><span class="comment"><span class="javascript">					 */</span></span></span><br><span class="line"><span class="javascript">					<span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line"><span class="javascript">					</span></span><br><span class="line"><span class="javascript">				&#125;;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">			&#125;;</span></span><br><span class="line"><span class="javascript">			</span></span><br><span class="line"><span class="javascript">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;img1&quot;</span> <span class="attr">src</span>=<span class="string">&quot;img/1.jpg&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn02&quot;</span>&gt;</span>停止<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="延时调用"><a href="#延时调用" class="headerlink" title="延时调用"></a>延时调用</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* 延时调用，</span><br><span class="line">* 	延时调用一个函数不马上执行，而是隔一段时间以后在执行，而且只会执行一次</span><br><span class="line">* </span><br><span class="line">* 延时调用和定时调用的区别，定时调用会执行多次，而延时调用只会执行一次</span><br><span class="line">* </span><br><span class="line">* 延时调用和定时调用实际上是可以互相代替的，在开发中可以根据自己需要去选择</span><br><span class="line">*/</span><br><span class="line">var timer = setTimeout(function()&#123;</span><br><span class="line">console.log(num++);</span><br><span class="line">&#125;,3000);</span><br><span class="line"></span><br><span class="line">//使用clearTimeout()来关闭一个延时调用</span><br><span class="line">clearTimeout(timer);</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">			</span></span><br><span class="line"><span class="css">			*&#123;</span></span><br><span class="line"><span class="css">				<span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">				<span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">			&#125;</span></span><br><span class="line"><span class="css">			</span></span><br><span class="line"><span class="css">			<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="css">				<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">				<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">				<span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">				<span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">				<span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">			&#125;</span></span><br><span class="line"><span class="css">			</span></span><br><span class="line"><span class="css">			<span class="selector-id">#box2</span>&#123;</span></span><br><span class="line"><span class="css">				<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">				<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">				<span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="css">				<span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">				<span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">				<span class="attribute">top</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			&#125;</span></span><br><span class="line"><span class="css">			</span></span><br><span class="line"><span class="css">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/tools.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">			</span></span><br><span class="line"><span class="javascript">			<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//获取box1</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="javascript">				<span class="comment">//获取btn01</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn01&quot;</span>);</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//获取btn02</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> btn02 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn02&quot;</span>);</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//点击按钮以后，使box1向右移动（left值增大）</span></span></span><br><span class="line"><span class="javascript">				btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					move(box1 ,<span class="string">&quot;left&quot;</span>, <span class="number">800</span> , <span class="number">20</span>);</span></span><br><span class="line"><span class="javascript">				&#125;;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//点击按钮以后，使box1向左移动（left值减小）</span></span></span><br><span class="line"><span class="javascript">				btn02.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					move(box1 ,<span class="string">&quot;left&quot;</span>, <span class="number">0</span> , <span class="number">10</span>);</span></span><br><span class="line"><span class="javascript">				&#125;;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//获取btn03</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> btn03 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn03&quot;</span>);</span></span><br><span class="line"><span class="javascript">				btn03.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					move(box2 , <span class="string">&quot;left&quot;</span>,<span class="number">800</span> , <span class="number">10</span>);</span></span><br><span class="line"><span class="javascript">				&#125;;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//测试按钮</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> btn04 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn04&quot;</span>);</span></span><br><span class="line"><span class="javascript">				btn04.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="comment">//move(box2 ,&quot;width&quot;, 800 , 10);</span></span></span><br><span class="line"><span class="javascript">					<span class="comment">//move(box2 ,&quot;top&quot;, 800 , 10);</span></span></span><br><span class="line"><span class="javascript">					<span class="comment">//move(box2 ,&quot;height&quot;, 800 , 10);</span></span></span><br><span class="line"><span class="javascript">					move(box2 , <span class="string">&quot;width&quot;</span> , <span class="number">800</span> , <span class="number">10</span> , <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">						move(box2 , <span class="string">&quot;height&quot;</span> , <span class="number">400</span> , <span class="number">10</span> , <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">							move(box2 , <span class="string">&quot;top&quot;</span> , <span class="number">0</span> , <span class="number">10</span> , <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">								move(box2 , <span class="string">&quot;width&quot;</span> , <span class="number">100</span> , <span class="number">10</span> , <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">							</span></span><br><span class="line"><span class="javascript">								&#125;);</span></span><br><span class="line"><span class="javascript">							&#125;);</span></span><br><span class="line"><span class="javascript">						&#125;);</span></span><br><span class="line"><span class="javascript">					&#125;);</span></span><br><span class="line"><span class="javascript">				&#125;;</span></span><br><span class="line"><span class="javascript">			&#125;;</span></span><br><span class="line"><span class="javascript">			</span></span><br><span class="line"><span class="javascript">			<span class="comment">//定义一个变量，用来保存定时器的标识</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript">			 * 目前我们的定时器的标识由全局变量timer保存，</span></span></span><br><span class="line"><span class="comment"><span class="javascript">			 * 	所有的执行正在执行的定时器都在这个变量中保存</span></span></span><br><span class="line"><span class="comment"><span class="javascript">			 */</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">//var timer;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//尝试创建一个可以执行简单动画的函数</span></span></span><br><span class="line"><span class="javascript"><span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 参数：</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 	obj:要执行动画的对象</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 	attr:要执行动画的样式，比如：left top width height</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 	target:执行动画的目标位置</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 	speed:移动的速度(正数向右移动，负数向左移动)</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> *  callback:回调函数，这个函数将会在动画执行完毕以后执行</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> */</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, target, speed, callback</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">	<span class="comment">//关闭上一个定时器</span></span></span><br><span class="line"><span class="javascript">	<span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//获取元素目前的位置</span></span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> current = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//判断速度的正负值</span></span></span><br><span class="line"><span class="javascript">	<span class="comment">//如果从0 向 800移动，则speed为正</span></span></span><br><span class="line"><span class="javascript">	<span class="comment">//如果从800向0移动，则speed为负</span></span></span><br><span class="line"><span class="javascript">	<span class="keyword">if</span>(current &gt; target) &#123;</span></span><br><span class="line"><span class="javascript">		<span class="comment">//此时速度应为负值</span></span></span><br><span class="line"><span class="javascript">		speed = -speed;</span></span><br><span class="line"><span class="javascript">	&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//开启一个定时器，用来执行动画效果</span></span></span><br><span class="line"><span class="javascript">	<span class="comment">//向执行动画的对象中添加一个timer属性，用来保存它自己的定时器的标识</span></span></span><br><span class="line"><span class="javascript">	obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">		<span class="comment">//获取box1的原来的left值</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">		<span class="comment">//在旧值的基础上增加</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> newValue = oldValue + speed;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">		<span class="comment">//判断newValue是否大于800</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">//从800 向 0移动</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">//向左移动时，需要判断newValue是否小于target</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">//向右移动时，需要判断newValue是否大于target</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">if</span>((speed &lt; <span class="number">0</span> &amp;&amp; newValue &lt; target) || (speed &gt; <span class="number">0</span> &amp;&amp; newValue &gt; target)) &#123;</span></span><br><span class="line"><span class="javascript">			newValue = target;</span></span><br><span class="line"><span class="javascript">		&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">		<span class="comment">//将新值设置给box1</span></span></span><br><span class="line"><span class="javascript">		obj.style[attr] = newValue + <span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">		<span class="comment">//当元素移动到0px时，使其停止执行动画</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">if</span>(newValue == target) &#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">//达到目标，关闭定时器</span></span></span><br><span class="line"><span class="javascript">			<span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript">			<span class="comment">//动画执行完毕，调用回调函数</span></span></span><br><span class="line"><span class="javascript">			callback &amp;&amp; callback();</span></span><br><span class="line"><span class="javascript">		&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">	&#125;, <span class="number">30</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 定义一个函数，用来获取指定元素的当前的样式</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 参数：</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 		obj 要获取样式的元素</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> * 		name 要获取的样式名</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> */</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle) &#123;</span></span><br><span class="line"><span class="javascript">		<span class="comment">//正常浏览器的方式，具有getComputedStyle()方法</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span></span><br><span class="line"><span class="javascript">	&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">		<span class="comment">//IE8的方式，没有getComputedStyle()方法</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">return</span> obj.currentStyle[name];</span></span><br><span class="line"><span class="javascript">	&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">&#125;				</span></span><br><span class="line"><span class="javascript">			</span></span><br><span class="line"><span class="javascript">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>点击按钮以后box1向右移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn02&quot;</span>&gt;</span>点击按钮以后box1向左移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn03&quot;</span>&gt;</span>点击按钮以后box2向右移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn04&quot;</span>&gt;</span>测试按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 0; height: 1000px; border-left:1px black solid; position: absolute; left: 800px;top:0;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>轮播图</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;&lt;/title&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">			*&#123;</span><br><span class="line">				margin: 0;</span><br><span class="line">				padding: 0;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			/*</span><br><span class="line">			 * 设置outer的样式</span><br><span class="line">			 */</span><br><span class="line">			#outer&#123;</span><br><span class="line">				/*设置宽和高*/</span><br><span class="line">				width: 520px;</span><br><span class="line">				height: 333px;</span><br><span class="line">				/*居中*/</span><br><span class="line">				margin: 50px auto;</span><br><span class="line">				/*设置背景颜色*/</span><br><span class="line">				background-color: greenyellow;</span><br><span class="line">				/*设置padding*/</span><br><span class="line">				padding: 10px 0;</span><br><span class="line">				/*开启相对定位*/</span><br><span class="line">				position: relative;</span><br><span class="line">				/*裁剪溢出的内容*/</span><br><span class="line">				overflow: hidden;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			/*设置imgList*/</span><br><span class="line">			#imgList&#123;</span><br><span class="line">				/*去除项目符号*/</span><br><span class="line">				list-style: none;</span><br><span class="line">				/*设置ul的宽度*/</span><br><span class="line">				/*width: 2600px;*/</span><br><span class="line">				/*开启绝对定位*/</span><br><span class="line">				position: absolute;</span><br><span class="line">				/*设置偏移量*/</span><br><span class="line">				/*</span><br><span class="line">				 * 每向左移动520px，就会显示到下一张图片</span><br><span class="line">				 */</span><br><span class="line">				left: 0px;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			/*设置图片中的li*/</span><br><span class="line">			#imgList li&#123;</span><br><span class="line">				/*设置浮动*/</span><br><span class="line">				float: left;</span><br><span class="line">				/*设置左右外边距*/</span><br><span class="line">				margin: 0 10px;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			/*设置导航按钮*/</span><br><span class="line">			#navDiv&#123;</span><br><span class="line">				/*开启绝对定位*/</span><br><span class="line">				position: absolute;</span><br><span class="line">				/*设置位置*/</span><br><span class="line">				bottom: 15px;</span><br><span class="line">				/*设置left值</span><br><span class="line">				 	outer宽度  520</span><br><span class="line">				 	navDiv宽度 25*5 = 125</span><br><span class="line">				 		520 - 125 = 395/2 = 197.5</span><br><span class="line">				 * */</span><br><span class="line">				/*left: 197px;*/</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			#navDiv a&#123;</span><br><span class="line">				/*设置超链接浮动*/</span><br><span class="line">				float: left;</span><br><span class="line">				/*设置超链接的宽和高*/</span><br><span class="line">				width: 15px;</span><br><span class="line">				height: 15px;</span><br><span class="line">				/*设置背景颜色*/</span><br><span class="line">				background-color: red;</span><br><span class="line">				/*设置左右外边距*/</span><br><span class="line">				margin: 0 5px;</span><br><span class="line">				/*设置透明*/</span><br><span class="line">				opacity: 0.5;</span><br><span class="line">				/*兼容IE8透明*/</span><br><span class="line">				filter: alpha(opacity=50);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			/*设置鼠标移入的效果*/</span><br><span class="line">			#navDiv a:hover&#123;</span><br><span class="line">				background-color: black;</span><br><span class="line">			&#125;</span><br><span class="line">		&lt;/style&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;!--引用工具--&gt;</span><br><span class="line">		&lt;script type=&quot;text/javascript&quot; src=&quot;js/tools.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">		&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">			window.onload = function()&#123;</span><br><span class="line">				//获取imgList</span><br><span class="line">				var imgList = document.getElementById(&quot;imgList&quot;);</span><br><span class="line">				//获取页面中所有的img标签</span><br><span class="line">				var imgArr = document.getElementsByTagName(&quot;img&quot;);</span><br><span class="line">				//设置imgList的宽度</span><br><span class="line">				imgList.style.width = 520*imgArr.length+&quot;px&quot;;</span><br><span class="line">				</span><br><span class="line">				</span><br><span class="line">				/*设置导航按钮居中*/</span><br><span class="line">				//获取navDiv</span><br><span class="line">				var navDiv = document.getElementById(&quot;navDiv&quot;);</span><br><span class="line">				//获取outer</span><br><span class="line">				var outer = document.getElementById(&quot;outer&quot;);</span><br><span class="line">				//设置navDiv的left值</span><br><span class="line">				navDiv.style.left = (outer.offsetWidth - navDiv.offsetWidth)/2 + &quot;px&quot;;</span><br><span class="line">				</span><br><span class="line">				//默认显示图片的索引</span><br><span class="line">				var index = 0;</span><br><span class="line">				//获取所有的a</span><br><span class="line">				var allA = document.getElementsByTagName(&quot;a&quot;);</span><br><span class="line">				//设置默认选中的效果</span><br><span class="line">				allA[index].style.backgroundColor = &quot;black&quot;;</span><br><span class="line">				</span><br><span class="line">				/*</span><br><span class="line">				 	点击超链接切换到指定的图片</span><br><span class="line">				 		点击第一个超链接，显示第一个图片</span><br><span class="line">				 		点击第二个超链接，显示第二个图片</span><br><span class="line">				 * */</span><br><span class="line">				</span><br><span class="line">				//为所有的超链接都绑定单击响应函数</span><br><span class="line">				for(var i=0; i&lt;allA.length ; i++)&#123;</span><br><span class="line">					</span><br><span class="line">					//为每一个超链接都添加一个num属性</span><br><span class="line">					allA[i].num = i;</span><br><span class="line">					</span><br><span class="line">					//为超链接绑定单击响应函数</span><br><span class="line">					allA[i].onclick = function()&#123;</span><br><span class="line">						</span><br><span class="line">						//关闭自动切换的定时器</span><br><span class="line">						clearInterval(timer);</span><br><span class="line">						//获取点击超链接的索引,并将其设置为index</span><br><span class="line">						index = this.num;</span><br><span class="line">						</span><br><span class="line">						//切换图片</span><br><span class="line">						/*</span><br><span class="line">						 * 第一张  0 0</span><br><span class="line">						 * 第二张  1 -520</span><br><span class="line">						 * 第三张  2 -1040</span><br><span class="line">						 */</span><br><span class="line">						//imgList.style.left = -520*index + &quot;px&quot;;</span><br><span class="line">						//设置选中的a</span><br><span class="line">						setA();</span><br><span class="line">						</span><br><span class="line">						//使用move函数来切换图片</span><br><span class="line">						move(imgList , &quot;left&quot; , -520*index , 20 , function()&#123;</span><br><span class="line">							//动画执行完毕，开启自动切换</span><br><span class="line">							autoChange();</span><br><span class="line">						&#125;);</span><br><span class="line">						</span><br><span class="line">					&#125;;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				</span><br><span class="line">				//开启自动切换图片</span><br><span class="line">				autoChange();</span><br><span class="line">				</span><br><span class="line">				</span><br><span class="line">				//创建一个方法用来设置选中的a</span><br><span class="line">				function setA()&#123;</span><br><span class="line">					</span><br><span class="line">					//判断当前索引是否是最后一张图片</span><br><span class="line">					if(index &gt;= imgArr.length - 1)&#123;</span><br><span class="line">						//则将index设置为0</span><br><span class="line">						index = 0;</span><br><span class="line">						</span><br><span class="line">						//此时显示的最后一张图片，而最后一张图片和第一张是一摸一样</span><br><span class="line">						//通过CSS将最后一张切换成第一张</span><br><span class="line">						imgList.style.left = 0;</span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">					//遍历所有a，并将它们的背景颜色设置为红色</span><br><span class="line">					for(var i=0 ; i&lt;allA.length ; i++)&#123;</span><br><span class="line">						allA[i].style.backgroundColor = &quot;&quot;;</span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">					//将选中的a设置为黑色</span><br><span class="line">					allA[index].style.backgroundColor = &quot;black&quot;;</span><br><span class="line">				&#125;;</span><br><span class="line">				</span><br><span class="line">				//定义一个自动切换的定时器的标识</span><br><span class="line">				var timer;</span><br><span class="line">				//创建一个函数，用来开启自动切换图片</span><br><span class="line">				function autoChange()&#123;</span><br><span class="line">					</span><br><span class="line">					//开启一个定时器，用来定时去切换图片</span><br><span class="line">					timer = setInterval(function()&#123;</span><br><span class="line">						</span><br><span class="line">						//使索引自增</span><br><span class="line">						index++;</span><br><span class="line">						</span><br><span class="line">						//判断index的值</span><br><span class="line">						index %= imgArr.length;</span><br><span class="line">						</span><br><span class="line">						//执行动画，切换图片</span><br><span class="line">						move(imgList , &quot;left&quot; , -520*index , 20 , function()&#123;</span><br><span class="line">							//修改导航按钮</span><br><span class="line">							setA();</span><br><span class="line">						&#125;);</span><br><span class="line">						</span><br><span class="line">					&#125;,3000);</span><br><span class="line">					</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				</span><br><span class="line">			&#125;;</span><br><span class="line">			</span><br><span class="line">		&lt;/script&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;!-- 创建一个外部的div，来作为大的容器 --&gt;</span><br><span class="line">		&lt;div id=&quot;outer&quot;&gt;</span><br><span class="line">			&lt;!-- 创建一个ul，用于放置图片 --&gt;</span><br><span class="line">			&lt;ul id=&quot;imgList&quot;&gt;</span><br><span class="line">				&lt;li&gt;&lt;img src=&quot;img/1.jpg&quot;/&gt;&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;&lt;img src=&quot;img/2.jpg&quot;/&gt;&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;&lt;img src=&quot;img/3.jpg&quot;/&gt;&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;&lt;img src=&quot;img/4.jpg&quot;/&gt;&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;&lt;img src=&quot;img/5.jpg&quot;/&gt;&lt;/li&gt;</span><br><span class="line">				&lt;li&gt;&lt;img src=&quot;img/1.jpg&quot;/&gt;&lt;/li&gt;</span><br><span class="line">			&lt;/ul&gt;</span><br><span class="line">			&lt;!--创建导航按钮--&gt;</span><br><span class="line">			&lt;div id=&quot;navDiv&quot;&gt;</span><br><span class="line">				&lt;a href=&quot;javascript:;&quot;&gt;&lt;/a&gt;</span><br><span class="line">				&lt;a href=&quot;javascript:;&quot;&gt;&lt;/a&gt;</span><br><span class="line">				&lt;a href=&quot;javascript:;&quot;&gt;&lt;/a&gt;</span><br><span class="line">				&lt;a href=&quot;javascript:;&quot;&gt;&lt;/a&gt;</span><br><span class="line">				&lt;a href=&quot;javascript:;&quot;&gt;&lt;/a&gt;</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="类操作"><a href="#类操作" class="headerlink" title="类操作"></a>类操作</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">//定义一个函数，用来向一个元素中添加指定的class属性值</span><br><span class="line">/*</span><br><span class="line"> * 参数:</span><br><span class="line"> * 	obj 要添加class属性的元素</span><br><span class="line"> *  cn 要添加的class值</span><br><span class="line"> * 	</span><br><span class="line"> */</span><br><span class="line">function addClass(obj, cn) &#123;</span><br><span class="line"></span><br><span class="line">	//检查obj中是否含有cn</span><br><span class="line">	if(!hasClass(obj, cn)) &#123;</span><br><span class="line">		obj.className += &quot; &quot; + cn;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * 判断一个元素中是否含有指定的class属性值</span><br><span class="line"> * 	如果有该class，则返回true，没有则返回false</span><br><span class="line"> * 	</span><br><span class="line"> */</span><br><span class="line">function hasClass(obj, cn) &#123;</span><br><span class="line"></span><br><span class="line">	//判断obj中有没有cn class</span><br><span class="line">	//创建一个正则表达式</span><br><span class="line">	//var reg = /\bb2\b/;</span><br><span class="line">	var reg = new RegExp(&quot;\\b&quot; + cn + &quot;\\b&quot;);</span><br><span class="line"></span><br><span class="line">	return reg.test(obj.className);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * 删除一个元素中的指定的class属性</span><br><span class="line"> */</span><br><span class="line">function removeClass(obj, cn) &#123;</span><br><span class="line">	//创建一个正则表达式</span><br><span class="line">	var reg = new RegExp(&quot;\\b&quot; + cn + &quot;\\b&quot;);</span><br><span class="line"></span><br><span class="line">	//删除class</span><br><span class="line">	obj.className = obj.className.replace(reg, &quot;&quot;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * toggleClass可以用来切换一个类</span><br><span class="line"> * 	如果元素中具有该类，则删除</span><br><span class="line"> * 	如果元素中没有该类，则添加</span><br><span class="line"> */</span><br><span class="line">function toggleClass(obj, cn) &#123;</span><br><span class="line"></span><br><span class="line">	//判断obj中是否含有cn</span><br><span class="line">	if(hasClass(obj, cn)) &#123;</span><br><span class="line">		//有，则删除</span><br><span class="line">		removeClass(obj, cn);</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		//没有，则添加</span><br><span class="line">		addClass(obj, cn);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">平心</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://pingxin0521.gitee.io/2019/05/04/JavaScript-%E5%9F%BA%E7%A1%80-5/">https://pingxin0521.gitee.io/2019/05/04/JavaScript-%E5%9F%BA%E7%A1%80-5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://pingxin0521.gitee.io" target="_blank">平心de小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/05/05/Java-%E9%AB%98%E7%BA%A7-1-1-1/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Java  Thread 同步和ThreadLocal原理</div></div></a></div><div class="next-post pull-right"><a href="/2019/05/04/%E6%95%B0%E6%8D%AE%E5%BA%93-MySQL-7/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">MySQL SQL 表创建（二）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2019/05/01/JavaScript-基础-6/" title="JavaScript 流程控制"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-29</div><div class="title">JavaScript 流程控制</div></div></a></div><div><a href="/2019/05/20/JavaScript-jQuery-1/" title="jQuery 入门"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-29</div><div class="title">jQuery 入门</div></div></a></div><div><a href="/2019/05/01/JavaScript-基础-2/" title="JavaScript 函数"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-29</div><div class="title">JavaScript 函数</div></div></a></div><div><a href="/2019/05/07/JavaScript-基础-11/" title="JavaScript AJAX"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/7dHvepmfYOLWTrX.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-29</div><div class="title">JavaScript AJAX</div></div></a></div><div><a href="/2019/05/02/JavaScript-基础-3/" title="JavaScript 标准对象(一)"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/7dHvepmfYOLWTrX.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-29</div><div class="title">JavaScript 标准对象(一)</div></div></a></div><div><a href="/2019/05/03/JavaScript-基础-4/" title="JavaScript 面向对象编程"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-29</div><div class="title">JavaScript 面向对象编程</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s2.ax1x.com/2020/02/11/1ovw6J.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">平心</div><div class="author-info__description">年轻人的life、learn and think</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">449</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">68</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hanyunpeng0521"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/hanyunpeng0521" target="_blank" title="Github"><i class="fa fa-github"></i></a><a class="social-icon" href="mailto:m13839441583@163.com" target="_blank" title="Email"><i class="fa fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">为什么呢？开始提问吧</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.</span> <span class="toc-text">浏览器对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#window"><span class="toc-number">1.1.</span> <span class="toc-text">window</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#navigator"><span class="toc-number">1.2.</span> <span class="toc-text">navigator</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#screen"><span class="toc-number">1.3.</span> <span class="toc-text">screen</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#location"><span class="toc-number">1.4.</span> <span class="toc-text">location</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#document"><span class="toc-number">1.5.</span> <span class="toc-text">document</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#history"><span class="toc-number">1.6.</span> <span class="toc-text">history</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#console"><span class="toc-number">2.</span> <span class="toc-text">console</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E8%B0%83%E7%94%A8"><span class="toc-number">2.2.</span> <span class="toc-text">定时调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%B6%E6%97%B6%E8%B0%83%E7%94%A8"><span class="toc-number">2.3.</span> <span class="toc-text">延时调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E6%93%8D%E4%BD%9C"><span class="toc-number">2.4.</span> <span class="toc-text">类操作</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/15/node-2-4/" title="Egg.js -- 为企业级框架和应用而生"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Egg.js -- 为企业级框架和应用而生"/></a><div class="content"><a class="title" href="/2021/05/15/node-2-4/" title="Egg.js -- 为企业级框架和应用而生">Egg.js -- 为企业级框架和应用而生</a><time datetime="2021-05-15T10:18:59.000Z" title="发表于 2021-05-15 18:18:59">2021-05-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/30/node-2-3/" title="Koa -- 基于Node.js平台的下一代Web开发框架"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Koa -- 基于Node.js平台的下一代Web开发框架"/></a><div class="content"><a class="title" href="/2021/04/30/node-2-3/" title="Koa -- 基于Node.js平台的下一代Web开发框架">Koa -- 基于Node.js平台的下一代Web开发框架</a><time datetime="2021-04-30T10:18:59.000Z" title="发表于 2021-04-30 18:18:59">2021-04-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/01/node-2-1/" title="Node.JS web开发前置知识"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Node.JS web开发前置知识"/></a><div class="content"><a class="title" href="/2021/04/01/node-2-1/" title="Node.JS web开发前置知识">Node.JS web开发前置知识</a><time datetime="2021-04-01T03:18:59.000Z" title="发表于 2021-04-01 11:18:59">2021-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-1/" title="第十一周--谷歌浏览器插件"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第十一周--谷歌浏览器插件"/></a><div class="content"><a class="title" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-1/" title="第十一周--谷歌浏览器插件">第十一周--谷歌浏览器插件</a><time datetime="2020-12-26T10:18:59.000Z" title="发表于 2020-12-26 18:18:59">2020-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-0/" title="第十一周--浏览器技术"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/vCnKyoFJZ1g4XYR.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第十一周--浏览器技术"/></a><div class="content"><a class="title" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-0/" title="第十一周--浏览器技术">第十一周--浏览器技术</a><time datetime="2020-12-26T06:18:59.000Z" title="发表于 2020-12-26 14:18:59">2020-12-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By 平心</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '4lfIXzqxaC1ONs0MJO4oHu07-gzGzoHsz',
      appKey: 'qw99Bw8FD0KVKU9m457CwWsr',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: true,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>