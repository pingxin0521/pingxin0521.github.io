<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>SVN入门 | 平心de小屋</title><meta name="keywords" content="工具,版本控制,SVN"><meta name="author" content="平心"><meta name="copyright" content="平心"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言SVN是Subversion的简称，目前是Apache项目底下的一个开放源代码的版本控制系统，它的设计目标就是取代CVS。互联网上很多版本控制服务已从CVS迁移到Subversion。说得简单一点SVN就是用于多个人共同开发同一个项目，共用资源的目的。">
<meta property="og:type" content="article">
<meta property="og:title" content="SVN入门">
<meta property="og:url" content="https://pingxin0521.gitee.io/2019/03/19/%E5%B7%A5%E5%85%B7-SVN-1/index.html">
<meta property="og:site_name" content="平心de小屋">
<meta property="og:description" content="前言SVN是Subversion的简称，目前是Apache项目底下的一个开放源代码的版本控制系统，它的设计目标就是取代CVS。互联网上很多版本控制服务已从CVS迁移到Subversion。说得简单一点SVN就是用于多个人共同开发同一个项目，共用资源的目的。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg">
<meta property="article:published_time" content="2019-03-19T01:18:59.000Z">
<meta property="article:modified_time" content="2019-04-06T08:43:52.000Z">
<meta property="article:author" content="平心">
<meta property="article:tag" content="工具">
<meta property="article:tag" content="版本控制">
<meta property="article:tag" content="SVN">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg"><link rel="shortcut icon" href="https://s2.ax1x.com/2020/02/11/1ovFOA.png"><link rel="canonical" href="https://pingxin0521.gitee.io/2019/03/19/%E5%B7%A5%E5%85%B7-SVN-1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SVN入门',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2019-04-06 16:43:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s2.ax1x.com/2020/02/11/1ovw6J.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">449</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">68</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">平心de小屋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SVN入门</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-03-19T01:18:59.000Z" title="发表于 2019-03-19 09:18:59">2019-03-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2019-04-06T08:43:52.000Z" title="更新于 2019-04-06 16:43:52">2019-04-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/">版本控制</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/SVN/">SVN</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>27分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SVN入门"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>SVN是Subversion的简称，目前是Apache项目底下的一个开放源代码的版本控制系统，它的设计目标就是取代CVS。互联网上很多版本控制服务已从CVS迁移到Subversion。说得简单一点SVN就是用于多个人共同开发同一个项目，共用资源的目的。</p>
<span id="more"></span>

<p>SVN 官网：<a target="_blank" rel="noopener" href="https://subversion.apache.org/">https://subversion.apache.org/</a></p>
<p>Github SVN 源码：<a target="_blank" rel="noopener" href="https://github.com/apache/subversion">https://github.com/apache/subversion</a></p>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>Subversion(SVN) 是一个开源的版本控制系統, 也就是说 Subversion 管理着随时间改变的数据。 这些数据放置在一个中央资料档案库(repository) 中。 这个档案库很像一个普通的文件服务器, 不过它会记住每一次文件的变动。 这样你就可以把档案恢复到旧的版本, 或是浏览文件的变动历史。</p>
<h4 id="概念："><a href="#概念：" class="headerlink" title="概念："></a>概念：</h4><ul>
<li><strong>repository（源代码库）:</strong> 源代码统一存放的地方</li>
<li><strong>Checkout（提取）:</strong> 当你手上没有源代码的时候，你需要从repository checkout一份</li>
<li><strong>Commit（提交）:</strong> 当你已经修改了代码，你就需要Commit到repository</li>
<li><strong>Update (更新):</strong> 当你已经Checkout了一份源代码， Update一下你就可以和Repository上的源代码同步，你手上的代码就会有最新的变更</li>
</ul>
<p>日常开发过程其实就是这样的（假设你已经Checkout并且已经工作了几天）：Update(获得最新的代码) –&gt;作出自己的修改并调试成功 –&gt; Commit(大家就可以看到你的修改了) 。</p>
<p>如果两个程序员同时修改了同一个文件呢, SVN可以合并这两个程序员的改动，实际上SVN管理源代码是以行为单位的，就是说两个程序员只要不是修改了同一行程序，SVN都会自动合并两种修改。如果是同一行，SVN会提示文件Confict, 冲突，需要手动确认。</p>
<h4 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h4><ul>
<li><p>（1）目录版本控制</p>
<p>CVS 只能跟踪单个文件的历史, 不过 Subversion 实作了一个 “虚拟” 的版本控管文件系统, 能够依时间跟踪整个目录的变动。 目录和文件都能进行版本控制。</p>
</li>
<li><p>（2）真实的版本历史</p>
<p>自从CVS限制了文件的版本记录，CVS并不支持那些可能发生在文件上，但会影响所在目录内容的操作，如同复制和重命名。除此之外，在CVS里你不能用拥有同样名字但是没有继承老版本历史或者根本没有关系的文件替换一个已经纳入系统的文件。在Subversion中，你可以增加（add）、删除（delete）、复制（copy）和重命名（rename），无论是文件还是目录。所有的新加的文件都从一个新的、干净的版本开始。</p>
</li>
<li><p>（3）自动提交</p>
<p>一个提交动作，不是全部更新到了档案库中，就是不完全更新。这允许开发人员以逻辑区间建立并提交变动，以防止当部分提交成功时出现的问题。</p>
</li>
<li><p>（4）纳入版本控管的元数据</p>
<p>每一个文件与目录都附有一組属性关键字并和属性值相关联。你可以创建, 并儲存任何你想要的Key/Value对。 属性是随着时间来作版本控管的,就像文件內容一样。</p>
</li>
<li><p>（5）选择不同的网络层</p>
<p>Subversion 有抽象的档案库存取概念, 可以让人很容易地实作新的网络机制。 Subversion 可以作为一个扩展模块嵌入到Apache HTTP 服务器中。这个为Subversion提供了非常先进的稳定性和协同工作能力，除此之外还提供了许多重要功能: 举例来说, 有身份认证, 授权, 在线压缩, 以及文件库浏览等等。还有一个轻量级的独立Subversion服务器， 使用的是自定义的通信协议, 可以很容易地通过 ssh 以 tunnel 方式使用。</p>
</li>
<li><p>（6）一致的数据处理方式</p>
<p>Subversion 使用二进制差异算法来异表示文件的差异, 它对文字(人类可理解的)与二进制文件(人类无法理解的) 两类的文件都一视同仁。 这两类的文件都同样地以压缩形式储存在档案库中, 而且文件差异是以两个方向在网络上传输的。</p>
</li>
<li><p>（7）有效的分支(branch)与标签(tag)</p>
<p>在分支与标签上的消耗并不必一定要与项目大小成正比。 Subversion 建立分支与标签的方法, 就只是复制该项目, 使用的方法就类似于硬连接（hard-link）。 所以这些操作只会花费很小, 而且是固定的时间。</p>
</li>
<li><p>（8）Hackability</p>
<p>Subversion没有任何的历史包袱; 它主要是一群共用的 C 程序库, 具有定义完善的API。这使得 Subversion 便于维护, 并且可被其它应用程序与程序语言使用。</p>
</li>
</ul>
<h4 id="优于CVS之处"><a href="#优于CVS之处" class="headerlink" title="优于CVS之处"></a>优于CVS之处</h4><p>1、原子提交。一次提交不管是单个还是多个文件，都是作为一个整体提交的。在这当中发生的意外例如传输中断，不会引起数据库的不完整和数据损坏。</p>
<p>2、重命名、复制、删除文件等动作都保存在版本历史记录当中。</p>
<p>3、对于二进制文件，使用了节省空间的保存方法。（简单的理解，就是只保存和上一版本不同之处）</p>
<p>4、目录也有版本历史。整个目录树可以被移动或者复制，操作很简单，而且能够保留全部版本记录。</p>
<p>5、分支的开销非常小。</p>
<p>6、优化过的数据库访问，使得一些操作不必访问数据库就可以做到。这样减少了很多不必要的和数据库主机之间的网络流量。</p>
<p>SVN适合对访问控制、权限分配和代码安全性等要求比较高的项目。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>不建议源码安装，依赖过多(apr—&gt;apr-util—&gt;scons—&gt;openssl—&gt;serf—&gt;svn)。</p>
<p>ubuntu 18.10 上进行源码编译。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">sudo mkdir /soft</span><br><span class="line">sudo chown erge /soft</span><br><span class="line">sudo aptitude install gcc g++ \</span><br><span class="line">libxml2 libxml2-dev \</span><br><span class="line">libssl-dev curl libcurl4-openssl-dev \</span><br><span class="line">libpcre3 libpcre3-dev \</span><br><span class="line">libgd-dev nghttp2 zlib1g-dev libutf8proc-dev</span><br><span class="line">wget http://mirrors.tuna.tsinghua.edu.cn/apache/subversion/subversion-1.11.1.tar.gz</span><br><span class="line">tar zxvf subversion-*.tar.gz</span><br><span class="line">cd subversion-*/</span><br><span class="line">./get-deps.sh</span><br><span class="line">#如果没有安装apr和apr-util</span><br><span class="line">cd apr</span><br><span class="line">./configure --prefix=/usr/local/apr</span><br><span class="line">make -j 4 &amp;&amp; make install</span><br><span class="line">cd ../apr-util</span><br><span class="line">./configure --prefix=/usr/local/apr-util</span><br><span class="line">make -j 4 &amp;&amp; make install</span><br><span class="line">cd ..</span><br><span class="line">./configure --prefix=/soft/svn --with-apr=/soft/apr --with-apr-util=/soft/apr-util --with-lz4=internal</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p>之后配置环境变量，可以通过<code>svnversion</code>查看。</p>
<h4 id="CentOS上安装"><a href="#CentOS上安装" class="headerlink" title="CentOS上安装"></a>CentOS上安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> yum install subversion</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yum install mod_dav_svn</span></span><br></pre></td></tr></table></figure>

<p>其他操作系统上安装请参考<a target="_blank" rel="noopener" href="http://subversion.apache.org/packages.html">官网</a>。</p>
<h3 id="SVN命令"><a href="#SVN命令" class="headerlink" title="SVN命令"></a>SVN命令</h3><p><strong>1、</strong>将文件checkout到本地目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svn checkout path（path是服务器上的目录）</span><br><span class="line">例如：svn checkout svn://192.168.1.1/pro/domain</span><br><span class="line">简写：svn co</span><br></pre></td></tr></table></figure>

<p><strong>2、</strong>往版本库中添加新的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svn add file</span><br><span class="line">例如：svn add test.php(添加test.php)</span><br><span class="line">svn add *.php(添加当前目录下所有的php文件)</span><br></pre></td></tr></table></figure>

<p><strong>3、</strong>将改动的文件提交到版本库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> svn commit -m &quot;LogMessage&quot; [-N] [--no-unlock] PATH![img](http://hiphotos.baidu.com/li9chuan/pic/item/b74a713dbbc099a53c6d9730.jpg)(如果选择了保持锁，就使用--no-unlock开关)</span><br><span class="line">例如：svn commit -m &quot;add test file for my test&quot; test.php</span><br><span class="line">简写：svn ci</span><br></pre></td></tr></table></figure>

<p><strong>4、</strong>加锁/解锁</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svn lock -m &quot;LockMessage&quot; [--force] PATH![img](http://hiphotos.baidu.com/li9chuan/pic/item/992779eea23a95b0b3fb9530.jpg)</span><br><span class="line">例如：svn lock -m &quot;lock test file&quot; test.php</span><br><span class="line">svn unlock PATH</span><br></pre></td></tr></table></figure>

<p><strong>5、</strong>更新到某个版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svn update -r m path</span><br><span class="line">例如：</span><br><span class="line">svn update如果后面没有目录，默认将当前目录以及子目录下的所有文件都更新到最新版本。</span><br><span class="line">svn update -r 200 test.php(将版本库中的文件test.php还原到版本200)</span><br><span class="line">svn update test.php(更新，于版本库同步。如果在提交的时候提示过期的话，是因为冲突，</span><br><span class="line">需要先update，修改文件，然后清除svn resolved，最后再提交commit)</span><br><span class="line">简写：svn up</span><br></pre></td></tr></table></figure>

<p><strong>6、</strong>查看文件或者目录状态</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">1）svn status path![img](http://hiphotos.baidu.com/li9chuan/pic/item/82dd75fb13ac835d6c22eb30.jpg)（目录下的文件和子目录的状态，正常状态不显示）</span><br><span class="line"> 【?：不在svn的控制中；M：内容被修改；C：发生冲突；A：预定加入到版本库；K：被锁定】</span><br><span class="line">2）svn status -v path![img](http://hiphotos.baidu.com/li9chuan/pic/item/0d4b6316ce758f0121a4e930.jpg)(显示文件和子目录状态)</span><br><span class="line">第一列保持相同，第二列显示工作版本号，第三和第四列显示最后一次修改的版本号和修改人。</span><br><span class="line">注：svn status、svn diff和 svn revert这三条命令在没有网络的情况下也可以执行的，原因是svn在本地的.svn中保留了本地版本的原始拷贝。</span><br><span class="line">简写：svn st</span><br><span class="line"></span><br><span class="line">输出的前七栏各占一个字符宽度:</span><br><span class="line">    第一栏: 表示一个项目是增加、删除，还是修改</span><br><span class="line">      “ ” 无修改</span><br><span class="line">      “A” 增加</span><br><span class="line">      “C” 冲突</span><br><span class="line">      “D” 删除</span><br><span class="line">      “I” 忽略</span><br><span class="line">      “M” 改变</span><br><span class="line">      “R” 替换</span><br><span class="line">      “X” 未纳入版本控制的目录，被外部引用的目录所创建</span><br><span class="line">      “?” 未纳入版本控制</span><br><span class="line">      “!” 该项目已遗失(被非 svn 命令删除)或不完整</span><br><span class="line">      “~” 版本控制下的项目与其它类型的项目重名</span><br><span class="line">    第二栏: 显示目录或文件的属性状态</span><br><span class="line">      “ ” 无修改</span><br><span class="line">      “C” 冲突</span><br><span class="line">      “M” 改变</span><br><span class="line">    第三栏: 工作副本目录是否被锁定</span><br><span class="line">      “ ” 未锁定</span><br><span class="line">      “L” 锁定</span><br><span class="line">    第四栏: 已调度的提交是否包含副本历史</span><br><span class="line">      “ ” 没有历史</span><br><span class="line">      “+” 包含历史</span><br><span class="line">    第五栏: 该条目相对其父目录是否已切换，或者是外部引用的文件</span><br><span class="line">      “ ” 正常</span><br><span class="line">      “S” 已切换</span><br><span class="line">      “X” 被外部引用创建的文件</span><br><span class="line">    第六栏: 版本库锁定标记</span><br><span class="line">      (没有 -u)</span><br><span class="line">      “ ” 没有锁定标记</span><br><span class="line">      “K” 存在锁定标记</span><br><span class="line">      (使用 -u)</span><br><span class="line">      “ ” 没有在版本库中锁定，没有锁定标记</span><br><span class="line">      “K” 在版本库中被锁定，存在锁定标记</span><br><span class="line">      “O” 在版本库中被锁定，锁定标记在一些其他工作副本中</span><br><span class="line">      “T” 在版本库中被锁定，存在锁定标记但已被窃取</span><br><span class="line">      “B” 没有在版本库中被锁定，存在锁定标记但已被破坏</span><br><span class="line">    第七栏: 项目冲突标记</span><br><span class="line">      “ ” 正常</span><br><span class="line">      “C” 树冲突</span><br><span class="line">    如果项目包含于树冲突之中，在项目状态行后会附加行，说明冲突的种类。</span><br><span class="line"></span><br><span class="line">  是否过期的信息出现的位置是第九栏(与 -u 并用时):</span><br><span class="line">      “*” 服务器上有更新版本</span><br><span class="line">      “ ” 工作副本是最新版的</span><br><span class="line"></span><br><span class="line">  剩余的栏位皆为变动宽度，并以空白隔开:</span><br><span class="line">    工作版本号(使用 -u 或 -v 时；被复制时显示“-”)</span><br><span class="line">    最后提交的版本与最后提交的作者(使用 -v 时)</span><br><span class="line">    工作副本路径总是最后一栏，所以它可以包含空白字符。</span><br></pre></td></tr></table></figure>

<p><strong>7、</strong>删除文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">svn delete path -m &quot;delete test fle&quot;</span><br><span class="line">例如：svn delete svn://192.168.1.1/pro/domain/test.php -m &quot;delete test file&quot;</span><br><span class="line">或者直接svn delete test.php 然后再svn ci -m &#x27;delete test file‘，推荐使用这种</span><br><span class="line">简写：svn (del, remove, rm)</span><br></pre></td></tr></table></figure>

<p><strong>8、</strong>查看日志</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn log path</span><br><span class="line">例如：svn log test.php 显示这个文件的所有修改记录，及其版本号的变化</span><br></pre></td></tr></table></figure>

<p><strong>9、</strong>查看文件详细信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn info path</span><br><span class="line">  例如：svn info test.php</span><br></pre></td></tr></table></figure>

<p><strong>10、</strong>比较差异</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">svn diff path(将修改的文件与基础版本比较)</span><br><span class="line">例如：svn diff test.php</span><br><span class="line">svn diff -r m:n path(对版本m和版本n比较差异)</span><br><span class="line"> 例如：svn diff -r 200:201 test.php</span><br><span class="line"> 简写：svn di</span><br></pre></td></tr></table></figure>

<p><strong>11、</strong>将两个版本之间的差异合并到当前文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn merge -r m:n path</span><br><span class="line">例如：svn merge -r 200:205 test.php（将版本200与205之间的差异合并到当前文件，但是一般都会产生冲突，需要处理一下）</span><br></pre></td></tr></table></figure>

<p><strong>12、</strong>SVN 帮助</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn help</span><br><span class="line">svn help ci</span><br></pre></td></tr></table></figure>

<p>-—————————————————————————–</p>
<p>以上是常用命令，下面写几个不经常用的</p>
<p>-—————————————————————————–</p>
<p><strong>13、</strong>版本库下的文件和目录列表</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn list path #显示path目录下的所有属于版本库的文件和目录</span><br><span class="line">简写：svn ls</span><br></pre></td></tr></table></figure>

<p><strong>14、</strong>创建纳入版本控制下的新目录</p>
<p>svn mkdir: 创建纳入版本控制下的新目录。<br>用法: 1、mkdir PATH…<br>         2、mkdir URL…<br>创建版本控制的目录。<br>1、每一个以工作副本 PATH 指定的目录，都会创建在本地端，并且加入新增<br>     调度，以待下一次的提交。<br>2、每个以URL指定的目录，都会透过立即提交于仓库中创建。<br>在这两个情况下，所有的中间目录都必须事先存在。</p>
<p><strong>15、</strong>恢复本地修改</p>
<p><strong>svn revert</strong>: 恢复原始未改变的工作副本文件 (恢复大部份的本地修改)。revert:<br>用法: revert PATH…<br>注意: 本子命令不会存取网络，并且会解除冲突的状况。但是它不会恢复<br>        被删除的目录</p>
<p><strong>16、</strong>代码库URL变更</p>
<p><strong>svn switch (sw):</strong> 更新工作副本至不同的URL。<br>用法: 1、switch URL [PATH]<br>        2、switch –relocate FROM TO [PATH…]</p>
<p>1、更新你的工作副本，映射到一个新的URL，其行为跟“svn update”很像，也会将<br>     服务器上文件与本地文件合并。这是将工作副本对应到同一仓库中某个分支或者标记的<br>     方法。<br>2、改写工作副本的URL元数据，以反映单纯的URL上的改变。当仓库的根URL变动<br>    (比如方案名或是主机名称变动)，但是工作副本仍旧对映到同一仓库的同一目录时使用<br>    这个命令更新工作副本与仓库的对应关系。</p>
<p><strong>17、</strong>解决冲突</p>
<p><strong>svn resolved:</strong> 移除工作副本的目录或文件的“冲突”状态。<br>用法: resolved PATH…<br>注意: 本子命令不会依语法来解决冲突或是移除冲突标记；它只是移除冲突的<br>        相关文件，然后让 PATH 可以再次提交。</p>
<p><strong>18、</strong>输出指定文件或URL的内容。</p>
<p><strong>svn</strong> <strong>cat</strong> 目标[@版本]…如果指定了版本，将从指定的版本开始查找。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn cat -r PREV filename &gt; filename</span><br></pre></td></tr></table></figure>

<p>(PREV 是上一版本,也可以写具体版本号,这样输出结果是可以提交的)</p>
<p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/feifei-cyj/p/7904947.html">Linux SVN 命令详解</a></p>
<h3 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h3><h4 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h4><p>版本库相当于一个集中的空间，用于存放开发者所有的工作成果。版本库不仅能存放文件，还包括了每次修改的历史，即每个文件的变动历史。</p>
<p>Create 操作是用来创建一个新的版本库。大多数情况下这个操作只会执行一次。当你创建一个新的版本库的时候，你的版本控制系统会让你提供一些信息来标识版本库，例如创建的位置和版本库的名字。</p>
<h4 id="检出"><a href="#检出" class="headerlink" title="检出"></a>检出</h4><p>Checkout 操作是用来从版本库创建一个工作副本。工作副本是开发者私人的工作空间，可以进行内容的修改，然后提交到版本库中。</p>
<h4 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h4><p>顾名思义，update 操作是用来更新版本库的。这个操作将工作副本与版本库进行同步。由于版本库是由整个团队共用的，当其他人提交了他们的改动之后，你的工作副本就会过期。</p>
<p>让我们假设 Tom 和 Jerry 是一个项目的两个开发者。他们同时从版本库中检出了最新的版本并开始工作。此时，工作副本是与版本库完全同步的。然后，Jerry 很高效的完成了他的工作并提交了更改到版本库中。</p>
<p>此时 Tom 的工作副本就过期了。更新操作将会从版本库中拉取 Jerry 的最新改动并将 Tom 的工作副本进行更新。</p>
<h4 id="执行变更"><a href="#执行变更" class="headerlink" title="执行变更"></a>执行变更</h4><p>当检出之后，你就可以做很多操作来执行变更。编辑是最常用的操作。你可以编辑已存在的文件来，例如进行文件的添加/删除操作。</p>
<p>你可以添加文件/目录。但是这些添加的文件目录不会立刻成为版本库的一部分，而是被添加进待变更列表中，直到执行了 commit 操作后才会成为版本库的一部分。</p>
<p>同样地你可以删除文件/目录。删除操作立刻将文件从工作副本中删除掉，但该文件的实际删除只是被添加到了待变更列表中，直到执行了 commit 操作后才会真正删除。</p>
<p>Rename 操作可以更改文件/目录的名字。”移动”操作用来将文件/目录从一处移动到版本库中的另一处。</p>
<h4 id="复查变化"><a href="#复查变化" class="headerlink" title="复查变化"></a>复查变化</h4><p>当你检出工作副本或者更新工作副本后，你的工作副本就跟版本库完全同步了。但是当你对工作副本进行一些修改之后，你的工作副本会比版本库要新。在 commit 操作之前复查下你的修改是一个很好的习惯。</p>
<p>Status 操作列出了工作副本中所进行的变动。正如我们之前提到的，你对工作副本的任何改动都会成为待变更列表的一部分。Status 操作就是用来查看这个待变更列表。</p>
<p>Status 操作只是提供了一个变动列表，但并不提供变动的详细信息。你可以用 diff 操作来查看这些变动的详细信息。</p>
<h4 id="修复错误"><a href="#修复错误" class="headerlink" title="修复错误"></a>修复错误</h4><p>我们来假设你对工作副本做了许多修改，但是现在你不想要这些修改了，这时候 revert 操作将会帮助你。</p>
<p>Revert 操作重置了对工作副本的修改。它可以重置一个或多个文件/目录。当然它也可以重置整个工作副本。在这种情况下，revert 操作将会销毁待变更列表并将工作副本恢复到原始状态。</p>
<h4 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h4><p>合并的时候可能会发生冲突。Merge 操作会自动处理可以安全合并的东西。其它的会被当做冲突。例如，”hello.c” 文件在一个分支上被修改，在另一个分支上被删除了。这种情况就需要人为处理。Resolve 操作就是用来帮助用户找出冲突并告诉版本库如何处理这些冲突。</p>
<h4 id="提交更改"><a href="#提交更改" class="headerlink" title="提交更改"></a>提交更改</h4><p>Commit 操作是用来将更改从工作副本到版本库。这个操作会修改版本库的内容，其它开发者可以通过更新他们的工作副本来查看这些修改。</p>
<p>在提交之前，你必须将文件/目录添加到待变更列表中。列表中记录了将会被提交的改动。当提交的时候，我们通常会提供一个注释来说明为什么会进行这些改动。这个注释也会成为版本库历史记录的一部分。Commit 是一个原子操作，也就是说要么完全提交成功，要么失败回滚。用户不会看到成功提交一半的情况。</p>
<h3 id="SVN启动模式"><a href="#SVN启动模式" class="headerlink" title="SVN启动模式"></a>SVN启动模式</h3><p>首先,在服务端进行SVN版本库的相关配置</p>
<p>手动新建版本库目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost ~]$ sudo mkdir /opt/svn</span><br><span class="line">[hyp@localhost Auth]$ sudo chmod -R o+rw /opt/svn/</span><br></pre></td></tr></table></figure>

<p>利用svn命令创建版本库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost ~]$ sudo svnadmin create /opt/svn/Auth</span><br></pre></td></tr></table></figure>

<p>使用命令svnserve启动服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost ~]$ sudo svnserve -d -r 目录 --listen-port 端口号</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>-r:</strong> 配置方式决定了版本库访问方式。</li>
<li><strong>–listen-port:</strong> 指定SVN监听端口，不加此参数，SVN默认监听3690</li>
<li>由于-r 配置方式的不一样，SVN启动就可以有两种不同的访问方式</li>
</ul>
<p>方式一：-r直接指定到版本库(称之为单库svnserve方式）</p>
<ul>
<li><p>```<br>[hyp@localhost ~]$ sudo svnserve -d -r /opt/svn/Auth</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 在这种情况下，一个svnserve只能为一个版本库工作。</span><br><span class="line"></span><br><span class="line">- authz配置文件中对版本库权限的配置应这样写：</span><br><span class="line"></span><br><span class="line">- ```</span><br><span class="line">  [groups]</span><br><span class="line">  admin=user1</span><br><span class="line">  dev=user2</span><br><span class="line">  [/]</span><br><span class="line">  @admin=rw</span><br><span class="line">  user2=r</span><br></pre></td></tr></table></figure></li>
<li><p>使用类似这样的URL：svn://192.168.0.1/　即可访问runoob版本库</p>
</li>
<li><p>方式二：指定到版本库的上级目录(称之为多库svnserve方式)</p>
</li>
<li><p>```<br>[hyp@localhost ~]$ sudo svnserve -d -r /opt/svn</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 这种情况，一个svnserve可以为多个版本库工作</span><br><span class="line"></span><br><span class="line">- authz配置文件中对版本库权限的配置应这样写：</span><br><span class="line"></span><br><span class="line">- ```</span><br><span class="line">  [groups]</span><br><span class="line">  admin=user1</span><br><span class="line">  dev=user2</span><br><span class="line">  [runoob:/]</span><br><span class="line">  @admin=rw</span><br><span class="line">  user2=r</span><br><span class="line"></span><br><span class="line">  [runoob01:/]</span><br><span class="line">  @admin=rw</span><br><span class="line">  user2=r</span><br></pre></td></tr></table></figure></li>
<li><p>如果此时你还用[/]，则表示所有库的根目录，同理，[/src]表示所有库的根目录下的src目录。</p>
</li>
<li><p>使用类似这样的URL：svn://192.168.0.1/Auth，即可访问Auth版本库。</p>
</li>
<li><p><strong>查看SVN进程</strong></p>
</li>
<li><p>```shell</p>
<h1 id="ps-ef-grep-svn-grep-v-grep"><a href="#ps-ef-grep-svn-grep-v-grep" class="headerlink" title="ps -ef|grep svn|grep -v grep"></a>ps -ef|grep svn|grep -v grep</h1><p>root 12538 1 0 14:40 ? 00:00:00 svnserve -d -r /opt/svn/repositories</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-  **检测SVN端口**</span><br><span class="line"></span><br><span class="line">- ```shell</span><br><span class="line">  # netstat -ln |grep 3690</span><br><span class="line">  tcp 0 0 0.0.0.0:3690 0.0.0.0:* LISTEN</span><br></pre></td></tr></table></figure></li>
<li><p><strong>停止重启SVN：</strong></p>
</li>
<li><p>```shell<br> killall svnserve #停止<br> svnserve -d -r /opt/svn # 启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 创建版本库</span><br><span class="line"></span><br><span class="line">使用svn命令创建资源库</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">[hyp@localhost ~]$ sudo svnadmin create /opt/svn/Auth</span><br></pre></td></tr></table></figure></li>
</ul>
<p>进入/opt/svn/Auth/conf目录 修改默认配置文件配置，包括svnserve.conf、passwd、authz 配置相关用户和权限。</p>
<p>1、svn服务配置文件svnserve.conf</p>
<p>svn服务配置文件为版本库目录中的文件conf/svnserve.conf。该文件仅由一个[general]配置段组成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[general]</span><br><span class="line">anon-access = none</span><br><span class="line">auth-access = write</span><br><span class="line">password-db = /home/svn/passwd</span><br><span class="line">authz-db = /home/svn/authz</span><br><span class="line">realm = tiku</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>anon-access:</strong> 控制非鉴权用户访问版本库的权限，取值范围为”write”、”read”和”none”。 即”write”为可读可写，”read”为只读，”none”表示无访问权限。 缺省值：read</li>
<li><strong>auth-access:</strong> 控制鉴权用户访问版本库的权限。取值范围为”write”、”read”和”none”。 即”write”为可读可写，”read”为只读，”none”表示无访问权限。 缺省值：write</li>
<li><strong>authz-db:</strong> 指定权限配置文件名，通过该文件可以实现以路径为基础的访问控制。 除非指定绝对路径，否则文件位置为相对conf目录的相对路径。 缺省值：authz</li>
<li><strong>password-db</strong> 使用哪个文件作为账号文件，缺省值：passwd</li>
<li><strong>realm:</strong> 指定版本库的认证域，即在登录时提示的认证域名称。若两个版本库的 认证域相同，建议使用相同的用户名口令数据文件。 缺省值：一个UUID(Universal Unique IDentifier，全局唯一标示)。</li>
</ul>
<p>2、用户名口令文件passwd</p>
<p>用户名口令文件由svnserve.conf的配置项password-db指定，缺省为conf目录中的passwd。该文件仅由一个[users]配置段组成。</p>
<p>[users]配置段的配置行格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">&lt;用户名&gt; = &lt;口令&gt;</span></span><br><span class="line">[hyp@localhost ~]$ cat /opt/svn/passwd</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## This file is an example password file for svnserve.</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## Its format is similar to that of svnserve.conf. As shown in the</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## example below it contains one section labelled [users].</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## The name and password for each user follow, one account per line.</span></span></span><br><span class="line"></span><br><span class="line">[users]</span><br><span class="line"><span class="meta">#</span><span class="bash"> harry = harryssecret</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> sally = sallyssecret</span></span><br><span class="line">admin=admin</span><br><span class="line">ping=123456</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3、权限配置文件</p>
<p>权限配置文件由svnserve.conf的配置项authz-db指定，缺省为conf目录中的authz。该配置文件由一个[groups]配置段和若干个版本库路径权限段组成。</p>
<p>[groups]配置段中配置行格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;用户组&gt; = &lt;用户列表&gt;</span><br></pre></td></tr></table></figure>

<p>版本库路径权限段的段名格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[aliases]</span><br><span class="line"><span class="meta">#</span><span class="bash"> joe = /C=XZ/ST=Dessert/L=Snake City/O=Snake Oil, Ltd./OU=Research Institute/CN=Joe Average</span></span><br><span class="line"></span><br><span class="line">[groups]</span><br><span class="line"><span class="meta">#</span><span class="bash"> harry_and_sally = harry,sally</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> harry_sally_and_joe = harry,sally,&amp;joe</span></span><br><span class="line">g_admin = admin,ping</span><br><span class="line"></span><br><span class="line">[/]</span><br><span class="line">admin=rw  #对所有的仓库的主目录/下文件都可以读写</span><br><span class="line">[Auth:/]</span><br><span class="line">ping=rw #ping对Auth仓库的主目录下/下文件都可读写</span><br><span class="line">*=r #所有用户都可对Auth仓库的主目录下/下文件都可读</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>本例是使用<code>svnserve -d -r /opt/svn</code> 以多库svnserve方式启动SVN，所以URL：<code>svn://192.168.0.1/Auth</code></p>
<h3 id="检出-1"><a href="#检出-1" class="headerlink" title="检出"></a>检出</h3><p>上一章，我们创建了仓库Auth，多库方式运行SVN服务器：<code>svnserve -d -r /opt/svn</code>。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost ~]$ svn checkout  svn://127.0.0.1/Auth --username=ping #输入密码</span><br><span class="line">[hyp@localhost ~]$ ls -ld Auth/</span><br><span class="line">drwxrwxr-x. 3 hyp hyp 18 3月  22 16:58 Auth/</span><br></pre></td></tr></table></figure>

<p>你想查看更多关于版本库的信息，执行 info 命令。</p>
<h3 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h3><p>上一章，我们checkout仓库Auth，位于/home/hyp/Auth/下。</p>
<p>我们增加一个README文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ cat README</span><br><span class="line">Hello SVN</span><br></pre></td></tr></table></figure>

<p>查看工作副本的状态：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn status</span><br><span class="line">?       README</span><br></pre></td></tr></table></figure>

<p>此时 readme的状态为？，说明它还未加到版本控制中。</p>
<p>将文件readme加到版本控制，等待提交到版本库。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn add README</span><br><span class="line">A         README</span><br></pre></td></tr></table></figure>

<p>查看工作副本中的状态：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn status</span><br><span class="line">A       README</span><br></pre></td></tr></table></figure>

<p>此时 readme的状态为A,它意味着这个文件已经被成功地添加到了版本控制中。</p>
<p>为了把 readme 存储到版本库中，使用 commit -m 加上注释信息来提交。</p>
<p>如果你忽略了 -m 选项， SVN会打开一个可以输入多行的文本编辑器来让你输入提交信息。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn commit -m &quot;hahah&quot;</span><br><span class="line">正在增加       README</span><br><span class="line">传输文件数据.</span><br><span class="line">提交后的版本为 1。</span><br></pre></td></tr></table></figure>

<h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><p>当我们想放弃对文件的修改，可以使用 <strong>SVN revert</strong> 命令。</p>
<p>svn revert 操作将撤销任何文件或目录里的局部更改。</p>
<p>我们对文件 readme 进行修改,查看文件状态。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn status</span><br><span class="line">M       README</span><br></pre></td></tr></table></figure>

<p>这时我们发现修改错误，要撤销修改，通过 svn revert 文件 readme 回归到未修改状态。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn revert README</span><br><span class="line">已恢复“README”</span><br><span class="line">[hyp@localhost Auth]$ svn status</span><br><span class="line">[hyp@localhost Auth]$</span><br></pre></td></tr></table></figure>

<p>进行 revert 操作之后，readme 文件恢复了原始的状态。 revert 操作不单单可以使单个文件恢复原状， 而且可以使整个目录恢复原状。恢复目录用 -R 命令，如下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn revert -R trunk</span><br></pre></td></tr></table></figure>

<p>但是，假如我们想恢复一个已经提交的版本怎么办。</p>
<p>为了消除一个旧版本，我们必须撤销旧版本里的所有更改然后提交一个新版本。这种操作叫做 reverse merge。</p>
<p>首先，找到仓库的当前版本，现在是版本 22，我们要撤销回之前的版本，比如版本 21。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn merge -r 22:21 readme</span><br></pre></td></tr></table></figure>

<h3 id="查看历史信息"><a href="#查看历史信息" class="headerlink" title="查看历史信息"></a>查看历史信息</h3><p>通过svn命令可以根据时间或修订号去除过去的版本，或者某一版本所做的具体的修改。以下四个命令可以用来查看svn 的历史：</p>
<ul>
<li><strong>svn log:</strong> 用来展示svn 的版本作者、日期、路径等等。</li>
<li><strong>svn diff:</strong> 用来显示特定修改的行级详细信息。</li>
<li><strong>svn cat:</strong> 取得在特定版本的某文件显示在当前屏幕。</li>
<li><strong>svn list:</strong> 显示一个目录或某一版本存在的文件。</li>
</ul>
<h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><p>Branch 选项会给开发者创建出另外一条线路。当有人希望开发进程分开成两条不同的线路时，这个选项会非常有用。</p>
<p>比如项目 demo 下有两个小组，svn 下有一个 trunk 版。</p>
<p>由于客户需求突然变化，导致项目需要做较大改动，此时项目组决定由小组 1 继续完成原来正进行到一半的工作（某个模块），小组 2 进行新需求的开发。</p>
<p>那么此时，我们就可以为小组2建立一个分支，分支其实就是 trunk 版（主干线）的一个copy版，不过分支也是具有版本控制功能的，而且是和主干线相互独立的，当然，到最后我们可以通过（合并）功能，将分支合并到 trunk 上来，从而最后合并为一个项目。</p>
<p>我们在本地副本中创建一个 <strong>my_branch</strong> 分支。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ ls</span><br><span class="line">branches  README  tags  trunk</span><br><span class="line">[hyp@localhost Auth]$ svn cp trunk/ branches/branche_1</span><br><span class="line">A         branches/branche_1</span><br></pre></td></tr></table></figure>

<p>查看状态：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn status</span><br><span class="line">A       branches</span><br><span class="line">A       branches/branche_1</span><br><span class="line">A       branches/branche_1/crontab</span><br><span class="line">A       branches/branche_1/file1</span><br><span class="line">A       branches/branche_1/file2</span><br><span class="line">A       branches/branche_1/fstab</span><br><span class="line">A       branches/branche_1/inittab</span><br><span class="line">A       branches/branche_1/mtab</span><br><span class="line">A       branches/branche_1/rwtab</span><br><span class="line">A       branches/branche_1/statetab</span><br><span class="line">A       tags</span><br><span class="line">A       trunk</span><br><span class="line">A       trunk/crontab</span><br><span class="line">A       trunk/file1</span><br><span class="line">A       trunk/file2</span><br><span class="line">A       trunk/fstab</span><br><span class="line">A       trunk/inittab</span><br><span class="line">A       trunk/mtab</span><br><span class="line">A       trunk/rwtab</span><br><span class="line">A       trunk/statetab</span><br></pre></td></tr></table></figure>

<p>提交新增的分支到版本库。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn commit -m &quot;add branch_1&quot;</span><br><span class="line">正在增加       branches</span><br><span class="line">正在增加       branches/branche_1</span><br><span class="line">正在增加       branches/branche_1/crontab</span><br><span class="line">正在增加       branches/branche_1/file1</span><br><span class="line">正在增加       branches/branche_1/file2</span><br><span class="line">正在增加       branches/branche_1/fstab</span><br><span class="line">正在增加       branches/branche_1/inittab</span><br><span class="line">正在增加       branches/branche_1/mtab</span><br><span class="line">正在增加       branches/branche_1/rwtab</span><br><span class="line">正在增加       branches/branche_1/statetab</span><br><span class="line">正在增加       tags</span><br><span class="line">正在增加       trunk</span><br><span class="line">正在增加       trunk/crontab</span><br><span class="line">正在增加       trunk/file1</span><br><span class="line">正在增加       trunk/file2</span><br><span class="line">正在增加       trunk/fstab</span><br><span class="line">正在增加       trunk/inittab</span><br><span class="line">正在增加       trunk/mtab</span><br><span class="line">正在增加       trunk/rwtab</span><br><span class="line">正在增加       trunk/statetab</span><br><span class="line">传输文件数据................</span><br><span class="line">提交后的版本为 2。</span><br></pre></td></tr></table></figure>

<p>接着我们就到 my_branch 分支进行开发，切换到分支路径并创建 index.html 文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ cd branches/branche_1/</span><br><span class="line">[hyp@localhost branche_1]$ ls</span><br><span class="line">crontab  file1  file2  fstab  inittab  mtab  rwtab  statetab</span><br></pre></td></tr></table></figure>

<p>将 index.html 加入版本控制，并提交到版本库中。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost branche_1]$ echo &#x27;&lt;!--remember me?--&gt;&#x27; &gt; index.html</span><br><span class="line">[hyp@localhost branche_1]$ svn status</span><br><span class="line">?       index.html</span><br><span class="line">[hyp@localhost branche_1]$ svn add index.html</span><br><span class="line">A         index.html</span><br><span class="line">[hyp@localhost branche_1]$ svn commit -m &quot;add index.html&quot;</span><br><span class="line">正在增加       index.html</span><br><span class="line">传输文件数据.</span><br><span class="line">提交后的版本为 3。</span><br><span class="line">[hyp@localhost branche_1]$ svn update</span><br><span class="line">正在升级 &#x27;.&#x27;:</span><br><span class="line">版本 3。</span><br></pre></td></tr></table></figure>

<p>切换到 trunk，执行 svn update，然后将 my_branch 分支合并到 trunk 中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost trunk]$ svn update</span><br><span class="line">正在升级 &#x27;.&#x27;:</span><br><span class="line">版本 3。</span><br><span class="line">[hyp@localhost trunk]$ svn merge ../branches/branche_1/</span><br><span class="line">--- 正在合并 r3 到 “.”:</span><br><span class="line">A    index.html</span><br><span class="line">--- 记录合并 r3 到“.”的信息:</span><br><span class="line"> U   .</span><br></pre></td></tr></table></figure>

<p>此时查看目录，可以看到 trunk 中已经多了 my_branch 分支创建的 index.html 文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@runoob:~/svn/runoob01/trunk# ll</span><br><span class="line">total 16</span><br><span class="line">drwxr-xr-x 2 root root 4096 Nov  7 03:52 ./</span><br><span class="line">drwxr-xr-x 6 root root 4096 Jul 21 19:19 ../</span><br><span class="line">-rw-r--r-- 1 root root   36 Nov  7 02:23 HelloWorld.html</span><br><span class="line">-rw-r--r-- 1 root root    0 Nov  7 03:52 index.html</span><br><span class="line">-rw-r--r-- 1 root root   22 Nov  7 03:06 readme</span><br></pre></td></tr></table></figure>

<p>将合并好的 trunk 提交到版本库中。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost trunk]$  svn commit -m &quot;add index.html&quot;</span><br><span class="line">正在发送       .</span><br><span class="line">正在增加       index.html</span><br><span class="line"></span><br><span class="line">提交后的版本为 4。</span><br></pre></td></tr></table></figure>

<p>参考： <a target="_blank" rel="noopener" href="http://www.runoob.com/svn/svn-branch.html">SVN 分支</a></p>
<h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><p>版本管理系统支持 tag 选项，通过使用 tag 的概念，我们可以给某一个具体版本的代码一个更加有意义的名字。</p>
<p>Tags 即标签主要用于项目开发中的里程碑，比如开发到一定阶段可以单独一个版本作为发布等，它往往代表一个可以固定的完整的版本，这跟 VSS 中的 Tag 大致相同。</p>
<p>我们在本地工作副本创建一个 tag。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn copy trunk/ tags/v1.0</span><br><span class="line">A         tags/v1.0</span><br></pre></td></tr></table></figure>

<p>上面的代码成功完成，新的目录将会被创建在 tags 目录下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ ls tags/</span><br><span class="line">v1.0</span><br><span class="line">[hyp@localhost Auth]$ ls tags/v1.0/</span><br><span class="line">crontab  file1  file2  fstab  index.html  inittab  mtab  rwtab  statetab</span><br></pre></td></tr></table></figure>

<p>查看状态。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn status</span><br><span class="line">A  +    tags/v1.0</span><br><span class="line">A  +    tags/v1.0/crontab</span><br><span class="line">A  +    tags/v1.0/file1</span><br><span class="line">A  +    tags/v1.0/file2</span><br><span class="line">A  +    tags/v1.0/fstab</span><br><span class="line">A  +    tags/v1.0/inittab</span><br><span class="line">A  +    tags/v1.0/mtab</span><br><span class="line">A  +    tags/v1.0/rwtab</span><br><span class="line">A  +    tags/v1.0/statetab</span><br></pre></td></tr></table></figure>

<p>提交tag内容。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn commit -m &quot;tags v1.0&quot;</span><br><span class="line">正在增加       tags/v1.0</span><br><span class="line">正在增加       tags/v1.0/crontab</span><br><span class="line">正在增加       tags/v1.0/file1</span><br><span class="line">正在增加       tags/v1.0/file2</span><br><span class="line">正在增加       tags/v1.0/fstab</span><br><span class="line">正在增加       tags/v1.0/inittab</span><br><span class="line">正在增加       tags/v1.0/mtab</span><br><span class="line">正在增加       tags/v1.0/rwtab</span><br><span class="line">正在增加       tags/v1.0/statetab</span><br><span class="line"></span><br><span class="line">提交后的版本为 5。</span><br></pre></td></tr></table></figure>

<h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><p>1、”svn: E155010: 提交失败”问题解决</p>
<p>输入：<code>svn status</code></p>
<p>响应：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!       branches/tag0.1</span><br></pre></td></tr></table></figure>

<p>显示这样就是虽然使用rm命令删除文件，但是并没有在控制系统中删除，所以，可以使用以下用法来改进。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost Auth]$ svn delete --force branches/tag0.1</span><br><span class="line">D         branches/tag0.1</span><br></pre></td></tr></table></figure>

<p>2、</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">平心</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://pingxin0521.gitee.io/2019/03/19/%E5%B7%A5%E5%85%B7-SVN-1/">https://pingxin0521.gitee.io/2019/03/19/%E5%B7%A5%E5%85%B7-SVN-1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://pingxin0521.gitee.io" target="_blank">平心de小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a><a class="post-meta__tags" href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/">版本控制</a><a class="post-meta__tags" href="/tags/SVN/">SVN</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/03/19/Linux-%E5%9F%BA%E7%A1%80-4/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux-权限管理和文本处理</div></div></a></div><div class="next-post pull-right"><a href="/2019/03/18/%E5%B7%A5%E5%85%B7-Git-4/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Git服务器</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2019/03/18/工具-Git-1/" title="Git入门"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-09-25</div><div class="title">Git入门</div></div></a></div><div><a href="/2019/03/18/工具-版本控制/" title="浅析版本控制"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-04-03</div><div class="title">浅析版本控制</div></div></a></div><div><a href="/2019/03/18/工具-Git-4/" title="Git服务器"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-31</div><div class="title">Git服务器</div></div></a></div><div><a href="/2019/03/18/工具-Git-3/" title="Git分支"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/7dHvepmfYOLWTrX.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-08-02</div><div class="title">Git分支</div></div></a></div><div><a href="/2019/03/18/工具-Git-2/" title="Git基础篇"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/vCnKyoFJZ1g4XYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-10-18</div><div class="title">Git基础篇</div></div></a></div><div><a href="/2019/03/21/工具-Git-5/" title="Git设置SSH key"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-08-02</div><div class="title">Git设置SSH key</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s2.ax1x.com/2020/02/11/1ovw6J.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">平心</div><div class="author-info__description">年轻人的life、learn and think</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">449</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">68</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hanyunpeng0521"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/hanyunpeng0521" target="_blank" title="Github"><i class="fa fa-github"></i></a><a class="social-icon" href="mailto:m13839441583@163.com" target="_blank" title="Email"><i class="fa fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">为什么呢？开始提问吧</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">2.</span> <span class="toc-text">简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">概念：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="toc-number">2.2.</span> <span class="toc-text">主要功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E4%BA%8ECVS%E4%B9%8B%E5%A4%84"><span class="toc-number">2.3.</span> <span class="toc-text">优于CVS之处</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">3.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CentOS%E4%B8%8A%E5%AE%89%E8%A3%85"><span class="toc-number">3.1.</span> <span class="toc-text">CentOS上安装</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SVN%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">SVN命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">5.</span> <span class="toc-text">生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%89%88%E6%9C%AC%E5%BA%93"><span class="toc-number">5.1.</span> <span class="toc-text">创建版本库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E5%87%BA"><span class="toc-number">5.2.</span> <span class="toc-text">检出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="toc-number">5.3.</span> <span class="toc-text">更新</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E5%8F%98%E6%9B%B4"><span class="toc-number">5.4.</span> <span class="toc-text">执行变更</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E6%9F%A5%E5%8F%98%E5%8C%96"><span class="toc-number">5.5.</span> <span class="toc-text">复查变化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E5%A4%8D%E9%94%99%E8%AF%AF"><span class="toc-number">5.6.</span> <span class="toc-text">修复错误</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81"><span class="toc-number">5.7.</span> <span class="toc-text">解决冲突</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4%E6%9B%B4%E6%94%B9"><span class="toc-number">5.8.</span> <span class="toc-text">提交更改</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SVN%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.</span> <span class="toc-text">SVN启动模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ps-ef-grep-svn-grep-v-grep"><span class="toc-number"></span> <span class="toc-text">ps -ef|grep svn|grep -v grep</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E5%87%BA-1"><span class="toc-number">1.</span> <span class="toc-text">检出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4"><span class="toc-number">2.</span> <span class="toc-text">提交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80"><span class="toc-number">3.</span> <span class="toc-text">版本回退</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E4%BF%A1%E6%81%AF"><span class="toc-number">4.</span> <span class="toc-text">查看历史信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF"><span class="toc-number">5.</span> <span class="toc-text">分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE"><span class="toc-number">6.</span> <span class="toc-text">标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-number">7.</span> <span class="toc-text">常见问题</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/15/node-2-4/" title="Egg.js -- 为企业级框架和应用而生"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Egg.js -- 为企业级框架和应用而生"/></a><div class="content"><a class="title" href="/2021/05/15/node-2-4/" title="Egg.js -- 为企业级框架和应用而生">Egg.js -- 为企业级框架和应用而生</a><time datetime="2021-05-15T10:18:59.000Z" title="发表于 2021-05-15 18:18:59">2021-05-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/30/node-2-3/" title="Koa -- 基于Node.js平台的下一代Web开发框架"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Koa -- 基于Node.js平台的下一代Web开发框架"/></a><div class="content"><a class="title" href="/2021/04/30/node-2-3/" title="Koa -- 基于Node.js平台的下一代Web开发框架">Koa -- 基于Node.js平台的下一代Web开发框架</a><time datetime="2021-04-30T10:18:59.000Z" title="发表于 2021-04-30 18:18:59">2021-04-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/01/node-2-1/" title="Node.JS web开发前置知识"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Node.JS web开发前置知识"/></a><div class="content"><a class="title" href="/2021/04/01/node-2-1/" title="Node.JS web开发前置知识">Node.JS web开发前置知识</a><time datetime="2021-04-01T03:18:59.000Z" title="发表于 2021-04-01 11:18:59">2021-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-1/" title="第十一周--谷歌浏览器插件"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第十一周--谷歌浏览器插件"/></a><div class="content"><a class="title" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-1/" title="第十一周--谷歌浏览器插件">第十一周--谷歌浏览器插件</a><time datetime="2020-12-26T10:18:59.000Z" title="发表于 2020-12-26 18:18:59">2020-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-0/" title="第十一周--浏览器技术"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/vCnKyoFJZ1g4XYR.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第十一周--浏览器技术"/></a><div class="content"><a class="title" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-0/" title="第十一周--浏览器技术">第十一周--浏览器技术</a><time datetime="2020-12-26T06:18:59.000Z" title="发表于 2020-12-26 14:18:59">2020-12-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By 平心</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '4lfIXzqxaC1ONs0MJO4oHu07-gzGzoHsz',
      appKey: 'qw99Bw8FD0KVKU9m457CwWsr',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: true,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>