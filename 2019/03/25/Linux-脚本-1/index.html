<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux-bash基础（一） | 平心de小屋</title><meta name="keywords" content="Linux,脚本"><meta name="author" content="平心"><meta name="copyright" content="平心"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言我们在前面介绍了Bash的特性，里面提到了变量，其实变量是shell脚本的一部分。那么什么才是shell脚本呢？ 我们都知道shell是一个命令解释器，它的作用是解释用户输入的命令和程序，命令和程序可以理解成上层的应用程序，我们linux系统中的那些命令其实也都是一个个的小程序，只不过完成的是系统的应用功能。我们在系统的终端中输入一条命令，可以立马看到一条或者几条系统回复我们的信息，其实就是s">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux-bash基础（一）">
<meta property="og:url" content="https://pingxin0521.gitee.io/2019/03/25/Linux-%E8%84%9A%E6%9C%AC-1/index.html">
<meta property="og:site_name" content="平心de小屋">
<meta property="og:description" content="前言我们在前面介绍了Bash的特性，里面提到了变量，其实变量是shell脚本的一部分。那么什么才是shell脚本呢？ 我们都知道shell是一个命令解释器，它的作用是解释用户输入的命令和程序，命令和程序可以理解成上层的应用程序，我们linux系统中的那些命令其实也都是一个个的小程序，只不过完成的是系统的应用功能。我们在系统的终端中输入一条命令，可以立马看到一条或者几条系统回复我们的信息，其实就是s">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg">
<meta property="article:published_time" content="2019-03-25T13:55:22.000Z">
<meta property="article:modified_time" content="2019-10-08T10:01:24.000Z">
<meta property="article:author" content="平心">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="脚本">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg"><link rel="shortcut icon" href="https://s2.ax1x.com/2020/02/11/1ovFOA.png"><link rel="canonical" href="https://pingxin0521.gitee.io/2019/03/25/Linux-%E8%84%9A%E6%9C%AC-1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux-bash基础（一）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2019-10-08 18:01:24'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s2.ax1x.com/2020/02/11/1ovw6J.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">449</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">68</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">平心de小屋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux-bash基础（一）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-03-25T13:55:22.000Z" title="发表于 2019-03-25 21:55:22">2019-03-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2019-10-08T10:01:24.000Z" title="更新于 2019-10-08 18:01:24">2019-10-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/%E8%84%9A%E6%9C%AC/">脚本</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>20分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux-bash基础（一）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>我们在前面介绍了Bash的特性，里面提到了变量，其实变量是shell脚本的一部分。那么什么才是shell脚本呢？</p>
<p>我们都知道shell是一个命令解释器，它的作用是解释用户输入的命令和程序，命令和程序可以理解成上层的应用程序，我们linux系统中的那些命令其实也都是一个个的小程序，只不过完成的是系统的应用功能。我们在系统的终端中输入一条命令，可以立马看到一条或者几条系统回复我们的信息，其实就是shell在帮我们回复，所以shell可以称之为命令解释器。这种从键盘一输入命令，就可以立马得到相应的回复信息，叫作<strong>交互的方式，</strong>相当于我们在和电脑交流。Shell存在于系统的最外层，所以算作操作系统的外壳，它之外的应用程序就不能算作操作系统了。我们从输入系统的账户密码开始，到登录系统以后的所有操作都是shell在帮我们解释执行的。</p>
<p>如果我们的命令或者应用程序不在命令行直接执行，而是通过一个程序文件来执行时，这个程序就被称之为shell脚本。Shell脚本里面通常内置了多条命令，有的还包含控制语句，比如if和else的条件控制语句，for和select的循环控制语句等。这些内置在一个shell脚本中的命令通常是一次性执行完成，不会不停的返回信息给用户，这种通过文件执行脚本的方式称之为<strong>非交互方式。</strong>Shell脚本类似于windows下的批处理，但是它比批处理要强大一些。</p>
<span id="more"></span>

<h4 id="Shell-能做什么？"><a href="#Shell-能做什么？" class="headerlink" title="Shell 能做什么？"></a>Shell 能做什么？</h4><ol>
<li>自动化批量系统初始化程序 （update，软件安装，时区设置，安全策略…）</li>
<li>自动化批量软件部署程序 （LAMP，LNMP，Tomcat，LVS，Nginx）</li>
<li>应用管理程序 (KVM，集群管理扩容，MySQL，DELLR720 批量 RAID）</li>
<li>日志分析处理程序（PV, UV, 200, !200, top 100, grep/awk）</li>
<li>自动化备份恢复程序（MySQL 完全备份/增量 + Crond）</li>
<li>自动化管理程序（批量远程修改密码，软件升级，配置更新）</li>
<li>自动化信息采集及监控程序（收集系统/应用状态信 CPU,Mem,Disk,Net,TCP Status,Apache,MySQL）</li>
<li>配合 Zabbix 信息采集（收集系统/应用状态信息 CPU,Mem,Disk,Net,TCP Status,Apache,MySQL）</li>
<li>自动化扩容（增加云主机——&gt;业务上线）zabbix 监控 CPU 80%+|-50% Python API AWS/EC2（增加/删除云主机） + Shell Script（业务上线）</li>
<li>俄罗斯方块，打印三角形，打印圣诞树，打印五角星，运行小火车，坦克大战，排序算法实现</li>
<li>Shell 可以做任何事（一切取决于业务需）</li>
</ol>
<p><strong>程序语言执行</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">C —— 编译 —— 二进制机器码 （CPU X86 复杂指令集, Power 精简指令集，</span><br><span class="line">APM）</span><br><span class="line">Java —— 编译 —— 字节码（Java 虚拟机 JDK） Tomcat/Hadoop </span><br><span class="line">shell —— 解释 （/usr/bin/bash）</span><br><span class="line">perl —— 解释 （/usr/bin/perl）</span><br><span class="line">expect —— 解释 （/usr/bin/expect）</span><br><span class="line">Python —— 解释 ( /usr/bin/python)</span><br><span class="line">	—— 编译 —— 字节码（Python 虚拟机）</span><br></pre></td></tr></table></figure>

<p>程序是由哪些组程序： 逻辑 + 数据</p>
<h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h3><p>先给出一个简单的实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#！/bin/bash</span></span><br><span class="line">str=<span class="string">&quot;Hello World&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;str&#125;</span></span><br></pre></td></tr></table></figure>

<p>运行结果是</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hyp@localhost ~]$ sh hello.sh</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<p>那么这又是怎么回事呢？<code>echo</code>是我们之前使用过的命令，而<code>str</code>是变量，<code>#！/bin/bash</code>声明所使用的解释器，可以在脚本拥有执行权限时，找到对应位置的shell命令，新建一个进程，解释运行该脚本里的命令。<code>.sh</code>为脚本的推荐标识后缀。</p>
<p>也就是说，我们在命令行使用的命令，都可以在脚本中使用，而且也可以使用shell规定的流程控制语句，接下来我们慢慢介绍它的语法。</p>
<h3 id="运行-Shell-脚本"><a href="#运行-Shell-脚本" class="headerlink" title="运行 Shell 脚本"></a>运行 Shell 脚本</h3><p><strong>1、作为可执行程序</strong></p>
<p>将上面的代码保存为 test.sh，并 cd 到相应目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./test.sh  #使脚本具有执行权限</span><br><span class="line">./test.sh  #执行脚本</span><br></pre></td></tr></table></figure>

<p>注意，一定要写成 ./test.sh，而不是 <strong>test.sh</strong>，运行其它二进制的程序也一样，直接写 test.sh，linux 系统会去 PATH 里寻找有没有叫 test.sh 的，而只有 /bin, /sbin, /usr/bin，/usr/sbin 等在 PATH 里，你的当前目录通常不在 PATH 里，所以写成 test.sh 是会找不到命令的，要用 ./test.sh 告诉系统说，就在当前目录找。</p>
<p><strong>2、作为解释器参数</strong></p>
<p>这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh test.sh</span><br><span class="line">/bin/php test.php</span><br></pre></td></tr></table></figure>

<p>这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。同时，变量名的命名须遵循如下规则：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</span><br><span class="line">中间不能有空格，可以使用下划线（_）。</span><br><span class="line">不能使用标点符号。</span><br><span class="line">不能使用bash里的关键字（可用help命令查看保留关键字）</span><br><span class="line">使用变量时尽量加上大括号</span><br></pre></td></tr></table></figure>

<p>普通变量可以被重定义， readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变， unset 命令可以删除变量，unset 命令不能删除只读变量。</p>
<p>运行shell时，会同时存在三种变量：</p>
<ol>
<li>局部变量 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">定义变量： 变量名=变量值 变量名必须以字母或下划线开头，区分大小写</span><br><span class="line">引用变量： $变量名 或 $&#123;变量名&#125;</span><br><span class="line">查看变量： echo $变量名 set(所有变量：包括自定义变量和环境变量)</span><br><span class="line">取消变量： unset 变量名作用范围仅在当前 shell 中</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>环境变量 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">定义环境变量： </span><br><span class="line">方法一 export back_dir2=/home/backup </span><br><span class="line">方法二 export back_dir1 将自定义变量转换成环境变量</span><br><span class="line">引用环境变量： $变量名 或 $&#123;变量名&#125;</span><br><span class="line">查看环境变量： echo $变量名 env 例如 env |grep back_dir2</span><br><span class="line">取消环境变量： unset 变量名</span><br><span class="line">变量作用范围： 在当前 shell 和子 shell 有效</span><br><span class="line">=======================================================</span><br><span class="line">C 语言 局部变量 vs 全局变量</span><br><span class="line">SHELL 自定义变量 vs 环境变量</span><br><span class="line">=======================================================</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>shell变量 shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">位置变量：</span><br><span class="line">$1 $2 $3 $4 $5 $6 $7 $8 $9 $&#123;10&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>预定义变量</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$0 脚本名</span><br><span class="line">$* 所有的参数</span><br><span class="line">$@ 所有的参数</span><br><span class="line">$# 参数的个数</span><br><span class="line">$$ 当前进程的 PID</span><br><span class="line">$! 上一个后台进程的 PID</span><br><span class="line">$? 上一个命令的返回值 0 表示</span><br></pre></td></tr></table></figure>

<p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;qinjx&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">echo $&#123;your_name&#125;</span><br></pre></td></tr></table></figure>

<p>变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界。</p>
<ol>
<li><p>示例 1</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> vim test.sh</span></span><br><span class="line">echo &quot;第 2 个位置参数是$2&quot;</span><br><span class="line">echo &quot;第 1 个位置参数是$1&quot;</span><br><span class="line">echo &quot;第 4 个位置参数是$4&quot;</span><br><span class="line">echo &quot;所有参数是: $*&quot;</span><br><span class="line">echo &quot;所有参数是: $@&quot;</span><br><span class="line">echo &quot;参数的个数是: $#&quot;</span><br><span class="line">echo &quot;当前进程的 PID 是: $$&quot;</span><br><span class="line">echo &#x27;$1=&#x27;$1</span><br><span class="line">echo &#x27;$2=&#x27;$2</span><br><span class="line">echo &#x27;$3=&#x27;$3</span><br><span class="line">echo &#x27;$*=&#x27;$*</span><br><span class="line">echo &#x27;$@=&#x27;$@</span><br><span class="line">echo &#x27;$#=&#x27;$#</span><br><span class="line">echo &#x27;$$=&#x27;$$</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo chmod a+x test.sh</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./test.sh 1 2 3 a b c</span></span><br><span class="line">第 2 个位置参数是2</span><br><span class="line">第 1 个位置参数是1</span><br><span class="line">第 4 个位置参数是a</span><br><span class="line">所有参数是: 1 2 3 a b c</span><br><span class="line">所有参数是: 1 2 3 a b c</span><br><span class="line">参数的个数是: 6</span><br><span class="line">当前进程的 PID 是: 23806</span><br><span class="line"><span class="meta">$</span><span class="bash">1=1</span></span><br><span class="line"><span class="meta">$</span><span class="bash">2=2</span></span><br><span class="line"><span class="meta">$</span><span class="bash">3=3</span></span><br><span class="line"><span class="meta">$</span><span class="bash">*=1 2 3 a b c</span></span><br><span class="line"><span class="meta">$</span><span class="bash">@=1 2 3 a b c</span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="comment">#=6</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">$=23806</span></span><br></pre></td></tr></table></figure></li>
<li><p>示例 2</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> vim ping.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">ping -c1 $1 &amp;&gt;/dev/null  </span><br><span class="line">if $? then</span><br><span class="line">    echo &quot;$1 is up&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;$1 is down&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta">$</span><span class="bash"> chmod a+x ping.sh</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./ping.sh baidu.com</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>$*与$@</code>的区别</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$ vim test1.sh</span><br><span class="line"><span class="comment">#! /bin/bash</span></span><br><span class="line"><span class="function"><span class="title">test</span></span>() &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;未加引号,二者相同&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> $*</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$@</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;加入引号后对比&quot;</span></span><br><span class="line">        <span class="keyword">for</span> N <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span></span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">           <span class="built_in">echo</span> <span class="variable">$N</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;----------&quot;</span></span><br><span class="line">        <span class="keyword">for</span> N <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">           <span class="built_in">echo</span> <span class="variable">$N</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">test</span>  12 123  3424 546</span><br><span class="line">$ sudo chmod a+x test1.sh</span><br><span class="line">$ ./test1.sh </span><br><span class="line">未加引号,二者相同</span><br><span class="line">12 123 3424 546</span><br><span class="line">12 123 3424 546</span><br><span class="line">加入引号后对比</span><br><span class="line">12 123 3424 546</span><br><span class="line">----------</span><br><span class="line">12</span><br><span class="line">123</span><br><span class="line">3424</span><br><span class="line">546</span><br></pre></td></tr></table></figure>

<p>可以看到不加引号时,二者都是返回传入的参数,但加了引号后,此时<code>$*</code>把参数作为一个字符串整体(单字符串)返回,<code>$@</code>把每个参数作为一个字符串返回</p>
</li>
</ol>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>单引号字符串的限制：</p>
<ul>
<li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</li>
<li>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li>
</ul>
<p>双引号的优点：</p>
<ul>
<li>双引号里可以有变量</li>
<li>双引号里可以出现转义字符</li>
</ul>
<p>输出字符串长度</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;name length=&quot;$&#123;#name&#125;</span><br></pre></td></tr></table></figure>

<p>提取子字符串</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;name:1:$&#123;#name&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>查找子字符串</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo `expr index &quot;$&#123;name&#125;&quot; io`</span><br></pre></td></tr></table></figure>

<p>反引号``的功能，反引号的功能是将反引号括起来的内容执行，没错，就是执行，这就意味着，反引号括起来的是一条命令，此时是一个命令的运行结果，而结果就是一条命令，并且反引号不能单独使用，要将包含反引号及其括起来的语句赋值给一个变量，否则出错；如果不想将其赋给一个变量，就不要用反引号，直接写反引号中的内容，因为其内容就是一条命令。</p>
<p><strong>定义或引用变量时注意事:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&quot; &quot; 弱引用</span></span><br><span class="line"><span class="comment">#&#x27; &#x27; 强引用</span></span><br><span class="line"> $ school=1000phone</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;school&#125;</span> is good&quot;</span></span><br><span class="line">1000phone is good</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="string">&#x27;$&#123;school&#125; is good&#x27;</span></span><br><span class="line"><span class="variable">$&#123;school&#125;</span> is good</span><br><span class="line"><span class="comment">#` ` 命令替换 等价于 $() 反引号中的 shell 命令会被先执行</span></span><br><span class="line"> $ touch `date +%F`_file1.txt </span><br><span class="line"> $ touch $(date +%F)_file2.txt</span><br><span class="line"> $ disk_free3=<span class="string">&quot;df -Ph |grep &#x27;/$&#x27; |awk &#x27;&#123;print <span class="variable">$4</span>&#125;&#x27;&quot;</span> <span class="comment">#错误</span></span><br><span class="line"> $ disk_free4=$(df -Ph |grep <span class="string">&#x27;/$&#x27;</span> |awk <span class="string">&#x27;&#123;print $4&#125;&#x27;</span>)</span><br><span class="line"> $ disk_free5=`df -Ph |grep <span class="string">&#x27;/$&#x27;</span> |awk <span class="string">&#x27;&#123;print $4&#125;&#x27;</span>`</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$disk_free3</span> <span class="variable">$disk_free4</span> <span class="variable">$disk_free5</span></span><br><span class="line"> df -Ph |grep <span class="string">&#x27;/$&#x27;</span> |awk <span class="string">&#x27;&#123;print &#125;&#x27;</span> 23G 23G</span><br></pre></td></tr></table></figure>



<h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 开头的行就是注释</span><br></pre></td></tr></table></figure>

<p>多行注释：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">注释内容...</span></span><br><span class="line"><span class="string">注释内容...</span></span><br><span class="line"><span class="string">注释内容...</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>

<p>EOF 也可以使用其他符号</p>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。</p>
<p>数组元素的下标由0开始。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于 0。</p>
<p>Shell 数组用括号来表示，元素用”空格”符号分割开</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数组名=(值1 值2 ... 值n)</span></span><br><span class="line">a_n[0]=<span class="string">&quot;apple&quot;</span></span><br><span class="line">a_n[1]=<span class="string">&quot;banana&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;a_n[0]&#125;</span></span><br><span class="line"><span class="comment">#获取所有数据</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;a_n[@]&#125;</span></span><br><span class="line"><span class="comment">#数组长度</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#a_n[@]&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#a_n[*]&#125;</span></span><br><span class="line"><span class="comment">#第一个数据的长度</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#a_n[0]&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>数组定义方法</strong>：</p>
<p>像很多脚本语言一样，shell变量不区分类型，对于普通数组，可申明也可以不申明：</p>
<p>如果习惯使用声明，就使用declare 命令声明，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare -a myarray</span><br></pre></td></tr></table></figure>

<p>在 Shell 中，用括号<code>( )</code>来表示数组，数组元素之间用空格来分隔。由此，定义数组的一般形式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array_name=(ele1  ele2  ele3 ... elen)</span><br></pre></td></tr></table></figure>

<p>注意，赋值号<code>=</code>两边不能有空格，必须紧挨着数组名和数组元素。</p>
<p>下面是一个定义数组的实例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nums=(29 100 13 8 91 44)</span><br></pre></td></tr></table></figure>

<p>Shell 是弱类型的，它并不要求所有数组元素的类型必须相同，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr=(20 56 &quot;http://c.biancheng.net/shell/&quot;)</span><br></pre></td></tr></table></figure>

<p>Shell 数组的长度不是固定的，定义之后还可以增加元素。例如，对于上面的 nums 数组，它的长度是 6，使用下面的代码会在最后增加一个元素，使其长度扩展到 7：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nums[6]=88</span><br></pre></td></tr></table></figure>

<p>此外，你也无需逐个元素地给数组赋值，下面的代码就是只给特定元素赋值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ages=([3]=24 [5]=19 [10]=12)</span><br></pre></td></tr></table></figure>

<p>以上代码就只给第 3、5、10 个元素赋值，所以数组长度是 3。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">nums=(29 100 13 8 91 44)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;nums[@]&#125;</span>  <span class="comment">#输出所有数组元素</span></span><br><span class="line">nums[10]=66  <span class="comment">#给第10个元素赋值（此时会增加数组长度）</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;nums[*]&#125;</span>  <span class="comment">#输出所有数组元素</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;nums[4]&#125;</span>  <span class="comment">#输出第4个元素</span></span><br></pre></td></tr></table></figure>

<p><strong>删除数组</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">删除数组某个元素：unset arr_name[index]</span><br><span class="line">删除整个数组：unset arr_number</span><br></pre></td></tr></table></figure>

<p><strong>数组分片访问</strong></p>
<p>分片访问形式为：${数组名[@或*]:开始下标:偏移长度}</p>
<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr_name=(1 2 3 test go now)</span><br><span class="line">echo $&#123;arr_name[@]:1:2&#125;，将输出2 3</span><br><span class="line">$&#123;arr_name[@]:1:2&#125;，这里分片访问从下标1开始，元素个数为2。</span><br></pre></td></tr></table></figure>

<p><strong>有用的数组扩展</strong></p>
<p>数组支持”+=“赋值运算符，利用这一点可以通过这种方式往一个已知数组中更方便的添加元素，特别是往空数组中填充元素时非常有用</p>
<p>实际应用举例：</p>
<p>为了充分利用多核处理器，对一组文件进行md5散列计算时，将每个文件的md5计算放到后台，</p>
<p>利用空数组把每次调用md5sum命令产生的后台进程ID收集到空数组中，并等待所有后台md5sum进程结束后才退出主进程</p>
<p>下面是gen_checksum.sh脚本的内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#文件名：gen_checksum.sh</span><br><span class="line">PIDARRAY=()</span><br><span class="line">for file in file&#123;1..10&#125;iso ; do</span><br><span class="line">	md5sum $file &amp; </span><br><span class="line">	PIDARRAY+=($!)</span><br><span class="line">done</span><br><span class="line">wait $&#123;PIDARRAY[@]&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>另一种方法扩展数组</p>
<p>利用shell只有一维数组，在赋值时引用多个数组进行合并</p>
<p>例如：</p>
<p>格式：<code>merge_array=( $&#123;a[@] $&#123;b[@]&#125; ... )</code></p>
<p><strong>模式替换</strong></p>
<p>格式为：${数组名[@或*]/模式/新值}</p>
<p>　　　　例如：echo ${arr_name[@]/now/past}，将输出1 2 3 test go past</p>
<p><strong>数组的遍历</strong></p>
<p>通常我们使用for命令遍历数组，遍历数组时对数组引用通常需要加上双引号，这样才能正确遍历含有空格字符串的元素</p>
<p>无论使用@还是*的格式引用数组，不存在含空格的元素时，加不加引号对数组遍历不会有什么问题，但一旦元素中含有空格，将不能得到预期效果，在实际使用时，元素的值通常时变量替换得到的，这不能保证是否含有空格，因此，为了稳妥起见，建议用引号括住数组变量</p>
<h4 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$#	传递到脚本的参数个数</span><br><span class="line">$*	以一个单字符串显示所有向脚本传递的参数。</span><br><span class="line">如&quot;$*&quot;用「&quot;」括起来的情况、以&quot;$1 $2 … $n&quot;的形式输出所有参数。</span><br><span class="line">$$	脚本运行的当前进程ID号</span><br><span class="line">$!	后台运行的最后一个进程的ID号</span><br><span class="line">$@	与$*相同，但是使用时加引号，并在引号中返回每个参数。</span><br><span class="line">如&quot;$@&quot;用「&quot;」括起来的情况、以&quot;$1&quot; &quot;$2&quot; … &quot;$n&quot; 的形式输出所有参数。</span><br><span class="line">$-	显示Shell使用的当前选项，与set命令功能相同。</span><br><span class="line">$?	显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</span><br></pre></td></tr></table></figure>

<p>$* 与 $@ 区别：</p>
<p>相同点：都是引用所有参数。<br>不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数 1、2、3，，则 “ * “ 等价于 “1 2 3”（传递了一个参数），而 “@” 等价于 “1” “2” “3”（传递了三个参数）。</p>
<h4 id="declare"><a href="#declare" class="headerlink" title="declare"></a>declare</h4><p>既然所有变量的默认类型是字符串型，那么只要把变量声明为整数型不就可以参与运算了吗？使用 declare 命令就可以声明变量的类型。</p>
<p>语法：<code>declare [+/-] [选项] 变量名</code></p>
<p>选项：</p>
<ul>
<li>-：给变量设定类型属性；</li>
<li>+：取消变量的类型属性；</li>
<li>-a：将变量声明为数组型；</li>
<li>-i：将变量声明为整数型（integer）；</li>
<li>-r：将变量声明为只读变量。注意，一旦设置为只读变量，既不能修改变量的值，也不能删除变量，甚至不能通过 +r 取消只读属性；</li>
<li>-x：将变量声明为环境变量；</li>
<li>-p：显示指定变量的被声明的类型；</li>
</ul>
<h4 id="read"><a href="#read" class="headerlink" title="read"></a>read</h4><p>除位置参数变量外，我们也可以使用 read 命令向脚本中传入数据。read 命令接收标准输入（键盘）的输入，或者其他文件描述符的输入。得到输入后，read 命令将数据放入一个标准变量中。</p>
<p>语法：<code>read [选项] [变量名]</code></p>
<p>选项:</p>
<ul>
<li>-p “提示信息”：在等待read输入时，输出提示信息；</li>
<li>-t 秒数：read命令会一直等待用户输入，使用此选项可以指定等待时间；</li>
<li>-n 字符数：read命令只接收指定的字符数就会执行；</li>
<li>-s： 隐藏输入的数据，适用于机密信息的输入；</li>
</ul>
<p>变量名：</p>
<ul>
<li>变量名可以自定义。如果不指定变量名，则会把输入保存到默认变量REPLY中；</li>
<li>如果只提供了一个变量名，则将整个输入行赋予该变量；</li>
<li>如果提供了一个以上的变量名，则输入行分为若干字，一个接一个地赋予各个变量，而命令行上的最后一个变量取得剩余的所有字；</li>
</ul>
<p>实例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sh]# vi read.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -t 30 -p &quot;Please input your name:&quot; name</span><br><span class="line"><span class="meta">#</span><span class="bash">提示<span class="string">&quot;请输入姓名&quot;</span>并等待30秒，把用户的输入保存到变量name中</span></span><br><span class="line">echo &quot;Name is $name&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">看看变量<span class="string">&quot;<span class="variable">$name</span>&quot;</span>中是否保存了你的输入</span></span><br><span class="line">read -s -t 30 -p &quot;Please enter your age:&quot; age</span><br><span class="line"><span class="meta">#</span><span class="bash">提示<span class="string">&quot;请输入年龄&quot;</span>并等待30秒，把用户的输入保存到变量age中</span></span><br><span class="line"><span class="meta">#</span><span class="bash">年龄是隐私，所以我们用<span class="string">&quot;-s&quot;</span>选项隐藏输入</span></span><br><span class="line">echo -e &quot;\n&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">调整输出格式，如果不输出换行，则一会儿的年龄输出不会换行</span></span><br><span class="line">echo &quot;Age is $age&quot;</span><br><span class="line">read -n 1 -t 30 -p &quot;Please select your gender[M/F]:&quot; gender</span><br><span class="line"><span class="meta">#</span><span class="bash">提示<span class="string">&quot;请选择性别&quot;</span>并等待30秒，把用户的输入保存到变量gender中</span></span><br><span class="line"><span class="meta">#</span><span class="bash">使用<span class="string">&quot;-n 1&quot;</span>选项只接收一个输入字符就会执行(无须按回车键）</span></span><br><span class="line">echo -e &quot;\n&quot;</span><br><span class="line">echo &quot;Sex is $gender&quot;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sh]# chmod 755 read.sh</span><br><span class="line">赋予执行权限</span><br><span class="line">[root@localhost sh]#./read.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">执行脚本</span></span><br><span class="line">Please input your name: zhang san</span><br><span class="line"><span class="meta">#</span><span class="bash">在<span class="built_in">read</span>的提示界面输入姓名</span></span><br><span class="line">Name is zhang san</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="string">&quot;<span class="variable">$name</span>&quot;</span>变量中保存了我们的输入</span></span><br><span class="line">Please enter your age:</span><br><span class="line"><span class="meta">#</span><span class="bash">因为加入了<span class="string">&quot;-s&quot;</span>选项，所以输入不会显示在命令行上</span></span><br><span class="line">Age is 18</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="string">&quot;<span class="variable">$age</span>&quot;</span>变量中保存了我们的输入</span></span><br><span class="line">Please select your gender[M/F]: M</span><br><span class="line"><span class="meta">#</span><span class="bash">因为加入了<span class="string">&quot;-n 1&quot;</span>选项，所以只能输入一个字符</span></span><br><span class="line">Sex is M</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">&quot;<span class="variable">$gender</span>&quot;</span>变量中保存了我们的输入</span></span><br></pre></td></tr></table></figure>

<p>read 命令并不难，却是接收键盘输入的重要方法，要熟练使用。</p>
<h4 id="变量”内容”的删除和替换"><a href="#变量”内容”的删除和替换" class="headerlink" title="变量”内容”的删除和替换"></a>变量”内容”的删除和替换</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ===&quot;内容&quot;的删除===</span></span><br><span class="line"> $ url=www.sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;#url&#125;</span> 获取变量值的长度</span><br><span class="line">15</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url&#125;</span> 标准查看</span><br><span class="line">www.sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url#*.&#125;</span> 从前往后，最短匹配</span><br><span class="line">sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url##*.&#125;</span> 从前往后，最长匹配 贪婪匹配</span><br><span class="line">cn</span><br><span class="line"> $ url=www.sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url&#125;</span></span><br><span class="line">www.sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url%.*&#125;</span> 从后往前，最短匹配</span><br><span class="line">www.sina.com</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url%%.*&#125;</span> 从后往前，最长匹配 贪婪匹配</span><br><span class="line">www</span><br><span class="line"> $ url=www.sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url#a.&#125;</span></span><br><span class="line">www.sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url#*sina.&#125;</span></span><br><span class="line">com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$HOSTNAME</span></span><br><span class="line">tianyun.1000phone.com</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;HOSTNAME%%.*&#125;</span></span><br><span class="line">tianyun</span><br><span class="line"><span class="comment">#索引及切片</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url:0:5&#125;</span> </span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url:5:5&#125;</span> </span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url:5&#125;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">#===&quot;内容&quot;的替换===</span></span><br><span class="line"> $ url=www.sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url/sina/baidu&#125;</span></span><br><span class="line">www.baidu.com.cn</span><br><span class="line"> $ url=www.sina.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url/n/N&#125;</span></span><br><span class="line">www.siNa.com.cn</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;url//n/N&#125;</span> 贪婪匹配</span><br><span class="line">www.siNa.com.cN</span><br><span class="line"></span><br><span class="line"><span class="comment">#===变量的替代===</span></span><br><span class="line"> $ <span class="built_in">unset</span> var1</span><br><span class="line"> $ </span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var1&#125;</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var1-aaaaa&#125;</span></span><br><span class="line">aaaaa</span><br><span class="line"> $ var2=111</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var2-bbbbb&#125;</span></span><br><span class="line">111</span><br><span class="line"> $ </span><br><span class="line"> $ var3=</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var3-ccccc&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># $&#123;变量名-新的变量值&#125;</span></span><br><span class="line"><span class="comment">#变量没有被赋值：会使用“新的变量值“ 替代</span></span><br><span class="line"><span class="comment">#变量有被赋值（包括空值）： 不会被替代</span></span><br><span class="line"> $ <span class="built_in">unset</span> var1</span><br><span class="line"> $ <span class="built_in">unset</span> var2</span><br><span class="line"> $ <span class="built_in">unset</span> var3</span><br><span class="line"> $ </span><br><span class="line"> $ var2=</span><br><span class="line"> $ var3=111</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var1:-aaaa&#125;</span>aaaa</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var2:-aaaa&#125;</span>aaaa</span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var3:-aaaa&#125;</span>111</span><br><span class="line"></span><br><span class="line"><span class="comment"># $&#123;变量名:-新的变量值&#125;</span></span><br><span class="line"><span class="comment"># 变量没有被赋值（包括空值）：都会使用“新的变量值“ 替代</span></span><br><span class="line"><span class="comment">#变量有被赋值： 不会被替</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var3+aaaa&#125;</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var3:+aaaa&#125;</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var3=aaaa&#125;</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$&#123;var3:=aaa</span></span><br><span class="line"><span class="variable"></span></span><br></pre></td></tr></table></figure>

<h4 id="printf命令"><a href="#printf命令" class="headerlink" title="printf命令"></a>printf命令</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">printf  format-string  [arguments...]</span><br></pre></td></tr></table></figure>

<p>输出类型：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">%ns：输出字符串。n 是数字，指代输出几个字符；</span><br><span class="line">%ni：输出整数。n 是数字，指代输出几个数字‘’</span><br><span class="line">%m.nf: 输出浮点数。m 和 n 是数字，指代输出的整数位数和小数位数。如 %8.2f 代表共输出 8 位数，其中 2 位是小数，6 位是整数；</span><br></pre></td></tr></table></figure>

<h4 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">\a	警告字符，通常为ASCII的BEL字符</span><br><span class="line">\b	后退</span><br><span class="line">\c	抑制（不显示）输出结果中任何结尾的换行字符（只在%b格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</span><br><span class="line">\f	换页（formfeed）</span><br><span class="line">\n	换行</span><br><span class="line">\r	回车（Carriage return）</span><br><span class="line">\t	水平制表符</span><br><span class="line">\v	垂直制表符</span><br><span class="line">\\	一个字面上的反斜杠字符</span><br><span class="line">\ddd	表示1到3位数八进制值的字符。仅在格式字符串中有效</span><br><span class="line">\0ddd	表示1到3位的八进制值字符</span><br></pre></td></tr></table></figure>

<p> test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">平心</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://pingxin0521.gitee.io/2019/03/25/Linux-%E8%84%9A%E6%9C%AC-1/">https://pingxin0521.gitee.io/2019/03/25/Linux-%E8%84%9A%E6%9C%AC-1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://pingxin0521.gitee.io" target="_blank">平心de小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/%E8%84%9A%E6%9C%AC/">脚本</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/03/26/%E5%B7%A5%E5%85%B7-Maven-1/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/7dHvepmfYOLWTrX.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Maven入门和配置</div></div></a></div><div class="next-post pull-right"><a href="/2019/03/25/Linux-%E5%AE%89%E5%85%A8-3/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">iptables和Firewalld防火墙</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2019/05/26/Linux-脚本-3/" title="Linux-expect"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-10-09</div><div class="title">Linux-expect</div></div></a></div><div><a href="/2019/04/26/Linux-脚本-2/" title="Linux-bash流程（二）"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/7dHvepmfYOLWTrX.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-10-09</div><div class="title">Linux-bash流程（二）</div></div></a></div><div><a href="/2019/03/13/Linux-基础-3/" title="Linux-bash特性和文本编辑"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/vCnKyoFJZ1g4XYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-10-24</div><div class="title">Linux-bash特性和文本编辑</div></div></a></div><div><a href="/2019/05/22/Linux-Ubuntu-4/" title="Ubuntu 点滴笔记"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-10-18</div><div class="title">Ubuntu 点滴笔记</div></div></a></div><div><a href="/2019/03/23/Linux-基础-12/" title="Linux-服务管理"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-04-03</div><div class="title">Linux-服务管理</div></div></a></div><div><a href="/2019/03/20/Linux-基础-5/" title="Linux-文本处理三剑客--grep"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-10-10</div><div class="title">Linux-文本处理三剑客--grep</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s2.ax1x.com/2020/02/11/1ovw6J.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">平心</div><div class="author-info__description">年轻人的life、learn and think</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">449</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">68</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hanyunpeng0521"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/hanyunpeng0521" target="_blank" title="Github"><i class="fa fa-github"></i></a><a class="social-icon" href="mailto:m13839441583@163.com" target="_blank" title="Email"><i class="fa fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">为什么呢？开始提问吧</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Shell-%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">Shell 能做什么？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hello-World"><span class="toc-number">2.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C-Shell-%E8%84%9A%E6%9C%AC"><span class="toc-number">3.</span> <span class="toc-text">运行 Shell 脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">4.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">4.1.</span> <span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">4.2.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">4.3.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">4.4.</span> <span class="toc-text">参数传递</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#declare"><span class="toc-number">4.5.</span> <span class="toc-text">declare</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#read"><span class="toc-number">4.6.</span> <span class="toc-text">read</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E2%80%9D%E5%86%85%E5%AE%B9%E2%80%9D%E7%9A%84%E5%88%A0%E9%99%A4%E5%92%8C%E6%9B%BF%E6%8D%A2"><span class="toc-number">4.7.</span> <span class="toc-text">变量”内容”的删除和替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#printf%E5%91%BD%E4%BB%A4"><span class="toc-number">4.8.</span> <span class="toc-text">printf命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-number">4.9.</span> <span class="toc-text">转义字符</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/15/node-2-4/" title="Egg.js -- 为企业级框架和应用而生"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Egg.js -- 为企业级框架和应用而生"/></a><div class="content"><a class="title" href="/2021/05/15/node-2-4/" title="Egg.js -- 为企业级框架和应用而生">Egg.js -- 为企业级框架和应用而生</a><time datetime="2021-05-15T10:18:59.000Z" title="发表于 2021-05-15 18:18:59">2021-05-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/30/node-2-3/" title="Koa -- 基于Node.js平台的下一代Web开发框架"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Koa -- 基于Node.js平台的下一代Web开发框架"/></a><div class="content"><a class="title" href="/2021/04/30/node-2-3/" title="Koa -- 基于Node.js平台的下一代Web开发框架">Koa -- 基于Node.js平台的下一代Web开发框架</a><time datetime="2021-04-30T10:18:59.000Z" title="发表于 2021-04-30 18:18:59">2021-04-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/01/node-2-1/" title="Node.JS web开发前置知识"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Node.JS web开发前置知识"/></a><div class="content"><a class="title" href="/2021/04/01/node-2-1/" title="Node.JS web开发前置知识">Node.JS web开发前置知识</a><time datetime="2021-04-01T03:18:59.000Z" title="发表于 2021-04-01 11:18:59">2021-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-1/" title="第十一周--谷歌浏览器插件"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第十一周--谷歌浏览器插件"/></a><div class="content"><a class="title" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-1/" title="第十一周--谷歌浏览器插件">第十一周--谷歌浏览器插件</a><time datetime="2020-12-26T10:18:59.000Z" title="发表于 2020-12-26 18:18:59">2020-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-0/" title="第十一周--浏览器技术"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/vCnKyoFJZ1g4XYR.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第十一周--浏览器技术"/></a><div class="content"><a class="title" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-0/" title="第十一周--浏览器技术">第十一周--浏览器技术</a><time datetime="2020-12-26T06:18:59.000Z" title="发表于 2020-12-26 14:18:59">2020-12-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By 平心</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '4lfIXzqxaC1ONs0MJO4oHu07-gzGzoHsz',
      appKey: 'qw99Bw8FD0KVKU9m457CwWsr',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: true,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>