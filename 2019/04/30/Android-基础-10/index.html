<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Android 基本控件（三） | 平心de小屋</title><meta name="keywords" content="Android"><meta name="author" content="平心"><meta name="copyright" content="平心"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="GridView前面学的ListView是列表， 这里的GridView就是显示网格，用于在界面上按行、列分布的方式来显示多个组件。">
<meta property="og:type" content="article">
<meta property="og:title" content="Android 基本控件（三）">
<meta property="og:url" content="https://pingxin0521.gitee.io/2019/04/30/Android-%E5%9F%BA%E7%A1%80-10/index.html">
<meta property="og:site_name" content="平心de小屋">
<meta property="og:description" content="GridView前面学的ListView是列表， 这里的GridView就是显示网格，用于在界面上按行、列分布的方式来显示多个组件。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg">
<meta property="article:published_time" content="2019-04-30T08:18:59.000Z">
<meta property="article:modified_time" content="2019-05-09T15:09:22.000Z">
<meta property="article:author" content="平心">
<meta property="article:tag" content="Android">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg"><link rel="shortcut icon" href="https://s2.ax1x.com/2020/02/11/1ovFOA.png"><link rel="canonical" href="https://pingxin0521.gitee.io/2019/04/30/Android-%E5%9F%BA%E7%A1%80-10/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Android 基本控件（三）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2019-05-09 23:09:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s2.ax1x.com/2020/02/11/1ovw6J.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">449</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">68</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">平心de小屋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Android 基本控件（三）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-04-30T08:18:59.000Z" title="发表于 2019-04-30 16:18:59">2019-04-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2019-05-09T15:09:22.000Z" title="更新于 2019-05-09 23:09:22">2019-05-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/">Android</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/%E5%9F%BA%E7%A1%80/">基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>34分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Android 基本控件（三）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="GridView"><a href="#GridView" class="headerlink" title="GridView"></a>GridView</h3><p>前面学的ListView是列表， 这里的GridView就是显示网格，用于在界面上按行、列分布的方式来显示多个组件。</p>
<span id="more"></span>

<p>GridView 和 ListView 有共同的父类：AbsListView，因此 GridView和ListView具有很高的相似性，它们都是列表项。GridView与ListView的唯一区别在于：ListView只显示一列；而GridView可以显示多列。从这个角度来看，ListView相当于一种特殊的GridView，如果让 GridView只显示一列，那么该GridView就变成了 ListView。 与ListView类似的是，GridView也需要通过Adapter来提供显示的数据：开发者可以采用上面介绍的几种方式中的任意一种来创建Adapter。不管使用哪种方式，GridView与ListView 的用法是基本一致的。 </p>
<p> GridView提供的常用XML属性及相关方法如下表所示：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/09/5cd40913be8ee.jpeg" alt="1.jpeg"></p>
<p>上表中android:stretchMode属性支持如下几个属性值。</p>
<ul>
<li><p>NO_STRETCH：不拉伸。</p>
</li>
<li><p>STRETCH_SPACING:仅拉伸元素之间的间距。</p>
</li>
<li><p>STRETCH_SPACING_UNIFORM：表格元素本身、元素之间的间距一起拉伸。</p>
</li>
<li><p>STRETCH_COLUMN_WIDTH：仅拉伸表格元素本身。</p>
</li>
</ul>
<p>另外需要注意的是使用GridView时一般都应该指定numColumns大于1；否则该属性的默认值为1。如果将该属性设为1，则意味着该GridView只有一列，那么GridView 就变成了 ListView。</p>
<p>gridview_layout.xml文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">              android:orientation=&quot;vertical&quot;</span><br><span class="line">              android:layout_width=&quot;match_parent&quot;</span><br><span class="line">              android:layout_height=&quot;match_parent&quot;</span><br><span class="line">              android:gravity=&quot;center_horizontal&quot;&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;!-- 定义一个GridView组件 --&gt;</span><br><span class="line">    &lt;GridView</span><br><span class="line">        android:id=&quot;@+id/gridview&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:horizontalSpacing=&quot;1dp&quot;</span><br><span class="line">        android:verticalSpacing=&quot;1dp&quot;</span><br><span class="line">        android:numColumns=&quot;4&quot;</span><br><span class="line">        android:gravity=&quot;center&quot;/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p>定义GridView时指定了 android:numColumns=”4”，这意味着该网格包含4列。该GridView包含的行是动态改变的——正如ListView到底包含多少行是由该ListView对应的Adapter所决定的，GridView到底包含多少行也是由Adapter决定的。</p>
<p>gridview_item.xml文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">              android:layout_width=&quot;match_parent&quot;</span><br><span class="line">              android:layout_height=&quot;match_parent&quot;</span><br><span class="line">              android:gravity=&quot;center_horizontal&quot;</span><br><span class="line">              android:orientation=&quot;vertical&quot;</span><br><span class="line">              android:padding=&quot;5dp&quot; &gt;</span><br><span class="line"> </span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:id=&quot;@+id/icon_img&quot;</span><br><span class="line">        android:layout_width=&quot;48dp&quot;</span><br><span class="line">        android:layout_height=&quot;48dp&quot; /&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/name_tv&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_marginTop=&quot;5dp&quot;/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p>接下来为GridView提供Adapter，具体实现方式有多种，这里使用SimpleAdapter决定GridView所要显示的内容。新建GridViewActivity.java文件，加载上面新建的布局文件，具体代码如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">import android.os.Bundle;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.widget.AdapterView;</span><br><span class="line">import android.widget.GridView;</span><br><span class="line">import android.widget.SimpleAdapter;</span><br><span class="line">import android.widget.Toast;</span><br><span class="line"> </span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line"> </span><br><span class="line">public class GridViewActivity extends AppCompatActivity &#123;</span><br><span class="line">    private GridView mAppGridView = null;</span><br><span class="line">    // 应用图标</span><br><span class="line">    private int[] mAppIcons = &#123;</span><br><span class="line">            R.drawable.app_1, R.drawable.app_2, R.drawable.app_3,</span><br><span class="line">            R.drawable.app_4, R.drawable.app_5, R.drawable.app_6,</span><br><span class="line">            R.drawable.app_7, R.drawable.app_8, R.drawable.app_9</span><br><span class="line">    &#125;;</span><br><span class="line">    // 应用名</span><br><span class="line">    private String[] mAppNames = &#123;</span><br><span class="line">            &quot;魔法棒&quot;, &quot;点赞社群&quot;, &quot;购物街区&quot;,&quot;蚂蚁社区&quot;,&quot;鑫鱻地图&quot;,</span><br><span class="line">            &quot;鑫鱻消息&quot;, &quot;房品汇&quot;,&quot;商城&quot;,&quot;模型盒子&quot;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.gridview_layout);</span><br><span class="line"> </span><br><span class="line">        // 获取界面组件</span><br><span class="line">        mAppGridView = (GridView) findViewById(R.id.gridview);</span><br><span class="line"> </span><br><span class="line">        // 初始化数据，创建一个List对象，List对象的元素是Map</span><br><span class="line">        List&lt;Map&lt;String, Object&gt;&gt; listItems =</span><br><span class="line">                new ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">        for (int i = 0; i &lt; mAppIcons.length; i++) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; listItem = new HashMap&lt;String, Object&gt;();</span><br><span class="line">            listItem.put(&quot;icon&quot;, mAppIcons[i]);</span><br><span class="line">            listItem.put(&quot;name&quot;,mAppNames[i]);</span><br><span class="line">            listItems.add(listItem);</span><br><span class="line">        &#125;</span><br><span class="line">        // 创建一个SimpleAdapter</span><br><span class="line">        SimpleAdapter simpleAdapter = new SimpleAdapter(this,</span><br><span class="line">                listItems,</span><br><span class="line">                R.layout.gridview_item,</span><br><span class="line">                new String[]&#123;&quot;icon&quot;, &quot;name&quot;&#125;,</span><br><span class="line">                new int[]&#123;R.id.icon_img, R.id.name_tv&#125;);</span><br><span class="line"> </span><br><span class="line">        // 为GridView设置Adapter</span><br><span class="line">        mAppGridView.setAdapter(simpleAdapter);</span><br><span class="line"> </span><br><span class="line">        // 添加列表项被单击的监听器</span><br><span class="line">        mAppGridView.setOnItemClickListener(new AdapterView.OnItemClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123;</span><br><span class="line">                // 显示被单击的图片</span><br><span class="line">                Toast.makeText(GridViewActivity.this, mAppNames[position],</span><br><span class="line">                        Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的程序同样使用了 SimpleAdapter对象作为GridView的Adapter，这个SimpleAdapter底层保证了一个长度为9的List集合这意味着该GridView—共需要显示9个组件，GridView总共有4 列，因此该GridView —共包含3行。</p>
<p>单击界面中的图标，可以看到消息提示。</p>
<h3 id="下拉框Spinner"><a href="#下拉框Spinner" class="headerlink" title="下拉框Spinner"></a>下拉框Spinner</h3><p>Spinner其实就是一个列表选择框。不过Android的列表选择框并不需要显示下拉列表，而是相当于弹出一个菜单供用户选择。</p>
<p>Spinner 与 Gallery 都继承了AbsSpinner，AbsSpinner 继承了AdapterView，因此它也表现出AdapterView的特征：只要为AdapterView提供Adapter即可。</p>
<p>Spinner支持的常用XML属性及相关方法如下表所示：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/09/5cd40b2f89985.jpeg" alt="1.jpeg"></p>
<p>如果开发者使用Spinner时己经可以确定列表选择框里的列表项，则完全不需要编写代码，只要为Spinner指定android:entries属性即可让Spinner正常工作；如果程序需要在运行时动态 地决定Spinner的列表项，或者程序需要对Spinner的列表项进行定制，则可使用Adapter为 Spinner提供列表项</p>
<p>spinner_layout.xml文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">              android:layout_width=&quot;match_parent&quot;</span><br><span class="line">              android:layout_height=&quot;match_parent&quot;</span><br><span class="line">              android:orientation=&quot;vertical&quot;</span><br><span class="line">              android:padding=&quot;5dp&quot; &gt;</span><br><span class="line"> </span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:text=&quot;选择专业方向&quot;</span><br><span class="line">        android:textColor=&quot;#44BDED&quot;</span><br><span class="line">        android:textSize=&quot;18sp&quot; /&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;Spinner</span><br><span class="line">        android:id=&quot;@+id/spin_one&quot;</span><br><span class="line">        android:layout_width=&quot;100dp&quot;</span><br><span class="line">        android:layout_height=&quot;64dp&quot;</span><br><span class="line">        android:entries=&quot;@array/professionals&quot;</span><br><span class="line">        android:spinnerMode=&quot;dialog&quot; /&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_marginTop=&quot;10dp&quot;</span><br><span class="line">        android:text=&quot;选择教科书&quot;</span><br><span class="line">        android:textColor=&quot;#F5684A&quot;</span><br><span class="line">        android:textSize=&quot;18sp&quot; /&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;Spinner</span><br><span class="line">        android:id=&quot;@+id/spin_two&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;64dp&quot; /&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p>在res/values/目录下新建arrays.xml文件，定义professionals数组资源，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;resources&gt;</span><br><span class="line">    &lt;string-array name=&quot;professionals&quot;&gt;</span><br><span class="line">        &lt;item&gt;Android&lt;/item&gt;</span><br><span class="line">        &lt;item&gt;Java&lt;/item&gt;</span><br><span class="line">        &lt;item&gt;Python&lt;/item&gt;</span><br><span class="line">        &lt;item&gt;PHP&lt;/item&gt;</span><br><span class="line">        &lt;item&gt;.Net&lt;/item&gt;</span><br><span class="line">        &lt;item&gt;C++&lt;/item&gt;</span><br><span class="line">        &lt;item&gt;C&lt;/item&gt;</span><br><span class="line">    &lt;/string-array&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure>

<p> 接下来为Spinner提供Adapter。新建SpinnerActivity.java文件，加载上面新建的布局文件，具体代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">import android.os.Bundle;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.widget.AdapterView;</span><br><span class="line">import android.widget.ArrayAdapter;</span><br><span class="line">import android.widget.Spinner;</span><br><span class="line">import android.widget.Toast;</span><br><span class="line"> </span><br><span class="line">public class SpinnerActivity extends AppCompatActivity</span><br><span class="line">        implements AdapterView.OnItemSelectedListener &#123;</span><br><span class="line">    private Spinner mProSpinner = null;</span><br><span class="line">    private Spinner mBookSpinner = null;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.spinner_layout);</span><br><span class="line"> </span><br><span class="line">        // 获取界面布局文件中的Spinner组件</span><br><span class="line">        mProSpinner = (Spinner) findViewById(R.id.spin_one);</span><br><span class="line">        mBookSpinner = (Spinner) findViewById(R.id.spin_two);</span><br><span class="line"> </span><br><span class="line">        String[] arr = &#123; &quot;初识Android开发&quot;, &quot;Android初识开发&quot;, &quot;Android中级开发&quot;,</span><br><span class="line">                &quot;Android高级开发&quot;, &quot;Android开发进阶&quot;&#125;;</span><br><span class="line">        // 创建ArrayAdapter对象</span><br><span class="line">        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,</span><br><span class="line">                android.R.layout.simple_list_item_1, arr);</span><br><span class="line">        // 为Spinner设置Adapter</span><br><span class="line">        mBookSpinner.setAdapter(adapter);</span><br><span class="line"> </span><br><span class="line">        // 为Spinner设置选中事件监听器</span><br><span class="line">        mProSpinner.setOnItemSelectedListener(this);</span><br><span class="line">        mBookSpinner.setOnItemSelectedListener(this);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123;</span><br><span class="line">        String content = parent.getItemAtPosition(position).toString();</span><br><span class="line">        switch (parent.getId())&#123;</span><br><span class="line">            case R.id.spin_one:</span><br><span class="line">                Toast.makeText(SpinnerActivity.this, &quot;选择的专业是：&quot; + content,</span><br><span class="line">                        Toast.LENGTH_SHORT).show();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.spin_two:</span><br><span class="line">                Toast.makeText(SpinnerActivity.this, &quot;选择的教材是：&quot; + content,</span><br><span class="line">                        Toast.LENGTH_SHORT).show();</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Gallery与Spinner组件有共同的父类：AbsSpinner，表明Gallery和Spinner都是一个列表选择框。它们之间的区别在于，Spinner显示的是一个垂直的列表选择框，而Gallery显示的是一个水平的列表选择框。 Gallery与Spinner还有一个区别：Spinner的作用是供用户选择，而Gallery则允许用户通过拖动来查看上一个、下一个列表项。</p>
<p>Gallery本身的用法非常简单——基本上与Spinner的用法相似，只要为它提供一个内容 Adapter即可，该Adapter的getView()方法所返回的View将作为Gallery列表的列表项。如果程序需要监控到Gallery选择项的改变，通过为Gallery添加OnltemSelectedListener监听器即可实现。</p>
<p>Android已经不再推荐使用Gallery组件，而是推荐使用其他水平滚动组件，如HorizontalScrollView和ViewPager来代替Gallery组件，所以此处不做过多讲解。</p>
<h3 id="自动完成文本框AutoCompleteTextView"><a href="#自动完成文本框AutoCompleteTextView" class="headerlink" title="自动完成文本框AutoCompleteTextView"></a>自动完成文本框AutoCompleteTextView</h3><p> AutoCompleteTextView是自动完成文本框，从EditText派生而出，实际上它也是一个文本编辑框，但它比普通编辑框多了一个功能：当用户输入一定字符之后，自动完成文本框会显示一个下拉菜单，供用户从中选择，当用户选择某个菜单项之后，AutoCompleteTextView按用户选择自动填写该文本框。</p>
<p>AutoCompleteTextView除了可使用EditText提供的XML属性和方法之外，还支持如下表所示的常用XML属性及相关方法：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/09/5cd40c48bd59e.jpeg" alt="1.jpeg"></p>
<p>使用AutoCompleteTextView很简单，只要为它设置一个Adapter即可，该Adapter封装了 AutoCompleteTextView预设的提示文本。</p>
<p>AutoCompleteTextView还派生了一个子类：MultiAutoCompleteTextView,该子类的功能与 AutoCompleteTextView基本相似，只是MultiAutoCompleteTextView允许输入多个提示项，多个提示项以分隔符分隔。MultiAutoCompleteTextView提供了 setTokenizer()方法来设置分隔符。</p>
<p>autocomplete_textview_layout.xml文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">              android:orientation=&quot;vertical&quot;</span><br><span class="line">              android:layout_width=&quot;match_parent&quot;</span><br><span class="line">              android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;!-- 定义一个自动完成文本框，指定输入一个字符后进行提示 --&gt;</span><br><span class="line">    &lt;AutoCompleteTextView</span><br><span class="line">        android:id=&quot;@+id/auto_actv&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:hint=&quot;输入联系人姓名&quot;</span><br><span class="line">        android:completionHint=&quot;选择联系人&quot;</span><br><span class="line">        android:dropDownHorizontalOffset=&quot;10dp&quot;</span><br><span class="line">        android:completionThreshold=&quot;1&quot;/&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;!-- 定义一个MultiAutoCompleteTextView组件 --&gt;</span><br><span class="line">    &lt;MultiAutoCompleteTextView</span><br><span class="line">        android:id=&quot;@+id/mauto_mactv&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:hint=&quot;输入联系人姓名，可多个分隔符分隔&quot;</span><br><span class="line">        android:completionThreshold=&quot;1&quot;/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p>上面的界面布局文件中定义了 AutoCompleteTextView 和 MultiAutoCompleteTextView，接下来在程序中为它们绑定同一个Adapter，这意味着两个自动完成文本框的提示项完全相同，只是它们的表现行为略有差异。</p>
<p>新建AutoCompleteTextViewActivity.java文件，加载上面新建的布局文件，具体代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import android.os.Bundle;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.widget.ArrayAdapter;</span><br><span class="line">import android.widget.AutoCompleteTextView;</span><br><span class="line">import android.widget.MultiAutoCompleteTextView;</span><br><span class="line"> </span><br><span class="line">public class AutoCompleteTextViewActivity extends AppCompatActivity &#123;</span><br><span class="line">    private AutoCompleteTextView mAutoTv = null;</span><br><span class="line">    private MultiAutoCompleteTextView mMultiAutoTv = null;</span><br><span class="line"> </span><br><span class="line">    // 定义字符串数组，作为提示的文本</span><br><span class="line">    private String[] mContacts = new String[]&#123;</span><br><span class="line">            &quot;test&quot;, &quot;abc&quot;, &quot;aaa&quot;, &quot;aabbcc&quot;, &quot;bac&quot;, &quot;ok&quot;, &quot;say&quot;, &quot;aabbsd&quot;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.autocomplete_textview_layout);</span><br><span class="line">        mAutoTv = (AutoCompleteTextView)findViewById(R.id.auto_actv);</span><br><span class="line">        mMultiAutoTv = (MultiAutoCompleteTextView)findViewById(R.id.mauto_mactv);</span><br><span class="line"> </span><br><span class="line">        // 创建一个ArrayAdapter，封装数组</span><br><span class="line">        ArrayAdapter&lt;String&gt; aa = new ArrayAdapter&lt;String&gt;(this,</span><br><span class="line">                android.R.layout.simple_dropdown_item_1line, mContacts);</span><br><span class="line"> </span><br><span class="line">        // 设置Adapter</span><br><span class="line">        mAutoTv.setAdapter(aa);</span><br><span class="line">        mMultiAutoTv.setAdapter(aa);</span><br><span class="line"> </span><br><span class="line">        // 为MultiAutoCompleteTextView设置分隔符</span><br><span class="line">        mMultiAutoTv.setTokenizer(new MultiAutoCompleteTextView.CommaTokenizer());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面程序代码负责为AutoCompleteTextView、MultiAutoCompleteTextView 设置同一个 Adapter，并为 MultiAutoCompleteTextView 设置了分隔符。</p>
<h3 id="可折叠列表ExpandableListView"><a href="#可折叠列表ExpandableListView" class="headerlink" title="可折叠列表ExpandableListView"></a>可折叠列表ExpandableListView</h3><p>ExpandableListView 是 ListView 的子类，它在普通ListView的基础上进行了扩展，它把应用中的列表项分为几组，每组里又可包含多个列表项。</p>
<p>ExpandableListView的用法与普通 ListView的用法非常相似，只是 ExpandableListView所显示的列表项应 该由 ExpandableListAdapter 提供。ExpandableListAdapter 也是一个接口，该接口下提供的类继承关系图如下图所示：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/09/5cd40d7a131a2.jpeg" alt="1.jpeg"></p>
<p>与Adapter类似的是，实现 ExpandableListAdapter也有如下三种常用方式。</p>
<ul>
<li><p>扩展 BaseExpandableListAdapter 实现 ExpandableListAdapter。</p>
</li>
<li><p>使用 SimpleExpandableListAdapter 将两个 List 集合包装成 ExpandableListAdapter。</p>
</li>
<li><p>使用 SimpleCursorTreeAdapter 将 Cursor 中的数据包装成 SimpleCursorTreeAdapter。 </p>
</li>
</ul>
<p>ExpandableListView支持的常用XML属性如下：</p>
<ul>
<li><p>android:childDivider：指定各组内子类表项之间的分隔条，图片不会完全显示， 分离子列表项的是一条直线。</p>
</li>
<li><p>android:childIndicator：显示在子列表旁边的Drawable对象，可以是一个图像。</p>
</li>
<li><p>android:childIndicatorEnd：子列表项指示符的结束约束位置。</p>
</li>
<li><p>android:childIndicatorLeft：子列表项指示符的左边约束位置。</p>
</li>
<li><p>android:childIndicatorRight：子列表项指示符的右边约束位置。</p>
</li>
<li><p>android:childIndicatorStart：子列表项指示符的开始约束位置。</p>
</li>
<li><p>android:groupIndicator：显示在组列表旁边的Drawable对象，可以是一个图像。</p>
</li>
<li><p>android:indicatorEnd：组列表项指示器的结束约束位置。</p>
</li>
<li><p>android:indicatorLeft：组列表项指示器的左边约束位置。</p>
</li>
<li><p>android:indicatorRight：组列表项指示器的右边约束位置。</p>
</li>
<li><p>android:indicatorStart：组列表项指示器的开始约束位置。</p>
</li>
</ul>
<p>expandlist_layout.xml文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">                android:layout_width=&quot;match_parent&quot;</span><br><span class="line">                android:layout_height=&quot;match_parent&quot;  &gt;</span><br><span class="line"> </span><br><span class="line">    &lt;ExpandableListView</span><br><span class="line">        android:id=&quot;@+id/expendlist&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot; /&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>

<p>expendlist_group.xml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">                android:layout_width=&quot;match_parent&quot;</span><br><span class="line">                android:layout_height=&quot;70dp&quot;</span><br><span class="line">                android:gravity=&quot;center_vertical&quot;</span><br><span class="line">                android:padding=&quot;10dp&quot;&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:id=&quot;@+id/group_img&quot;</span><br><span class="line">        android:layout_width=&quot;36dp&quot;</span><br><span class="line">        android:layout_height=&quot;36dp&quot;</span><br><span class="line">        android:layout_centerVertical=&quot;true&quot;</span><br><span class="line">        android:layout_marginLeft=&quot;20dp&quot;</span><br><span class="line">        android:src=&quot;@drawable/group_close&quot; /&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/groupname_tv&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_centerVertical=&quot;true&quot;</span><br><span class="line">        android:layout_toRightOf=&quot;@+id/group_img&quot;</span><br><span class="line">        android:layout_marginLeft=&quot;10dp&quot;</span><br><span class="line">        android:text=&quot;张三&quot;</span><br><span class="line">        android:textSize=&quot;18sp&quot; /&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>

<p>expendlist_item.xml文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">              android:layout_width=&quot;match_parent&quot;</span><br><span class="line">              android:layout_height=&quot;70dp&quot;</span><br><span class="line">              android:orientation=&quot;horizontal&quot;</span><br><span class="line">              android:gravity=&quot;center_vertical&quot;</span><br><span class="line">              android:padding=&quot;10dp&quot; &gt;</span><br><span class="line"> </span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:id=&quot;@+id/icon_img&quot;</span><br><span class="line">        android:layout_width=&quot;48dp&quot;</span><br><span class="line">        android:layout_height=&quot;48dp&quot;</span><br><span class="line">        android:layout_marginLeft=&quot;20dp&quot;</span><br><span class="line">        android:src=&quot;@drawable/item&quot; /&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;60dp&quot;</span><br><span class="line">        android:gravity=&quot;center_vertical&quot;</span><br><span class="line">        android:orientation=&quot;vertical&quot; &gt;</span><br><span class="line"> </span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=&quot;@+id/itemname_tv&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:textSize=&quot;22sp&quot;</span><br><span class="line">            android:textStyle=&quot;bold&quot;</span><br><span class="line">            android:text=&quot;李大钊&quot; /&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=&quot;@+id/info_tv&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_marginTop=&quot;10dp&quot;</span><br><span class="line">            android:text=&quot;今天是个好日子啊!&quot; /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p>新建MyExpandableListViewAdapter类，继承ExpandableListViewAdapter，并重写其方法，代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line">import android.content.Context;</span><br><span class="line">import android.view.LayoutInflater;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.view.ViewGroup;</span><br><span class="line">import android.widget.BaseExpandableListAdapter;</span><br><span class="line">import android.widget.ImageView;</span><br><span class="line">import android.widget.TextView;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class MyExpandableListViewAdapter extends BaseExpandableListAdapter &#123;</span><br><span class="line">    private Context mContext = null;</span><br><span class="line">    private List&lt;String&gt; mGroupList = null;</span><br><span class="line">    private List&lt;List&lt;String&gt;&gt; mItemList = null;</span><br><span class="line"> </span><br><span class="line">    public MyExpandableListViewAdapter(Context context, List&lt;String&gt; groupList,</span><br><span class="line">                                       List&lt;List&lt;String&gt;&gt; itemList) &#123;</span><br><span class="line">        this.mContext = context;</span><br><span class="line">        this.mGroupList = groupList;</span><br><span class="line">        this.mItemList = itemList;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取组的个数</span><br><span class="line">     *</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#getGroupCount()</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public int getGroupCount() &#123;</span><br><span class="line">        return mGroupList.size();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取指定组中的子元素个数</span><br><span class="line">     *</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#getChildrenCount(int)</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public int getChildrenCount(int groupPosition) &#123;</span><br><span class="line">        return mItemList.get(groupPosition).size();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取指定组中的数据</span><br><span class="line">     *</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#getGroup(int)</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public String getGroup(int groupPosition) &#123;</span><br><span class="line">        return mGroupList.get(groupPosition);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取指定组中的指定子元素数据。</span><br><span class="line">     *</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @param childPosition</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#getChild(int, int)</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public String getChild(int groupPosition, int childPosition) &#123;</span><br><span class="line">        return mItemList.get(groupPosition).get(childPosition);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取指定组的ID，这个组ID必须是唯一的</span><br><span class="line">     *</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#getGroupId(int)</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public long getGroupId(int groupPosition) &#123;</span><br><span class="line">        return groupPosition;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取指定组中的指定子元素ID</span><br><span class="line">     *</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @param childPosition</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#getChildId(int, int)</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public long getChildId(int groupPosition, int childPosition) &#123;</span><br><span class="line">        return childPosition;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取显示指定组的视图对象</span><br><span class="line">     *</span><br><span class="line">     * @param groupPosition 组位置</span><br><span class="line">     * @param isExpanded    该组是展开状态还是伸缩状态</span><br><span class="line">     * @param convertView   重用已有的视图对象</span><br><span class="line">     * @param parent        返回的视图对象始终依附于的视图组</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#getGroupView(int, boolean, android.view.View,</span><br><span class="line">     * android.view.ViewGroup)</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public View getGroupView(int groupPosition, boolean isExpanded, View convertView,</span><br><span class="line">                             ViewGroup parent) &#123;</span><br><span class="line">        GroupHolder groupHolder = null;</span><br><span class="line">        if (convertView == null) &#123;</span><br><span class="line">            convertView = LayoutInflater.from(mContext).inflate(R.layout.expendlist_group, null);</span><br><span class="line">            groupHolder = new GroupHolder();</span><br><span class="line">            groupHolder.groupNameTv = (TextView) convertView.findViewById(R.id.groupname_tv);</span><br><span class="line">            groupHolder.groupImg = (ImageView) convertView.findViewById(R.id.group_img);</span><br><span class="line">            convertView.setTag(groupHolder);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            groupHolder = (GroupHolder) convertView.getTag();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        if (isExpanded) &#123;</span><br><span class="line">            groupHolder.groupImg.setImageResource(R.drawable.group_open);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            groupHolder.groupImg.setImageResource(R.drawable.group_close);</span><br><span class="line">        &#125;</span><br><span class="line">        groupHolder.groupNameTv.setText(mGroupList.get(groupPosition));</span><br><span class="line"> </span><br><span class="line">        return convertView;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取一个视图对象，显示指定组中的指定子元素数据。</span><br><span class="line">     *</span><br><span class="line">     * @param groupPosition 组位置</span><br><span class="line">     * @param childPosition 子元素位置</span><br><span class="line">     * @param isLastChild   子元素是否处于组中的最后一个</span><br><span class="line">     * @param convertView   重用已有的视图(View)对象</span><br><span class="line">     * @param parent        返回的视图(View)对象始终依附于的视图组</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#getChildView(int, int, boolean, android.view.View,</span><br><span class="line">     * android.view.ViewGroup)</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public View getChildView(int groupPosition, int childPosition, boolean isLastChild,</span><br><span class="line">                             View convertView, ViewGroup parent) &#123;</span><br><span class="line">        ItemHolder itemHolder = null;</span><br><span class="line">        if (convertView == null) &#123;</span><br><span class="line">            convertView = LayoutInflater.from(mContext).inflate(R.layout.expendlist_item, null);</span><br><span class="line">            itemHolder = new ItemHolder();</span><br><span class="line">            itemHolder.nameTv = (TextView) convertView.findViewById(R.id.itemname_tv);</span><br><span class="line">            itemHolder.iconImg = (ImageView) convertView.findViewById(R.id.icon_img);</span><br><span class="line">            convertView.setTag(itemHolder);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            itemHolder = (ItemHolder) convertView.getTag();</span><br><span class="line">        &#125;</span><br><span class="line">        itemHolder.nameTv.setText(mItemList.get(groupPosition).get(childPosition));</span><br><span class="line">        itemHolder.iconImg.setBackgroundResource(R.drawable.item);</span><br><span class="line"> </span><br><span class="line">        return convertView;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 组和子元素是否持有稳定的ID,也就是底层数据的改变不会影响到它们。</span><br><span class="line">     *</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#hasStableIds()</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public boolean hasStableIds() &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 是否选中指定位置上的子元素。</span><br><span class="line">     *</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @param childPosition</span><br><span class="line">     * @return</span><br><span class="line">     * @see android.widget.ExpandableListAdapter#isChildSelectable(int, int)</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public boolean isChildSelectable(int groupPosition, int childPosition) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    class GroupHolder &#123;</span><br><span class="line">        public TextView groupNameTv;</span><br><span class="line">        public ImageView groupImg;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    class ItemHolder &#123;</span><br><span class="line">        public ImageView iconImg;</span><br><span class="line">        public TextView nameTv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面程序的关键代码就是扩展BaseExpandableListAdapter来实现ExpandableListAdapter, 当扩展BaseExpandableListAdapter时，关键是实现如下4个方法。</p>
<ul>
<li><p>getGroupCount()：该方法返回包含的组列表项的数量。</p>
</li>
<li><p>getGroupView()：该方法返回的View对象将作为组列表项。</p>
</li>
<li><p>getChildrenCount()：该方法返回特定组所包含的子列表项的数量。</p>
</li>
<li><p>getChildView()：该方法返回的View对象将作为特定组、特定位置的子列表项。</p>
</li>
</ul>
<p>新建ExpandableListActivity.java文件，加载上面新建的布局文件，具体代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">import android.os.Bundle;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.widget.ExpandableListView;</span><br><span class="line">import android.widget.Toast;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"> </span><br><span class="line">public class ExpandableListActivity extends AppCompatActivity &#123;</span><br><span class="line">    private ExpandableListView mExpandableListView = null;</span><br><span class="line">    // 列表数据</span><br><span class="line">    private List&lt;String&gt; mGroupNameList = null;</span><br><span class="line">    private List&lt;List&lt;String&gt;&gt; mItemNameList = null;</span><br><span class="line">    // 适配器</span><br><span class="line">    private MyExpandableListViewAdapter mAdapter = null;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.expandlist_layout);</span><br><span class="line"> </span><br><span class="line">        // 获取组件</span><br><span class="line">        mExpandableListView = (ExpandableListView) findViewById(R.id.expendlist);</span><br><span class="line">        mExpandableListView.setGroupIndicator(null);</span><br><span class="line"> </span><br><span class="line">        // 初始化数据</span><br><span class="line">        initData();</span><br><span class="line"> </span><br><span class="line">        // 为ExpandableListView设置Adapter</span><br><span class="line">        mAdapter = new MyExpandableListViewAdapter(this, mGroupNameList, mItemNameList);</span><br><span class="line">        mExpandableListView.setAdapter(mAdapter);</span><br><span class="line"> </span><br><span class="line">        // 监听组点击</span><br><span class="line">        mExpandableListView.setOnGroupClickListener(new ExpandableListView.OnGroupClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean onGroupClick(ExpandableListView parent, View v,</span><br><span class="line">                                        int groupPosition, long id) &#123;</span><br><span class="line">                if (mGroupNameList.get(groupPosition).isEmpty()) &#123;</span><br><span class="line">                    return true;</span><br><span class="line">                &#125;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"> </span><br><span class="line">        // 监听每个分组里子控件的点击事件</span><br><span class="line">        mExpandableListView.setOnChildClickListener(new ExpandableListView.OnChildClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean onChildClick(ExpandableListView parent, View v, int groupPosition,</span><br><span class="line">                                        int childPosition, long id) &#123;</span><br><span class="line">                Toast.makeText(ExpandableListActivity.this,</span><br><span class="line">                        mAdapter.getGroup(groupPosition) + &quot;:&quot;</span><br><span class="line">                                +  mAdapter.getChild(groupPosition, childPosition) ,</span><br><span class="line">                        Toast.LENGTH_SHORT).show();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 初始化数据</span><br><span class="line">    private void initData()&#123;</span><br><span class="line">        // 组名</span><br><span class="line">        mGroupNameList = new ArrayList&lt;String&gt;();</span><br><span class="line">        mGroupNameList.add(&quot;历代帝王&quot;);</span><br><span class="line">        mGroupNameList.add(&quot;华坛明星&quot;);</span><br><span class="line">        mGroupNameList.add(&quot;国外明星&quot;);</span><br><span class="line">        mGroupNameList.add(&quot;政坛人物&quot;);</span><br><span class="line"> </span><br><span class="line">        mItemNameList = new  ArrayList&lt;List&lt;String&gt;&gt;();</span><br><span class="line">        // 历代帝王组</span><br><span class="line">        List&lt;String&gt; itemList = new ArrayList&lt;String&gt;();</span><br><span class="line">        itemList.add(&quot;唐太宗李世民&quot;);</span><br><span class="line">        itemList.add(&quot;秦始皇嬴政&quot;);</span><br><span class="line">        itemList.add(&quot;汉武帝刘彻&quot;);</span><br><span class="line">        itemList.add(&quot;明太祖朱元璋&quot;);</span><br><span class="line">        itemList.add(&quot;宋太祖赵匡胤&quot;);</span><br><span class="line">        mItemNameList.add(itemList);</span><br><span class="line">        // 华坛明星组</span><br><span class="line">        itemList = new ArrayList&lt;String&gt;();</span><br><span class="line">        itemList.add(&quot;范冰冰 &quot;);</span><br><span class="line">        itemList.add(&quot;梁朝伟&quot;);</span><br><span class="line">        itemList.add(&quot;谢霆锋&quot;);</span><br><span class="line">        itemList.add(&quot;章子怡&quot;);</span><br><span class="line">        itemList.add(&quot;杨颖&quot;);</span><br><span class="line">        itemList.add(&quot;张柏芝&quot;);</span><br><span class="line">        mItemNameList.add(itemList);</span><br><span class="line">        // 国外明星组</span><br><span class="line">        itemList = new ArrayList&lt;String&gt;();</span><br><span class="line">        itemList.add(&quot;安吉丽娜•朱莉&quot;);</span><br><span class="line">        itemList.add(&quot;艾玛•沃特森&quot;);</span><br><span class="line">        itemList.add(&quot;朱迪•福斯特&quot;);</span><br><span class="line">        mItemNameList.add(itemList);</span><br><span class="line">        // 政坛人物组</span><br><span class="line">        itemList = new ArrayList&lt;String&gt;();</span><br><span class="line">        itemList.add(&quot;唐纳德•特朗普&quot;);</span><br><span class="line">        itemList.add(&quot;金正恩&quot;);</span><br><span class="line">        itemList.add(&quot;奥巴马&quot;);</span><br><span class="line">        itemList.add(&quot;普京&quot;);</span><br><span class="line">        mItemNameList.add(itemList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述代码为ExpandableListView设置Adapter，并为ExpandableListView设置事件监听器。点击组的时候，会将其子元素打开。</p>
<h3 id="AdapterViewFlipper图片轮播"><a href="#AdapterViewFlipper图片轮播" class="headerlink" title="AdapterViewFlipper图片轮播"></a>AdapterViewFlipper图片轮播</h3><p> AdapterViewFilpper 继承 了AdapterViewAnimator，它也会显示 Adapter 提供的多个 View 组件，但它每次只能显示一个View组件，程序可通过showPrevious()和showNext()方法控制该组件显示上一个、下一个组件。</p>
<p>AdapterViewFilpper可以在多个View切换过程中使用渐隐渐显的动画效果。除此之外，还可以调用该组件的startFlipping()控制它“自动播放”下一个View组件。 </p>
<p>AdapterViewAnimator支持的XML属性如下：</p>
<ul>
<li><p>android:animateFirstView：设置显示组件的第一个View时是否使用动画。</p>
</li>
<li><p>android:inAnimation：设置组件显示时使用的动画。</p>
</li>
<li><p>android:loopViews：设置循环到最后一个组件时是否自动跳转到第一个组件。</p>
</li>
<li><p>android:outAnimation：设置组件隐藏时使用的动画。</p>
</li>
</ul>
<p>AdapterViewFilpper额外支持的XML属性及相关方法如下表所示。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/09/5cd40eb790b38.png" alt="1.png"></p>
<p>adapterview_filpper_layout.xml文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">                android:layout_width=&quot;match_parent&quot;</span><br><span class="line">                android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line">    &lt;AdapterViewFlipper</span><br><span class="line">        android:id=&quot;@+id/flipper&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot;</span><br><span class="line">        android:flipInterval=&quot;5000&quot;</span><br><span class="line">        android:layout_alignParentTop=&quot;true&quot;/&gt;</span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=&quot;@+id/prev_btn&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_alignParentBottom=&quot;true&quot;</span><br><span class="line">        android:layout_alignParentLeft=&quot;true&quot;</span><br><span class="line">        android:text=&quot;上一个&quot;/&gt;</span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=&quot;@+id/next_btn&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_alignParentBottom=&quot;true&quot;</span><br><span class="line">        android:layout_centerHorizontal=&quot;true&quot;</span><br><span class="line">        android:text=&quot;下一个&quot;/&gt;</span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=&quot;@+id/auto_btn&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_alignParentBottom=&quot;true&quot;</span><br><span class="line">        android:layout_alignParentRight=&quot;true&quot;</span><br><span class="line">        android:text=&quot;自动播放&quot;/&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>

<p>创建一个MyFilpperAdapter类，继承BaseAdapter类，重写其4个主要方法，具体代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">import android.content.Context;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.view.ViewGroup;</span><br><span class="line">import android.widget.BaseAdapter;</span><br><span class="line"></span><br><span class="line">public class MyFilpperAdapter extends BaseAdapter &#123;</span><br><span class="line">    private Context mContext = null;</span><br><span class="line">    private int[] mImageIds = null;</span><br><span class="line"> </span><br><span class="line">    public MyFilpperAdapter(Context context, int[] imageIds) &#123;</span><br><span class="line">        this.mContext = context;</span><br><span class="line">        this.mImageIds = imageIds;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public int getCount() &#123;</span><br><span class="line">        return mImageIds.length;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public Object getItem(int position) &#123;</span><br><span class="line">        return position;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public long getItemId(int position) &#123;</span><br><span class="line">        return position;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 该方法返回的View代表了每个列表项</span><br><span class="line">    @Override</span><br><span class="line">    public View getView(int position, View convertView, ViewGroup parent) &#123;</span><br><span class="line">        ImageView imageView = null;</span><br><span class="line">        if(null == convertView) &#123;</span><br><span class="line">            // 创建一个ImageView</span><br><span class="line">            imageView = new ImageView(mContext);</span><br><span class="line">            // 设置ImageView的缩放类型</span><br><span class="line">            imageView.setScaleType(ImageView.ScaleType.FIT_XY);</span><br><span class="line">            // 为imageView设置布局参数</span><br><span class="line">            imageView.setLayoutParams(new ViewGroup.LayoutParams(</span><br><span class="line">                    ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));</span><br><span class="line">            convertView = imageView;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            imageView = (ImageView) convertView;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        // 给ImageView设置图片资源</span><br><span class="line">        imageView.setImageResource(mImageIds[position]);</span><br><span class="line"> </span><br><span class="line">        return imageView;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来为AdapterViewFilpper提供Adapter，使用自定义的BaseAdapter。新建AdapterViewFilperActivity.java文件，加载上面新建的布局文件，具体代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">import android.os.Bundle;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.widget.AdapterViewFlipper;</span><br><span class="line">import android.widget.Button;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">public class AdapterViewFilperActivity extends AppCompatActivity implements View.OnClickListener &#123;</span><br><span class="line">    private AdapterViewFlipper mFlipper = null;</span><br><span class="line">    private Button mPrevBtn = null;</span><br><span class="line">    private Button mNextBtn = null;</span><br><span class="line">    private Button mAutoBtn = null;</span><br><span class="line">    private int[] mImageIds = &#123;</span><br><span class="line">            R.drawable.image_01,R.drawable.image_02,R.drawable.image_03,</span><br><span class="line">            R.drawable.image_04,R.drawable.image_05,R.drawable.image_06,</span><br><span class="line">            R.drawable.image_07,R.drawable.image_08,R.drawable.image_09</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.adapterview_filpper_layout);</span><br><span class="line"> </span><br><span class="line">        // 获取界面组件</span><br><span class="line">        mFlipper = (AdapterViewFlipper) findViewById(R.id.flipper);</span><br><span class="line">        mPrevBtn = (Button) findViewById(R.id.prev_btn);</span><br><span class="line">        mNextBtn = (Button) findViewById(R.id.next_btn);</span><br><span class="line">        mAutoBtn = (Button) findViewById(R.id.auto_btn);</span><br><span class="line"> </span><br><span class="line">        // 为AdapterViewFlipper设置Adapter</span><br><span class="line">        MyFilpperAdapter adapter = new MyFilpperAdapter(this, mImageIds);</span><br><span class="line">        mFlipper.setAdapter(adapter);</span><br><span class="line"> </span><br><span class="line">        // 为三个按钮设置点击事件监听器</span><br><span class="line">        mPrevBtn.setOnClickListener(this);</span><br><span class="line">        mNextBtn.setOnClickListener(this);</span><br><span class="line">        mAutoBtn.setOnClickListener(this);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public void onClick(View view) &#123;</span><br><span class="line">        switch (view.getId())&#123;</span><br><span class="line">            case R.id.prev_btn:</span><br><span class="line">                // 显示上一个组件</span><br><span class="line">                mFlipper.showPrevious();</span><br><span class="line">                // 停止自动播放</span><br><span class="line">                mFlipper.stopFlipping();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.next_btn:</span><br><span class="line">                // 显示下一个组件。</span><br><span class="line">                mFlipper.showNext();</span><br><span class="line">                // 停止自动播放</span><br><span class="line">                mFlipper.stopFlipping();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.auto_btn:</span><br><span class="line">                // 开始自动播放</span><br><span class="line">                mFlipper.startFlipping();</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面程序代码调用了 AdapterViewFlipper 的 showPrevious()、 showNext()方法来控制该组件显示上一个、下一个组件，并调用了 startFlipping()方法控制自动播放。</p>
<p>单击上一个或下一个按钮可以切换显示的组件，单击自动播放按钮，将可以看到AdapterViewFlipper每隔5秒更换一个图片，切换图片时会使用渐隐渐显效果。</p>
<h3 id="StackView卡片堆叠"><a href="#StackView卡片堆叠" class="headerlink" title="StackView卡片堆叠"></a>StackView卡片堆叠</h3><p>StackView也是AdapterView Animator的子类，它也用于显示Adapter提供的一系列View。 StackView将会以堆叠（Stack）的方式来显示多个列表项。</p>
<p>为了控制StackView显示的View组件，StackView提供了如下两种控制方式。</p>
<ul>
<li><p>拖走StackView中处于顶端的View，下一个View将会显示出来。将上一个View拖进StackView，将使之显示出来。</p>
</li>
<li><p>通过调用StackView的showNext()、showPrevious()控制显示下一个、上一个组件。</p>
</li>
</ul>
<p>stackview_layout.xml文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">              android:orientation=&quot;vertical&quot;</span><br><span class="line">              android:layout_width=&quot;match_parent&quot;</span><br><span class="line">              android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:orientation=&quot;horizontal&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:gravity=&quot;center_horizontal&quot;&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:id=&quot;@+id/prev_btn&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:text=&quot;上一个&quot; /&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:id=&quot;@+id/next_btn&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:text=&quot;下一个&quot; /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line">    &lt;StackView</span><br><span class="line">        android:id=&quot;@+id/stackview&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:loopViews=&quot;true&quot; /&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p>创建一个MyStackAdapter类，继承BaseAdapter类，重写其4个主要方法，具体代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">import android.content.Context;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.view.ViewGroup;</span><br><span class="line">import android.widget.BaseAdapter;</span><br><span class="line">import android.widget.ImageView;</span><br><span class="line"></span><br><span class="line">public class MyStackAdapter extends BaseAdapter &#123;</span><br><span class="line">    private Context mContext = null;</span><br><span class="line">    private int[] mImageIds = null;</span><br><span class="line"> </span><br><span class="line">    public MyStackAdapter(Context context, int[] imageIds) &#123;</span><br><span class="line">        this.mContext = context;</span><br><span class="line">        this.mImageIds = imageIds;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public int getCount() &#123;</span><br><span class="line">        return mImageIds.length;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public Object getItem(int position) &#123;</span><br><span class="line">        return position;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public long getItemId(int position) &#123;</span><br><span class="line">        return position;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 该方法返回的View代表了每个列表项</span><br><span class="line">    @Override</span><br><span class="line">    public View getView(int position, View convertView, ViewGroup parent) &#123;</span><br><span class="line">        ImageView imageView = null;</span><br><span class="line">        if(null == convertView) &#123;</span><br><span class="line">            // 创建一个ImageView</span><br><span class="line">            imageView = new ImageView(mContext);</span><br><span class="line">            // 设置ImageView的缩放类型</span><br><span class="line">            imageView.setScaleType(ImageView.ScaleType.FIT_XY);</span><br><span class="line">            // 为imageView设置布局参数</span><br><span class="line">            imageView.setLayoutParams(new ViewGroup.LayoutParams(</span><br><span class="line">                    ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));</span><br><span class="line">            convertView = imageView;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            imageView = (ImageView) convertView;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        // 给ImageView设置图片资源</span><br><span class="line">        imageView.setImageResource(mImageIds[position]);</span><br><span class="line"> </span><br><span class="line">        return imageView;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来为StackView提供Adapter，使用自定义的BaseAdapter。新建StackViewActivity.java文件，加载上面新建的布局文件，具体代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"> import android.os.Bundle;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.widget.Button;</span><br><span class="line">import android.widget.StackView; </span><br><span class="line">public class StackViewActivity extends AppCompatActivity implements View.OnClickListener &#123;</span><br><span class="line">    private StackView mStackView = null;</span><br><span class="line">    private Button mPrevBtn = null;</span><br><span class="line">    private Button mNextBtn = null;</span><br><span class="line">    private int[] mImageIds = &#123;</span><br><span class="line">            R.drawable.image_01, R.drawable.image_02, R.drawable.image_03, R.drawable.image_04,</span><br><span class="line">            R.drawable.image_05, R.drawable.image_06, R.drawable.image_07, R.drawable.image_08</span><br><span class="line">    &#125;;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.stackview_layout);</span><br><span class="line"> </span><br><span class="line">        // 获取界面组件</span><br><span class="line">        mStackView = (StackView) findViewById(R.id.stackview);</span><br><span class="line">        mPrevBtn = (Button) findViewById(R.id.prev_btn);</span><br><span class="line">        mNextBtn = (Button) findViewById(R.id.next_btn);</span><br><span class="line"> </span><br><span class="line">        // 为AdapterViewFlipper设置Adapter</span><br><span class="line">        MyStackAdapter adapter = new MyStackAdapter(this, mImageIds);</span><br><span class="line">        mStackView.setAdapter(adapter);</span><br><span class="line"> </span><br><span class="line">        // 为三个按钮设置点击事件监听器</span><br><span class="line">        mPrevBtn.setOnClickListener(this);</span><br><span class="line">        mNextBtn.setOnClickListener(this);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public void onClick(View view) &#123;</span><br><span class="line">        switch (view.getId())&#123;</span><br><span class="line">            case R.id.prev_btn:</span><br><span class="line">                // 显示上一个组件</span><br><span class="line">                mStackView.showPrevious();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.next_btn:</span><br><span class="line">                // 显示下一个组件</span><br><span class="line">                mStackView.showNext();</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 点击上一个或下一个按钮时，StackView将会将组件分别显示出来。当拖动StackView的组件时，也可以实现同样的效果。</p>
<h3 id="日历视图CalendarView"><a href="#日历视图CalendarView" class="headerlink" title="日历视图CalendarView"></a>日历视图CalendarView</h3><p> 日历视图（CalendarView）可用于显示和选择日期，用户既可选择一个日期，也可通过触 摸来滚动日历。如果希望监控该组件的日期改变，则可调用CalendarView的 setOnDateChangeListener()方法为此组件的点击事件添加事件监听器。 </p>
<p>用CalendarView时可指定如下表所示的常见XML属性及相关方法</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2019/05/09/5cd439802c56e.jpeg" alt="2.jpeg"></p>
<p>创建calendarview_layout.xml文件:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">                android:layout_width=&quot;match_parent&quot;</span><br><span class="line">                android:layout_height=&quot;match_parent&quot; &gt;</span><br><span class="line">    &lt;CalendarView</span><br><span class="line">        android:id=&quot;@+id/calendarView&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot;</span><br><span class="line">        android:firstDayOfWeek=&quot;3&quot;</span><br><span class="line">        android:shownWeekCount=&quot;4&quot;  /&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>

<p>修改MainActivity里面的代码，加载上述定义的布局文件，然后运行程序.</p>
<h3 id="定时器Chronometer"><a href="#定时器Chronometer" class="headerlink" title="定时器Chronometer"></a>定时器Chronometer</h3><p> Chronometer是一个简单的定时器，可以通过setBase()来给它一个基准时间，并从该时间开始计数；如果不给基准时间，将使用调用start()方法时的时间。默认将显示当前”MM:SS”或 “H:MM:SS”格式的时间，当然也可以自定义字符串来格式化显示。</p>
<p>Chronometer的一个比较重要的XML属性如下：</p>
<ul>
<li>android:format：设置时间的格式如: hh:mm:ss。</li>
</ul>
<p>Chronometer的一些常用方法如下：</p>
<ul>
<li><p>setBase(long base)：设置倒计时定时器。</p>
</li>
<li><p>setFormat(String format)：设置显示时间的格式。</p>
</li>
<li><p>start()：开始计时。</p>
</li>
<li><p>stop()：停止计时。</p>
</li>
</ul>
<p>在使用Chronometer时，如果希望监控该组件的时间，则可调用Chronometer的 setOnChronometerTickListener()方法为此组件的点击事件添加事件监听器。</p>
<p>创建chronnmeter_layout.xml文件:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">              android:layout_width=&quot;match_parent&quot;</span><br><span class="line">              android:layout_height=&quot;match_parent&quot;</span><br><span class="line">              android:orientation=&quot;vertical&quot;</span><br><span class="line">              android:gravity=&quot;center_horizontal&quot;&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:orientation=&quot;horizontal&quot; &gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:onClick=&quot;onStart&quot;</span><br><span class="line">            android:text=&quot;开始计时&quot; /&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:onClick=&quot;onStop&quot;</span><br><span class="line">            android:text=&quot;停止计时&quot; /&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:onClick=&quot;onReset&quot;</span><br><span class="line">            android:text=&quot;重置&quot; /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;Chronometer</span><br><span class="line">        android:id=&quot;@+id/chronometer&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:padding=&quot;15dp&quot;/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p>接下来在Activity中完成Chronometer格式化，并响应用户的操作。新建ChronometerActivity.java文件，加载上面新建的布局文件，初始化DatePicker并获取用户的选择，具体代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">import android.os.Bundle;</span><br><span class="line">import android.os.SystemClock;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.widget.Chronometer;</span><br><span class="line"></span><br><span class="line">public class ChronometerActivity extends AppCompatActivity &#123;</span><br><span class="line">    private Chronometer mChronometer = null;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.chronnmeter_layout);</span><br><span class="line"> </span><br><span class="line">        mChronometer = (Chronometer) findViewById(R.id.chronometer);</span><br><span class="line">        //setFormat设置用于显示的格式化字符串。</span><br><span class="line">        //替换字符串中第一个“%s”为当前&quot;MM:SS&quot;或 &quot;H:MM:SS&quot;格式的时间显示。</span><br><span class="line">        mChronometer.setFormat(&quot;计时：%s&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    // 开始计时</span><br><span class="line">    public void onStart(View view) &#123;</span><br><span class="line">        mChronometer.start();</span><br><span class="line">    &#125;</span><br><span class="line">    // 停止计时</span><br><span class="line">    public void onStop(View view) &#123;</span><br><span class="line">        mChronometer.stop();</span><br><span class="line">    &#125;</span><br><span class="line">    // 重置</span><br><span class="line">    public void onReset(View view) &#123;</span><br><span class="line">        //setBase 设置基准时间</span><br><span class="line">        //设置参数base为SystemClock.elapsedRealtime()即表示从当前时间开始重新计时）。</span><br><span class="line">        mChronometer.setBase(SystemClock.elapsedRealtime());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/cqkxzsxy/article/category/7017381">Android从入门到精通</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">平心</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://pingxin0521.gitee.io/2019/04/30/Android-%E5%9F%BA%E7%A1%80-10/">https://pingxin0521.gitee.io/2019/04/30/Android-%E5%9F%BA%E7%A1%80-10/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://pingxin0521.gitee.io" target="_blank">平心de小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Android/">Android</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/08/PFDRNxj93taz6pw.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/04/30/Android-%E5%9F%BA%E7%A1%80-11/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/7dHvepmfYOLWTrX.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Android  高级控件（一）</div></div></a></div><div class="next-post pull-right"><a href="/2019/04/30/Android-%E5%9F%BA%E7%A1%80-9/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Android 事件处理</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2019/06/03/Android-基础-22/" title="Android  常见错误"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/vCnKyoFJZ1g4XYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-05-16</div><div class="title">Android  常见错误</div></div></a></div><div><a href="/2019/04/27/Android-基础-4/" title="Android 用户界面状态保存"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-02</div><div class="title">Android 用户界面状态保存</div></div></a></div><div><a href="/2019/04/30/Android-基础-13/" title="Android  菜单"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-02</div><div class="title">Android  菜单</div></div></a></div><div><a href="/2019/04/30/Android-基础-11/" title="Android  高级控件（一）"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/7dHvepmfYOLWTrX.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-02</div><div class="title">Android  高级控件（一）</div></div></a></div><div><a href="/2019/04/27/Android-基础-3/" title="Android  Intent和Application"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-07-02</div><div class="title">Android  Intent和Application</div></div></a></div><div><a href="/2019/04/28/Android-基础-5/" title="Android 常用基本控件"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/vCnKyoFJZ1g4XYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-05-08</div><div class="title">Android 常用基本控件</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://s2.ax1x.com/2020/02/11/1ovw6J.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">平心</div><div class="author-info__description">年轻人的life、learn and think</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">449</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">68</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hanyunpeng0521"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/hanyunpeng0521" target="_blank" title="Github"><i class="fa fa-github"></i></a><a class="social-icon" href="mailto:m13839441583@163.com" target="_blank" title="Email"><i class="fa fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">为什么呢？开始提问吧</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#GridView"><span class="toc-number">1.</span> <span class="toc-text">GridView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E6%8B%89%E6%A1%86Spinner"><span class="toc-number">2.</span> <span class="toc-text">下拉框Spinner</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%AE%8C%E6%88%90%E6%96%87%E6%9C%AC%E6%A1%86AutoCompleteTextView"><span class="toc-number">3.</span> <span class="toc-text">自动完成文本框AutoCompleteTextView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E6%8A%98%E5%8F%A0%E5%88%97%E8%A1%A8ExpandableListView"><span class="toc-number">4.</span> <span class="toc-text">可折叠列表ExpandableListView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AdapterViewFlipper%E5%9B%BE%E7%89%87%E8%BD%AE%E6%92%AD"><span class="toc-number">5.</span> <span class="toc-text">AdapterViewFlipper图片轮播</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#StackView%E5%8D%A1%E7%89%87%E5%A0%86%E5%8F%A0"><span class="toc-number">6.</span> <span class="toc-text">StackView卡片堆叠</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%8E%86%E8%A7%86%E5%9B%BECalendarView"><span class="toc-number">7.</span> <span class="toc-text">日历视图CalendarView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8Chronometer"><span class="toc-number">8.</span> <span class="toc-text">定时器Chronometer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%EF%BC%9A"><span class="toc-number">9.</span> <span class="toc-text">参考：</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/15/node-2-4/" title="Egg.js -- 为企业级框架和应用而生"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/okfOw28KlZFbE7z.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Egg.js -- 为企业级框架和应用而生"/></a><div class="content"><a class="title" href="/2021/05/15/node-2-4/" title="Egg.js -- 为企业级框架和应用而生">Egg.js -- 为企业级框架和应用而生</a><time datetime="2021-05-15T10:18:59.000Z" title="发表于 2021-05-15 18:18:59">2021-05-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/30/node-2-3/" title="Koa -- 基于Node.js平台的下一代Web开发框架"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/HjVAdIuT7bZJypS.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Koa -- 基于Node.js平台的下一代Web开发框架"/></a><div class="content"><a class="title" href="/2021/04/30/node-2-3/" title="Koa -- 基于Node.js平台的下一代Web开发框架">Koa -- 基于Node.js平台的下一代Web开发框架</a><time datetime="2021-04-30T10:18:59.000Z" title="发表于 2021-04-30 18:18:59">2021-04-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/01/node-2-1/" title="Node.JS web开发前置知识"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Node.JS web开发前置知识"/></a><div class="content"><a class="title" href="/2021/04/01/node-2-1/" title="Node.JS web开发前置知识">Node.JS web开发前置知识</a><time datetime="2021-04-01T03:18:59.000Z" title="发表于 2021-04-01 11:18:59">2021-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-1/" title="第十一周--谷歌浏览器插件"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/gGE57HRvpcKPfDY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第十一周--谷歌浏览器插件"/></a><div class="content"><a class="title" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-1/" title="第十一周--谷歌浏览器插件">第十一周--谷歌浏览器插件</a><time datetime="2020-12-26T10:18:59.000Z" title="发表于 2020-12-26 18:18:59">2020-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-0/" title="第十一周--浏览器技术"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/05/08/vCnKyoFJZ1g4XYR.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第十一周--浏览器技术"/></a><div class="content"><a class="title" href="/2020/12/26/%E5%91%A8%E8%AE%B0-10-0/" title="第十一周--浏览器技术">第十一周--浏览器技术</a><time datetime="2020-12-26T06:18:59.000Z" title="发表于 2020-12-26 14:18:59">2020-12-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By 平心</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '4lfIXzqxaC1ONs0MJO4oHu07-gzGzoHsz',
      appKey: 'qw99Bw8FD0KVKU9m457CwWsr',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: true,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>